<div class="container">
    <div class="tool-bar hide-print">
        <input (change)="addFile($event)" type="file" class="inputFile" id="xmlFile">
        <label for="xmlFile" [innerHtml]="'File: ' + fileName"></label>
        <input (change)="addImages($event)" type="file" multiple="multiple" class="inputFile" id="imgs">
        <label for="imgs" [innerHtml]="'Images: ' + numberOfImages"></label>
    </div>
    <div *ngIf="dataProcessed">
        
        <imp-report-title
            imgPath="assets/img/logoImperialDekra2.PNG"
            [dims]="[300, 75]"
            title="International vehicle damage inspection "
        ></imp-report-title>
        
        <client-info
            [additionalInfo]="additionalInfo"
            [ownerInfo]="ownerInfo"
            [dealerInfo]="dealerInfo"
            [expertInfo]="expertInfo"
            [vehicleInfo]="vehicleInfo"
        ></client-info>

        <imp-damage-card></imp-damage-card>
        
        <p style="page-break-before: always">
            <table-info
                [sourceData]="materialInfo" 
                [columnPointers]="materialPointers"
                [tableTitle]="materialHeader">
            </table-info>

        <p style="page-break-before: auto;">
            <table-info
                [sourceData]="labourInfo" 
                [columnPointers]="labourPointers"
                [tableTitle]="labourHeader">
            </table-info>
        <p style="page-break-before: auto">
            <table-info
                [sourceData]="lacquerInfo" 
                [columnPointers]="lacquerPointers"
                [tableTitle]="lacquerHeader">
            </table-info>
        </p>

        <p style="page-break-before: always">
            <table-info
                [sourceData]="sparePartSum" 
                [columnPointers]="sparePartPointers"
                [tableTitle]="sparePartHeader"
                [totalPrice]="sparePartTotal">
            </table-info>
            
            <table-info
                [sourceData]="labourSum" 
                [columnPointers]="labourSumPointers"
                [tableTitle]="labourSumHeader"
                [totalPrice]="labourSumTotal">
            </table-info>

            <table-info
                [sourceData]="lacquerSum" 
                [columnPointers]="lacquerSumPointers"
                [tableTitle]="lacquerSumHeader"
                [totalPrice]="lacquerSumTotal">
            </table-info>

            <table-info
                [sourceData]="finalSum" 
                [columnPointers]="finalSumPointers"
                [tableTitle]="finalSumHeader"
                [totalPrice]="finalSumTotal">
            </table-info>
        </p>
    </div>
    <div *ngIf="imgsSelected" >
        <p style="page-break-before: always"></p>
        <div class="img-container">
            <div *ngFor="let image of imgFilePaths" class="img-item">
                <p style="page-break-before: auto; display:none;"></p>
                <img [attr.src]="image" [alt]="image" width="300">
            </div>
        </div>
     </div>
</div>
