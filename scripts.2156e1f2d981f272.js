(function(ee,he){"object"==typeof exports&&"object"==typeof module?module.exports=he():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf",[],he):"object"==typeof exports?exports["pdfjs-dist/build/pdf"]=he():ee["pdfjs-dist/build/pdf"]=ee.pdfjsLib=he()})(this,function(){return(()=>{"use strict";var __webpack_modules__=[,(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.addLinkAttributes=function(w,{url:o,target:h,rel:n,enabled:a=!0}={}){(0,K.assert)(o&&"string"==typeof o,'addLinkAttributes: A valid "url" parameter must provided.');const p=(0,K.removeNullCharacters)(o);a?w.href=w.title=p:(w.href="",w.title=`Disabled: ${p}`,w.onclick=()=>!1);let v="";switch(h){case e.NONE:break;case e.SELF:v="_self";break;case e.BLANK:v="_blank";break;case e.PARENT:v="_parent";break;case e.TOP:v="_top"}w.target=v,w.rel="string"==typeof n?n:ne},ee.deprecated=function(w){console.log("Deprecated API usage: "+w)},ee.getFilenameFromUrl=function(w){const o=w.indexOf("#"),h=w.indexOf("?"),n=Math.min(o>0?o:w.length,h>0?h:w.length);return w.substring(w.lastIndexOf("/",n)+1,n)},ee.getPdfFilenameFromUrl=function(w,o="document.pdf"){if("string"!=typeof w)return o;if(x(w))return(0,K.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),o;const h=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,n=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(w);let a=h.exec(n[1])||h.exec(n[2])||h.exec(n[3]);if(a&&(a=a[0],a.includes("%")))try{a=h.exec(decodeURIComponent(a))[0]}catch{}return a||o},ee.isDataScheme=x,ee.isFetchSupported=L,ee.isPdfFile=function(w){return"string"==typeof w&&/\.pdf$/i.test(w)},ee.isValidFetchUrl=P,ee.loadScript=function(w,o=!1){return new Promise((h,n)=>{const a=document.createElement("script");a.src=w,a.onload=function(p){o&&a.remove(),h(p)},a.onerror=function(){n(new Error(`Cannot load script at: ${a.src}`))},(document.head||document.documentElement).appendChild(a)})},ee.StatTimer=ee.RenderingCancelledException=ee.PDFDateString=ee.PageViewport=ee.LinkTarget=ee.DOMSVGFactory=ee.DOMCMapReaderFactory=ee.DOMCanvasFactory=ee.DEFAULT_LINK_REL=ee.BaseCMapReaderFactory=ee.BaseCanvasFactory=void 0;var K=he(2);const ne="noopener noreferrer nofollow";ee.DEFAULT_LINK_REL=ne;const I="http://www.w3.org/2000/svg";class G{constructor(){this.constructor===G&&(0,K.unreachable)("Cannot initialize BaseCanvasFactory.")}create(w,o){(0,K.unreachable)("Abstract method `create` called.")}reset(w,o,h){if(!w.canvas)throw new Error("Canvas is not specified");if(o<=0||h<=0)throw new Error("Invalid canvas size");w.canvas.width=o,w.canvas.height=h}destroy(w){if(!w.canvas)throw new Error("Canvas is not specified");w.canvas.width=0,w.canvas.height=0,w.canvas=null,w.context=null}}ee.BaseCanvasFactory=G,ee.DOMCanvasFactory=class extends G{constructor({ownerDocument:w=globalThis.document}={}){super(),this._document=w}create(w,o){if(w<=0||o<=0)throw new Error("Invalid canvas size");const h=this._document.createElement("canvas"),n=h.getContext("2d");return h.width=w,h.height=o,{canvas:h,context:n}}};class t{constructor({baseUrl:w=null,isCompressed:o=!1}){this.constructor===t&&(0,K.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=w,this.isCompressed=o}async fetch({name:w}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!w)throw new Error("CMap name must be specified.");const o=this.baseUrl+w+(this.isCompressed?".bcmap":"");return this._fetchData(o,this.isCompressed?K.CMapCompressionType.BINARY:K.CMapCompressionType.NONE).catch(n=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${o}`)})}_fetchData(w,o){(0,K.unreachable)("Abstract method `_fetchData` called.")}}ee.BaseCMapReaderFactory=t,ee.DOMCMapReaderFactory=class extends t{_fetchData(w,o){return L()&&P(w,document.baseURI)?fetch(w).then(async h=>{if(!h.ok)throw new Error(h.statusText);let n;return n=this.isCompressed?new Uint8Array(await h.arrayBuffer()):(0,K.stringToBytes)(await h.text()),{cMapData:n,compressionType:o}}):new Promise((h,n)=>{const a=new XMLHttpRequest;a.open("GET",w,!0),this.isCompressed&&(a.responseType="arraybuffer"),a.onreadystatechange=()=>{if(a.readyState===XMLHttpRequest.DONE){if(200===a.status||0===a.status){let p;if(this.isCompressed&&a.response?p=new Uint8Array(a.response):!this.isCompressed&&a.responseText&&(p=(0,K.stringToBytes)(a.responseText)),p)return void h({cMapData:p,compressionType:o})}n(new Error(a.statusText))}},a.send(null)})}},ee.DOMSVGFactory=class{create(w,o){(0,K.assert)(w>0&&o>0,"Invalid SVG dimensions");const h=document.createElementNS(I,"svg:svg");return h.setAttribute("version","1.1"),h.setAttribute("width",w+"px"),h.setAttribute("height",o+"px"),h.setAttribute("preserveAspectRatio","none"),h.setAttribute("viewBox","0 0 "+w+" "+o),h}createElement(w){return(0,K.assert)("string"==typeof w,"Invalid SVG element type"),document.createElementNS(I,w)}};class F{constructor({viewBox:w,scale:o,rotation:h,offsetX:n=0,offsetY:a=0,dontFlip:p=!1}){this.viewBox=w,this.scale=o,this.rotation=h,this.offsetX=n,this.offsetY=a;const v=(w[2]+w[0])/2,m=(w[3]+w[1])/2;let c,f,y,i,d,S,s,l;switch((h%=360)<0&&(h+=360),h){case 180:c=-1,f=0,y=0,i=1;break;case 90:c=0,f=1,y=1,i=0;break;case 270:c=0,f=-1,y=-1,i=0;break;case 0:c=1,f=0,y=0,i=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}p&&(y=-y,i=-i),0===c?(d=Math.abs(m-w[1])*o+n,S=Math.abs(v-w[0])*o+a,s=Math.abs(w[3]-w[1])*o,l=Math.abs(w[2]-w[0])*o):(d=Math.abs(v-w[0])*o+n,S=Math.abs(m-w[1])*o+a,s=Math.abs(w[2]-w[0])*o,l=Math.abs(w[3]-w[1])*o),this.transform=[c*o,f*o,y*o,i*o,d-c*o*v-y*o*m,S-f*o*v-i*o*m],this.width=s,this.height=l}clone({scale:w=this.scale,rotation:o=this.rotation,offsetX:h=this.offsetX,offsetY:n=this.offsetY,dontFlip:a=!1}={}){return new F({viewBox:this.viewBox.slice(),scale:w,rotation:o,offsetX:h,offsetY:n,dontFlip:a})}convertToViewportPoint(w,o){return K.Util.applyTransform([w,o],this.transform)}convertToViewportRectangle(w){const o=K.Util.applyTransform([w[0],w[1]],this.transform),h=K.Util.applyTransform([w[2],w[3]],this.transform);return[o[0],o[1],h[0],h[1]]}convertToPdfPoint(w,o){return K.Util.applyInverseTransform([w,o],this.transform)}}ee.PageViewport=F,ee.RenderingCancelledException=class R extends K.BaseException{constructor(w,o){super(w),this.type=o}};const e={NONE:0,SELF:1,BLANK:2,PARENT:3,TOP:4};function x(r){const w=r.length;let o=0;for(;o<w&&""===r[o].trim();)o++;return"data:"===r.substring(o,o+5).toLowerCase()}function L(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype&&typeof ReadableStream<"u"}function P(r,w){try{const{protocol:o}=w?new URL(r,w):new URL(r);return"http:"===o||"https:"===o}catch{return!1}}let b;ee.LinkTarget=e,ee.StatTimer=class{constructor(){this.started=Object.create(null),this.times=[]}time(w){w in this.started&&(0,K.warn)(`Timer is already running for ${w}`),this.started[w]=Date.now()}timeEnd(w){w in this.started||(0,K.warn)(`Timer has not been started for ${w}`),this.times.push({name:w,start:this.started[w],end:Date.now()}),delete this.started[w]}toString(){const w=[];let o=0;for(const h of this.times){const n=h.name;n.length>o&&(o=n.length)}for(const h of this.times){const n=h.end-h.start;w.push(`${h.name.padEnd(o)} ${n}ms\n`)}return w.join("")}},ee.PDFDateString=class{static toDateObject(w){if(!w||!(0,K.isString)(w))return null;b||(b=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const o=b.exec(w);if(!o)return null;const h=parseInt(o[1],10);let n=parseInt(o[2],10);n=n>=1&&n<=12?n-1:0;let a=parseInt(o[3],10);a=a>=1&&a<=31?a:1;let p=parseInt(o[4],10);p=p>=0&&p<=23?p:0;let v=parseInt(o[5],10);v=v>=0&&v<=59?v:0;let m=parseInt(o[6],10);m=m>=0&&m<=59?m:0;const c=o[7]||"Z";let f=parseInt(o[8],10);f=f>=0&&f<=23?f:0;let y=parseInt(o[9],10)||0;return y=y>=0&&y<=59?y:0,"-"===c?(p+=f,v+=y):"+"===c&&(p-=f,v-=y),new Date(Date.UTC(h,n,a,p,v,m))}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.arrayByteLength=L,ee.arraysToBytes=function(n){const a=n.length;if(1===a&&n[0]instanceof Uint8Array)return n[0];let p=0;for(let c=0;c<a;c++)p+=L(n[c]);let v=0;const m=new Uint8Array(p);for(let c=0;c<a;c++){let f=n[c];f instanceof Uint8Array||(f="string"==typeof f?x(f):new Uint8Array(f));const y=f.byteLength;m.set(f,v),v+=y}return m},ee.assert=t,ee.bytesToString=function(n){t(null!==n&&"object"==typeof n&&void 0!==n.length,"Invalid argument for bytesToString");const a=n.length,p=8192;if(a<p)return String.fromCharCode.apply(null,n);const v=[];for(let m=0;m<a;m+=p){const c=Math.min(m+p,a),f=n.subarray(m,c);v.push(String.fromCharCode.apply(null,f))}return v.join("")},ee.createObjectURL=function(n,a="",p=!1){if(URL.createObjectURL&&!p)return URL.createObjectURL(new Blob([n],{type:a}));const v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let m=`data:${a};base64,`;for(let c=0,f=n.length;c<f;c+=3){const y=255&n[c],i=255&n[c+1],d=255&n[c+2];m+=v[y>>2]+v[(3&y)<<4|i>>4]+v[c+1<f?(15&i)<<2|d>>6:64]+v[c+2<f?63&d:64]}return m},ee.createPromiseCapability=function(){const n=Object.create(null);let a=!1;return Object.defineProperty(n,"settled",{get:()=>a}),n.promise=new Promise(function(p,v){n.resolve=function(m){a=!0,p(m)},n.reject=function(m){a=!0,v(m)}}),n},ee.createValidAbsoluteUrl=function(n,a){if(!n)return null;try{const p=a?new URL(n,a):new URL(n);if(function(m){if(!m)return!1;switch(m.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(p))return p}catch{}return null},ee.escapeString=function(n){return n.replace(/([()\\\n\r])/g,a=>"\n"===a?"\\n":"\r"===a?"\\r":`\\${a}`)},ee.getModificationDate=function(n=new Date){return[n.getUTCFullYear().toString(),(n.getUTCMonth()+1).toString().padStart(2,"0"),n.getUTCDate().toString().padStart(2,"0"),n.getUTCHours().toString().padStart(2,"0"),n.getUTCMinutes().toString().padStart(2,"0"),n.getUTCSeconds().toString().padStart(2,"0")].join("")},ee.getVerbosityLevel=function(){return ne},ee.info=function(n){ne>=K.INFOS&&console.log(`Info: ${n}`)},ee.isArrayBuffer=function(n){return"object"==typeof n&&null!==n&&void 0!==n.byteLength},ee.isArrayEqual=function(n,a){if(n.length!==a.length)return!1;for(let p=0,v=n.length;p<v;p++)if(n[p]!==a[p])return!1;return!0},ee.isAscii=function(n){return/^[\x00-\x7F]*$/.test(n)},ee.isBool=function(n){return"boolean"==typeof n},ee.isNum=function(n){return"number"==typeof n},ee.isSameOrigin=function(n,a){let p;try{if(p=new URL(n),!p.origin||"null"===p.origin)return!1}catch{return!1}const v=new URL(a,p);return p.origin===v.origin},ee.isString=function(n){return"string"==typeof n},ee.objectFromMap=function(n){const a=Object.create(null);for(const[p,v]of n)a[p]=v;return a},ee.objectSize=function(n){return Object.keys(n).length},ee.removeNullCharacters=function(n){return"string"!=typeof n?(I("The argument for removeNullCharacters must be a string."),n):n.replace(e,"")},ee.setVerbosityLevel=function(n){Number.isInteger(n)&&(ne=n)},ee.shadow=F,ee.string32=function(n){return String.fromCharCode(n>>24&255,n>>16&255,n>>8&255,255&n)},ee.stringToBytes=x,ee.stringToPDFString=function(n){const a=n.length,p=[];if("\xfe"===n[0]&&"\xff"===n[1])for(let v=2;v<a;v+=2)p.push(String.fromCharCode(n.charCodeAt(v)<<8|n.charCodeAt(v+1)));else if("\xff"===n[0]&&"\xfe"===n[1])for(let v=2;v<a;v+=2)p.push(String.fromCharCode(n.charCodeAt(v+1)<<8|n.charCodeAt(v)));else for(let v=0;v<a;++v){const m=o[n.charCodeAt(v)];p.push(m?String.fromCharCode(m):n.charAt(v))}return p.join("")},ee.stringToUTF16BEString=function(n){const a=["\xfe\xff"];for(let p=0,v=n.length;p<v;p++){const m=n.charCodeAt(p);a.push(String.fromCharCode(m>>8&255),String.fromCharCode(255&m))}return a.join("")},ee.stringToUTF8String=function(n){return decodeURIComponent(escape(n))},ee.unreachable=G,ee.utf8StringToString=function(n){return unescape(encodeURIComponent(n))},ee.warn=I,ee.VerbosityLevel=ee.Util=ee.UNSUPPORTED_FEATURES=ee.UnknownErrorException=ee.UnexpectedResponseException=ee.TextRenderingMode=ee.StreamType=ee.PermissionFlag=ee.PasswordResponses=ee.PasswordException=ee.PageActionEventType=ee.OPS=ee.MissingPDFException=ee.IsLittleEndianCached=ee.IsEvalSupportedCached=ee.InvalidPDFException=ee.ImageKind=ee.IDENTITY_MATRIX=ee.FormatError=ee.FontType=ee.FONT_IDENTITY_MATRIX=ee.DocumentActionEventType=ee.CMapCompressionType=ee.BaseException=ee.AnnotationType=ee.AnnotationStateModelType=ee.AnnotationReviewState=ee.AnnotationReplyType=ee.AnnotationMarkedState=ee.AnnotationFlag=ee.AnnotationFieldFlag=ee.AnnotationBorderStyleType=ee.AnnotationActionEventType=ee.AbortException=void 0,he(3),ee.IDENTITY_MATRIX=[1,0,0,1,0,0],ee.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],ee.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},ee.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ee.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},ee.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},ee.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},ee.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},ee.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},ee.AnnotationReplyType={GROUP:"Group",REPLY:"R"},ee.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},ee.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},ee.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},ee.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},ee.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},ee.PageActionEventType={O:"PageOpen",C:"PageClose"},ee.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},ee.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const K={ERRORS:0,WARNINGS:1,INFOS:5};ee.VerbosityLevel=K,ee.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},ee.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},ee.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},ee.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let ne=K.WARNINGS;function I(h){ne>=K.WARNINGS&&console.log(`Warning: ${h}`)}function G(h){throw new Error(h)}function t(h,n){h||G(n)}function F(h,n,a){return Object.defineProperty(h,n,{value:a,enumerable:!0,configurable:!0,writable:!1}),a}const R=function(){function n(a){this.constructor===n&&G("Cannot initialize BaseException."),this.message=a,this.name=this.constructor.name}return n.prototype=new Error,n.constructor=n,n}();ee.BaseException=R,ee.PasswordException=class extends R{constructor(n,a){super(n),this.code=a}},ee.UnknownErrorException=class extends R{constructor(n,a){super(n),this.details=a}},ee.InvalidPDFException=class extends R{},ee.MissingPDFException=class extends R{},ee.UnexpectedResponseException=class extends R{constructor(n,a){super(n),this.status=a}},ee.FormatError=class extends R{},ee.AbortException=class extends R{};const e=/\x00/g;function x(h){t("string"==typeof h,"Invalid argument for stringToBytes");const n=h.length,a=new Uint8Array(n);for(let p=0;p<n;++p)a[p]=255&h.charCodeAt(p);return a}function L(h){return void 0!==h.length?h.length:(t(void 0!==h.byteLength,"arrayByteLength - invalid argument."),h.byteLength)}ee.IsLittleEndianCached={get value(){return F(this,"value",function(){const n=new Uint8Array(4);return n[0]=1,1===new Uint32Array(n.buffer,0,1)[0]}())}},ee.IsEvalSupportedCached={get value(){return F(this,"value",function(){try{return new Function(""),!0}catch{return!1}}())}};const r=[...Array(256).keys()].map(h=>h.toString(16).padStart(2,"0"));class w{static makeHexColor(n,a,p){return`#${r[n]}${r[a]}${r[p]}`}static transform(n,a){return[n[0]*a[0]+n[2]*a[1],n[1]*a[0]+n[3]*a[1],n[0]*a[2]+n[2]*a[3],n[1]*a[2]+n[3]*a[3],n[0]*a[4]+n[2]*a[5]+n[4],n[1]*a[4]+n[3]*a[5]+n[5]]}static applyTransform(n,a){return[n[0]*a[0]+n[1]*a[2]+a[4],n[0]*a[1]+n[1]*a[3]+a[5]]}static applyInverseTransform(n,a){const p=a[0]*a[3]-a[1]*a[2];return[(n[0]*a[3]-n[1]*a[2]+a[2]*a[5]-a[4]*a[3])/p,(-n[0]*a[1]+n[1]*a[0]+a[4]*a[1]-a[5]*a[0])/p]}static getAxialAlignedBoundingBox(n,a){const p=w.applyTransform(n,a),v=w.applyTransform(n.slice(2,4),a),m=w.applyTransform([n[0],n[3]],a),c=w.applyTransform([n[2],n[1]],a);return[Math.min(p[0],v[0],m[0],c[0]),Math.min(p[1],v[1],m[1],c[1]),Math.max(p[0],v[0],m[0],c[0]),Math.max(p[1],v[1],m[1],c[1])]}static inverseTransform(n){const a=n[0]*n[3]-n[1]*n[2];return[n[3]/a,-n[1]/a,-n[2]/a,n[0]/a,(n[2]*n[5]-n[4]*n[3])/a,(n[4]*n[1]-n[5]*n[0])/a]}static apply3dTransform(n,a){return[n[0]*a[0]+n[1]*a[1]+n[2]*a[2],n[3]*a[0]+n[4]*a[1]+n[5]*a[2],n[6]*a[0]+n[7]*a[1]+n[8]*a[2]]}static singularValueDecompose2dScale(n){const a=[n[0],n[2],n[1],n[3]],p=n[0]*a[0]+n[1]*a[2],c=n[2]*a[1]+n[3]*a[3],f=(p+c)/2,y=Math.sqrt((p+c)**2-4*(p*c-(n[2]*a[0]+n[3]*a[2])*(n[0]*a[1]+n[1]*a[3])))/2,d=f-y||1;return[Math.sqrt(f+y||1),Math.sqrt(d)]}static normalizeRect(n){const a=n.slice(0);return n[0]>n[2]&&(a[0]=n[2],a[2]=n[0]),n[1]>n[3]&&(a[1]=n[3],a[3]=n[1]),a}static intersect(n,a){function p(f,y){return f-y}const v=[n[0],n[2],a[0],a[2]].sort(p),m=[n[1],n[3],a[1],a[3]].sort(p),c=[];return n=w.normalizeRect(n),a=w.normalizeRect(a),(v[0]===n[0]&&v[1]===a[0]||v[0]===a[0]&&v[1]===n[0])&&(c[0]=v[1],c[2]=v[2],m[0]===n[1]&&m[1]===a[1]||m[0]===a[1]&&m[1]===n[1])?(c[1]=m[1],c[3]=m[2],c):null}}ee.Util=w;const o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},(De,ee,he)=>{he(4)},(De,ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.isNodeJS=void 0;const he=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);ee.isNodeJS=he},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultCMapReaderFactory=exports.DefaultCanvasFactory=exports.build=void 0;var _util=__w_pdfjs_require__(2),_display_utils=__w_pdfjs_require__(1),_font_loader=__w_pdfjs_require__(6),_node_utils=__w_pdfjs_require__(7),_annotation_storage=__w_pdfjs_require__(8),_api_compatibility=__w_pdfjs_require__(9),_canvas=__w_pdfjs_require__(10),_worker_options=__w_pdfjs_require__(12),_is_node=__w_pdfjs_require__(4),_message_handler=__w_pdfjs_require__(13),_metadata=__w_pdfjs_require__(14),_optional_content_config=__w_pdfjs_require__(15),_transport_stream=__w_pdfjs_require__(16);const DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_is_node.isNodeJS?_node_utils.NodeCanvasFactory:_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;const DefaultCMapReaderFactory=_is_node.isNodeJS?_node_utils.NodeCMapReaderFactory:_display_utils.DOMCMapReaderFactory;let createPDFNetworkStream;function setPDFNetworkStreamFactory(De){createPDFNetworkStream=De}function getDocument(De){const ee=new PDFDocumentLoadingTask;let he;if("string"==typeof De||De instanceof URL)he={url:De};else if((0,_util.isArrayBuffer)(De))he={data:De};else if(De instanceof PDFDataRangeTransport)he={range:De};else{if("object"!=typeof De)throw new Error("Invalid parameter in getDocument, need either string, URL, Uint8Array, or parameter object.");if(!De.url&&!De.data&&!De.range)throw new Error("Invalid parameter object: need either .data, .range or .url");he=De}const K=Object.create(null);let ne=null,I=null;for(const t in he){const F=he[t];switch(t){case"url":if(typeof window<"u")try{K[t]=new URL(F,window.location).href;continue}catch(R){(0,_util.warn)(`Cannot create valid URL: "${R}".`)}else if("string"==typeof F||F instanceof URL){K[t]=F.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":ne=F;continue;case"worker":I=F;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&F instanceof Buffer)K[t]=new Uint8Array(F);else{if(F instanceof Uint8Array)break;if("string"==typeof F)K[t]=(0,_util.stringToBytes)(F);else if("object"!=typeof F||null===F||isNaN(F.length)){if(!(0,_util.isArrayBuffer)(F))throw new Error("Invalid PDF binary data: either typed array, string, or array-like object is expected in the data property.");K[t]=new Uint8Array(F)}else K[t]=new Uint8Array(F)}continue}K[t]=F}if(K.rangeChunkSize=K.rangeChunkSize||DEFAULT_RANGE_CHUNK_SIZE,K.CMapReaderFactory=K.CMapReaderFactory||DefaultCMapReaderFactory,K.ignoreErrors=!0!==K.stopAtErrors,K.fontExtraProperties=!0===K.fontExtraProperties,K.pdfBug=!0===K.pdfBug,K.enableXfa=!0===K.enableXfa,("string"!=typeof K.docBaseUrl||(0,_display_utils.isDataScheme)(K.docBaseUrl))&&(K.docBaseUrl=null),Number.isInteger(K.maxImageSize)||(K.maxImageSize=-1),"boolean"!=typeof K.isEvalSupported&&(K.isEvalSupported=!0),"boolean"!=typeof K.disableFontFace&&(K.disableFontFace=_api_compatibility.apiCompatibilityParams.disableFontFace||!1),void 0===K.ownerDocument&&(K.ownerDocument=globalThis.document),"boolean"!=typeof K.disableRange&&(K.disableRange=!1),"boolean"!=typeof K.disableStream&&(K.disableStream=!1),"boolean"!=typeof K.disableAutoFetch&&(K.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(K.verbosity),!I){const t={verbosity:K.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};I=t.port?PDFWorker.fromPort(t):new PDFWorker(t),ee._worker=I}const G=ee.docId;return I.promise.then(function(){if(ee.destroyed)throw new Error("Loading aborted");const t=_fetchDocument(I,K,ne,G),F=new Promise(function(R){let e;ne?e=new _transport_stream.PDFDataTransportStream({length:K.length,initialData:K.initialData,progressiveDone:K.progressiveDone,contentDispositionFilename:K.contentDispositionFilename,disableRange:K.disableRange,disableStream:K.disableStream},ne):K.data||(e=createPDFNetworkStream({url:K.url,length:K.length,httpHeaders:K.httpHeaders,withCredentials:K.withCredentials,rangeChunkSize:K.rangeChunkSize,disableRange:K.disableRange,disableStream:K.disableStream})),R(e)});return Promise.all([t,F]).then(function([R,e]){if(ee.destroyed)throw new Error("Loading aborted");const x=new _message_handler.MessageHandler(G,R,I.port);x.postMessageTransfers=I.postMessageTransfers;const L=new WorkerTransport(x,ee,e,K);ee._transport=L,x.send("Ready",null)})}).catch(ee._capability.reject),ee}function _fetchDocument(De,ee,he,K){return De.destroyed?Promise.reject(new Error("Worker was destroyed")):(he&&(ee.length=he.length,ee.initialData=he.initialData,ee.progressiveDone=he.progressiveDone,ee.contentDispositionFilename=he.contentDispositionFilename),De.messageHandler.sendWithPromise("GetDocRequest",{docId:K,apiVersion:"2.9.359",source:{data:ee.data,url:ee.url,password:ee.password,disableAutoFetch:ee.disableAutoFetch,rangeChunkSize:ee.rangeChunkSize,length:ee.length},maxImageSize:ee.maxImageSize,disableFontFace:ee.disableFontFace,postMessageTransfers:De.postMessageTransfers,docBaseUrl:ee.docBaseUrl,ignoreErrors:ee.ignoreErrors,isEvalSupported:ee.isEvalSupported,fontExtraProperties:ee.fontExtraProperties,enableXfa:ee.enableXfa}).then(function(ne){if(De.destroyed)throw new Error("Worker was destroyed");return ne}))}exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;const PDFDocumentLoadingTask=function(){let ee=0;return class{constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId="d"+ee++,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}destroy(){return this.destroyed=!0,(this._transport?this._transport.destroy():Promise.resolve()).then(()=>{this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)})}}}();class PDFDataRangeTransport{constructor(ee,he,K=!1,ne=null){this.length=ee,this.initialData=he,this.progressiveDone=K,this.contentDispositionFilename=ne,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(ee){this._rangeListeners.push(ee)}addProgressListener(ee){this._progressListeners.push(ee)}addProgressiveReadListener(ee){this._progressiveReadListeners.push(ee)}addProgressiveDoneListener(ee){this._progressiveDoneListeners.push(ee)}onDataRange(ee,he){for(const K of this._rangeListeners)K(ee,he)}onDataProgress(ee,he){this._readyCapability.promise.then(()=>{for(const K of this._progressListeners)K(ee,he)})}onDataProgressiveRead(ee){this._readyCapability.promise.then(()=>{for(const he of this._progressiveReadListeners)he(ee)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const ee of this._progressiveDoneListeners)ee()})}transportReady(){this._readyCapability.resolve()}requestDataRange(ee,he){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(ee,he){this._pdfInfo=ee,this._transport=he}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprint(){return this._pdfInfo.fingerprint}get isPureXfa(){return this._pdfInfo.isPureXfa}getPage(ee){return this._transport.getPage(ee)}getPageIndex(ee){return this._transport.getPageIndex(ee)}getDestinations(){return this._transport.getDestinations()}getDestination(ee){return this._transport.getDestination(ee)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}getStats(){return this._transport.getStats()}cleanup(ee=!1){return this._transport.startCleanup(ee||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return arguments.length>0&&(0,_display_utils.deprecated)("saveDocument no longer accepts any options."),this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(ee,he,K,ne,I=!1){this._pageIndex=ee,this._pageInfo=he,this._ownerDocument=ne,this._transport=K,this._stats=I?new _display_utils.StatTimer:null,this._pdfBug=I,this.commonObjs=K.commonObjs,this.objs=new PDFObjects,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:ee,rotation:he=this.rotate,offsetX:K=0,offsetY:ne=0,dontFlip:I=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:ee,rotation:he,offsetX:K,offsetY:ne,dontFlip:I})}getAnnotations({intent:ee=null}={}){return(!this._annotationsPromise||this._annotationsIntent!==ee)&&(this._annotationsPromise=this._transport.getAnnotations(this._pageIndex,ee),this._annotationsIntent=ee),this._annotationsPromise}getJSActions(){return this._jsActionsPromise||(this._jsActionsPromise=this._transport.getPageJSActions(this._pageIndex))}getXfa(){return this._xfaPromise||(this._xfaPromise=this._transport.getPageXfa(this._pageIndex))}render({canvasContext:ee,viewport:he,intent:K="display",renderInteractiveForms:ne=!1,transform:I=null,imageLayer:G=null,canvasFactory:t=null,background:F=null,includeAnnotationStorage:R=!1,optionalContentConfigPromise:e=null}){var x;void 0!==arguments[0]?.annotationStorage&&((0,_display_utils.deprecated)("render no longer accepts an `annotationStorage` option, please use the `includeAnnotationStorage`-boolean instead."),R||(R=!!arguments[0].annotationStorage)),this._stats&&this._stats.time("Overall");const L="print"===K?"print":"display";this.pendingCleanup=!1,e||(e=this._transport.getOptionalContentConfig());let P=this._intentStates.get(L);P||(P=Object.create(null),this._intentStates.set(L,P)),P.streamReaderCancelTimeout&&(clearTimeout(P.streamReaderCancelTimeout),P.streamReaderCancelTimeout=null);const b=t||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),r=R?this._transport.annotationStorage.serializable:null;P.displayReadyCapability||(P.displayReadyCapability=(0,_util.createPromiseCapability)(),P.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:L,renderInteractiveForms:!0===ne,annotationStorage:r}));const w=n=>{P.renderTasks.delete(o),(this.cleanupAfterRender||"print"===L)&&(this.pendingCleanup=!0),this._tryCleanup(),n?(o.capability.reject(n),this._abortOperatorList({intentState:P,reason:n})):o.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},o=new InternalRenderTask({callback:w,params:{canvasContext:ee,viewport:he,transform:I,imageLayer:G,background:F},objs:this.objs,commonObjs:this.commonObjs,operatorList:P.operatorList,pageIndex:this._pageIndex,canvasFactory:b,useRequestAnimationFrame:"print"!==L,pdfBug:this._pdfBug});((x=P).renderTasks||(x.renderTasks=new Set)).add(o);const h=o.task;return Promise.all([P.displayReadyCapability.promise,e]).then(([n,a])=>{this.pendingCleanup?w():(this._stats&&this._stats.time("Rendering"),o.initializeGraphics({transparency:n,optionalContentConfig:a}),o.operatorListChanged())}).catch(w),h}getOperatorList(){const ee="oplist";let he,K=this._intentStates.get(ee);var ne;return K||(K=Object.create(null),this._intentStates.set(ee,K)),K.opListReadCapability||(he=Object.create(null),he.operatorListChanged=function(){K.operatorList.lastChunk&&(K.opListReadCapability.resolve(K.operatorList),K.renderTasks.delete(he))},K.opListReadCapability=(0,_util.createPromiseCapability)(),((ne=K).renderTasks||(ne.renderTasks=new Set)).add(he),K.operatorList={fnArray:[],argsArray:[],lastChunk:!1},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList({pageIndex:this._pageIndex,intent:ee})),K.opListReadCapability.promise}streamTextContent({normalizeWhitespace:ee=!1,disableCombineTextItems:he=!1,includeMarkedContent:K=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,normalizeWhitespace:!0===ee,combineTextItems:!0!==he,includeMarkedContent:!0===K},{highWaterMark:100,size:ne=>ne.items.length})}getTextContent(ee={}){const he=this.streamTextContent(ee);return new Promise(function(K,ne){const I=he.getReader(),G={items:[],styles:Object.create(null)};!function t(){I.read().then(function({value:F,done:R}){R?K(G):(Object.assign(G.styles,F.styles),G.items.push(...F.items),t())},ne)}()})}getStructTree(){return this._structTreePromise||(this._structTreePromise=this._transport.getStructTree(this._pageIndex))}_destroy(){this.destroyed=!0,this._transport.pageCache[this._pageIndex]=null;const ee=[];for(const[he,K]of this._intentStates)if(this._abortOperatorList({intentState:K,reason:new Error("Page was destroyed."),force:!0}),"oplist"!==he)for(const ne of K.renderTasks)ee.push(ne.completed),ne.cancel();return this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(ee)}cleanup(ee=!1){return this.pendingCleanup=!0,this._tryCleanup(ee)}_tryCleanup(ee=!1){if(!this.pendingCleanup)return!1;for(const{renderTasks:he,operatorList:K}of this._intentStates.values())if(he.size>0||!K.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),this._annotationsPromise=null,this._jsActionsPromise=null,this._xfaPromise=null,this._structTreePromise=null,ee&&this._stats&&(this._stats=new _display_utils.StatTimer),this.pendingCleanup=!1,!0}_startRenderPage(ee,he){const K=this._intentStates.get(he);K&&(this._stats&&this._stats.timeEnd("Page Request"),K.displayReadyCapability&&K.displayReadyCapability.resolve(ee))}_renderPageChunk(ee,he){for(let K=0,ne=ee.length;K<ne;K++)he.operatorList.fnArray.push(ee.fnArray[K]),he.operatorList.argsArray.push(ee.argsArray[K]);he.operatorList.lastChunk=ee.lastChunk;for(const K of he.renderTasks)K.operatorListChanged();ee.lastChunk&&this._tryCleanup()}_pumpOperatorList(ee){(0,_util.assert)(ee.intent,'PDFPageProxy._pumpOperatorList: Expected "intent" argument.');const he=this._transport.messageHandler.sendWithStream("GetOperatorList",ee).getReader(),K=this._intentStates.get(ee.intent);K.streamReader=he;const ne=()=>{he.read().then(({value:I,done:G})=>{G?K.streamReader=null:this._transport.destroyed||(this._renderPageChunk(I,K),ne())},I=>{if(K.streamReader=null,!this._transport.destroyed){if(K.operatorList){K.operatorList.lastChunk=!0;for(const G of K.renderTasks)G.operatorListChanged();this._tryCleanup()}if(K.displayReadyCapability)K.displayReadyCapability.reject(I);else{if(!K.opListReadCapability)throw I;K.opListReadCapability.reject(I)}}})};ne()}_abortOperatorList({intentState:ee,reason:he,force:K=!1}){if((0,_util.assert)(he instanceof Error||"object"==typeof he&&null!==he,'PDFPageProxy._abortOperatorList: Expected "reason" argument.'),ee.streamReader){if(!K){if(ee.renderTasks.size>0)return;if(he instanceof _display_utils.RenderingCancelledException)return void(ee.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:ee,reason:he,force:!0}),ee.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT))}if(ee.streamReader.cancel(new _util.AbortException(he?.message)),ee.streamReader=null,!this._transport.destroyed){for(const[ne,I]of this._intentStates)if(I===ee){this._intentStates.delete(ne);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve(void 0)}postMessage(ee,he){const K=new WeakMap,ne={data:function I(G){if("object"!=typeof G||null===G)return G;if(K.has(G))return K.get(G);let t,F;if((t=G.buffer)&&(0,_util.isArrayBuffer)(t))return F=he?.includes(t)?new G.constructor(t,G.byteOffset,G.byteLength):new G.constructor(G),K.set(G,F),F;if(G instanceof Map){F=new Map,K.set(G,F);for(const[R,e]of G)F.set(R,I(e));return F}if(G instanceof Set){F=new Set,K.set(G,F);for(const R of G)F.add(I(R));return F}if(G instanceof URL)throw new Error(`LoopbackPort.postMessage - cannot clone: ${G}`);F=Array.isArray(G)?[]:Object.create(null),K.set(G,F);for(const R in G){let e,x=G;for(;!(e=Object.getOwnPropertyDescriptor(x,R));)x=Object.getPrototypeOf(x);if(void 0!==e.value)if("function"!=typeof e.value)F[R]=I(e.value);else if(G.hasOwnProperty?.(R))throw new Error(`LoopbackPort.postMessage - cannot clone: ${G[R]}`)}return F}(ee)};this._deferred.then(()=>{for(const I of this._listeners)I.call(this,ne)})}addEventListener(ee,he){this._listeners.push(he)}removeEventListener(ee,he){const K=this._listeners.indexOf(he);this._listeners.splice(K,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;const PDFWorker=function PDFWorkerClosure(){const pdfWorkerPorts=new WeakMap;let isWorkerDisabled=!1,fallbackWorkerSrc,nextFakeWorkerId=0,fakeWorkerCapability;if(_is_node.isNodeJS&&"function"==typeof require)isWorkerDisabled=!0,fallbackWorkerSrc="./pdf.worker.js";else if("object"==typeof document&&"currentScript"in document){const De=document.currentScript?.src;De&&(fallbackWorkerSrc=De.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}function getWorkerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(void 0!==fallbackWorkerSrc)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}function getMainThreadWorkerMessageHandler(){let De;try{De=globalThis.pdfjsWorker?.WorkerMessageHandler}catch{}return De||null}function setupFakeWorkerGlobal(){if(fakeWorkerCapability)return fakeWorkerCapability.promise;fakeWorkerCapability=(0,_util.createPromiseCapability)();const loader=async function(){const mainWorkerMessageHandler=getMainThreadWorkerMessageHandler();if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&"function"==typeof require){const worker=eval("require")(getWorkerSrc());return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(getWorkerSrc()),window.pdfjsWorker.WorkerMessageHandler};return loader().then(fakeWorkerCapability.resolve,fakeWorkerCapability.reject),fakeWorkerCapability.promise}function createCDNWrapper(De){return URL.createObjectURL(new Blob(["importScripts('"+De+"');"]))}class PDFWorker{constructor({name:ee=null,port:he=null,verbosity:K=(0,_util.getVerbosityLevel)()}={}){if(he&&pdfWorkerPorts.has(he))throw new Error("Cannot use more than one PDFWorker per port");this.name=ee,this.destroyed=!1,this.postMessageTransfers=!0,this.verbosity=K,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,he?(pdfWorkerPorts.set(he,this),this._initializeFromPort(he)):this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(ee){this._port=ee,this._messageHandler=new _message_handler.MessageHandler("main","worker",ee),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(typeof Worker<"u"&&!isWorkerDisabled&&!getMainThreadWorkerMessageHandler()){let ee=getWorkerSrc();try{(0,_util.isSameOrigin)(window.location.href,ee)||(ee=createCDNWrapper(new URL(ee,window.location).href));const he=new Worker(ee),K=new _message_handler.MessageHandler("main","worker",he),ne=()=>{he.removeEventListener("error",I),K.destroy(),he.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},I=()=>{this._webWorker||ne()};he.addEventListener("error",I),K.on("test",t=>{he.removeEventListener("error",I),this.destroyed?ne():t?(this._messageHandler=K,this._port=he,this._webWorker=he,t.supportTransfers||(this.postMessageTransfers=!1),this._readyCapability.resolve(),K.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),K.destroy(),he.terminate())}),K.on("ready",t=>{if(he.removeEventListener("error",I),this.destroyed)ne();else try{G()}catch{this._setupFakeWorker()}});const G=()=>{const t=new Uint8Array([this.postMessageTransfers?255:0]);try{K.send("test",t,[t.buffer])}catch{(0,_util.warn)("Cannot use postMessage transfers."),t[0]=0,K.send("test",t)}};return void G()}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),isWorkerDisabled=!0),setupFakeWorkerGlobal().then(ee=>{if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const he=new LoopbackPort;this._port=he;const K="fake"+nextFakeWorkerId++,ne=new _message_handler.MessageHandler(K+"_worker",K,he);ee.setup(ne,he);const I=new _message_handler.MessageHandler(K,K+"_worker",he);this._messageHandler=I,this._readyCapability.resolve(),I.send("configure",{verbosity:this.verbosity})}).catch(ee=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${ee.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),pdfWorkerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(ee){if(!ee||!ee.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return pdfWorkerPorts.has(ee.port)?pdfWorkerPorts.get(ee.port):new PDFWorker(ee)}static getWorkerSrc(){return getWorkerSrc()}}return PDFWorker}();exports.PDFWorker=PDFWorker;class WorkerTransport{constructor(ee,he,K,ne){this.messageHandler=ee,this.loadingTask=he,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:he.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:ne.ownerDocument}),this._params=ne,this.CMapReaderFactory=new ne.CMapReaderFactory({baseUrl:ne.cMapUrl,isCompressed:ne.cMapPacked}),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=K,this._fullReader=null,this._lastProgress=null,this.pageCache=[],this.pagePromises=[],this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));const ee=[];for(const K of this.pageCache)K&&ee.push(K._destroy());this.pageCache.length=0,this.pagePromises.length=0,this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const he=this.messageHandler.sendWithPromise("Terminate",null);return ee.push(he),Promise.all(ee).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:ee,loadingTask:he}=this;ee.on("GetReader",(K,ne)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=I=>{this._lastProgress={loaded:I.loaded,total:I.total}},ne.onPull=()=>{this._fullReader.read().then(function({value:I,done:G}){G?ne.close():((0,_util.assert)((0,_util.isArrayBuffer)(I),"GetReader - expected an ArrayBuffer."),ne.enqueue(new Uint8Array(I),1,[I]))}).catch(I=>{ne.error(I)})},ne.onCancel=I=>{this._fullReader.cancel(I),ne.ready.catch(G=>{if(!this.destroyed)throw G})}}),ee.on("ReaderHeadersReady",K=>{const ne=(0,_util.createPromiseCapability)(),I=this._fullReader;return I.headersReady.then(()=>{(!I.isStreamingSupported||!I.isRangeSupported)&&(this._lastProgress&&he.onProgress&&he.onProgress(this._lastProgress),I.onProgress=G=>{he.onProgress&&he.onProgress({loaded:G.loaded,total:G.total})}),ne.resolve({isStreamingSupported:I.isStreamingSupported,isRangeSupported:I.isRangeSupported,contentLength:I.contentLength})},ne.reject),ne.promise}),ee.on("GetRangeReader",(K,ne)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const I=this._networkStream.getRangeReader(K.begin,K.end);I?(ne.onPull=()=>{I.read().then(function({value:G,done:t}){t?ne.close():((0,_util.assert)((0,_util.isArrayBuffer)(G),"GetRangeReader - expected an ArrayBuffer."),ne.enqueue(new Uint8Array(G),1,[G]))}).catch(G=>{ne.error(G)})},ne.onCancel=G=>{I.cancel(G),ne.ready.catch(t=>{if(!this.destroyed)throw t})}):ne.close()}),ee.on("GetDoc",({pdfInfo:K})=>{this._numPages=K.numPages,he._capability.resolve(new PDFDocumentProxy(K,this))}),ee.on("DocException",function(K){let ne;switch(K.name){case"PasswordException":ne=new _util.PasswordException(K.message,K.code);break;case"InvalidPDFException":ne=new _util.InvalidPDFException(K.message);break;case"MissingPDFException":ne=new _util.MissingPDFException(K.message);break;case"UnexpectedResponseException":ne=new _util.UnexpectedResponseException(K.message,K.status);break;case"UnknownErrorException":ne=new _util.UnknownErrorException(K.message,K.details)}ne instanceof Error||(0,_util.warn)("DocException - expected a valid Error."),he._capability.reject(ne)}),ee.on("PasswordRequest",K=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),he.onPassword){const ne=I=>{this._passwordCapability.resolve({password:I})};try{he.onPassword(ne,K.code)}catch(I){this._passwordCapability.reject(I)}}else this._passwordCapability.reject(new _util.PasswordException(K.message,K.code));return this._passwordCapability.promise}),ee.on("DataLoaded",K=>{he.onProgress&&he.onProgress({loaded:K.length,total:K.length}),this.downloadInfoCapability.resolve(K)}),ee.on("StartRenderPage",K=>{this.destroyed||this.pageCache[K.pageIndex]._startRenderPage(K.transparency,K.intent)}),ee.on("commonobj",K=>{if(this.destroyed)return;const[ne,I,G]=K;if(!this.commonObjs.has(ne))switch(I){case"Font":const t=this._params;if("error"in G){const e=G.error;(0,_util.warn)(`Error during font loading: ${e}`),this.commonObjs.resolve(ne,e);break}let F=null;t.pdfBug&&globalThis.FontInspector?.enabled&&(F={registerFont(e,x){globalThis.FontInspector.fontAdded(e,x)}});const R=new _font_loader.FontFaceObject(G,{isEvalSupported:t.isEvalSupported,disableFontFace:t.disableFontFace,ignoreErrors:t.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:F});this.fontLoader.bind(R).catch(e=>ee.sendWithPromise("FontFallback",{id:ne})).finally(()=>{!t.fontExtraProperties&&R.data&&(R.data=null),this.commonObjs.resolve(ne,R)});break;case"FontPath":case"Image":this.commonObjs.resolve(ne,G);break;default:throw new Error(`Got unknown common object type ${I}`)}}),ee.on("obj",K=>{if(this.destroyed)return;const[ne,I,G,t]=K,F=this.pageCache[I];if(!F.objs.has(ne)){if("Image"!==G)throw new Error(`Got unknown object type ${G}`);{F.objs.resolve(ne,t);const R=8e6;t?.data?.length>R&&(F.cleanupAfterRender=!0)}}}),ee.on("DocProgress",K=>{this.destroyed||he.onProgress&&he.onProgress({loaded:K.loaded,total:K.total})}),ee.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),ee.on("FetchBuiltInCMap",(K,ne)=>{if(this.destroyed)return void ne.error(new Error("Worker was destroyed"));let I=!1;ne.onPull=()=>{I?ne.close():(I=!0,this.CMapReaderFactory.fetch(K).then(function(G){ne.enqueue(G,1,[G.cMapData.buffer])}).catch(function(G){ne.error(G)}))}})}_onUnsupportedFeature({featureId:ee}){this.destroyed||this.loadingTask.onUnsupportedFeature&&this.loadingTask.onUnsupportedFeature(ee)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(ee){if(!Number.isInteger(ee)||ee<=0||ee>this._numPages)return Promise.reject(new Error("Invalid page request"));const he=ee-1;if(he in this.pagePromises)return this.pagePromises[he];const K=this.messageHandler.sendWithPromise("GetPage",{pageIndex:he}).then(ne=>{if(this.destroyed)throw new Error("Transport destroyed");const I=new PDFPageProxy(he,ne,this,this._params.ownerDocument,this._params.pdfBug);return this.pageCache[he]=I,I});return this.pagePromises[he]=K,K}getPageIndex(ee){return this.messageHandler.sendWithPromise("GetPageIndex",{ref:ee}).catch(function(he){return Promise.reject(new Error(he))})}getAnnotations(ee,he){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:ee,intent:he})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||(this._hasJSActionsPromise=this.messageHandler.sendWithPromise("HasJSActions",null))}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(ee){return"string"!=typeof ee?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:ee})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(ee){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:ee})}getPageXfa(ee){return this.messageHandler.sendWithPromise("GetPageXfa",{pageIndex:ee})}getStructTree(ee){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:ee})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(ee=>new _optional_content_config.OptionalContentConfig(ee))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.messageHandler.sendWithPromise("GetMetadata",null).then(ee=>({info:ee[0],metadata:ee[1]?new _metadata.Metadata(ee[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}getStats(){return this.messageHandler.sendWithPromise("GetStats",null)}async startCleanup(ee=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(let he=0,K=this.pageCache.length;he<K;he++){const ne=this.pageCache[he];if(ne&&!ne.cleanup())throw new Error(`startCleanup: Page ${he+1} is currently rendering.`)}this.commonObjs.clear(),ee||this.fontLoader.clear(),this._hasJSActionsPromise=null}}get loadingParams(){const ee=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:ee.disableAutoFetch,disableFontFace:ee.disableFontFace})}}class PDFObjects{constructor(){this._objs=Object.create(null)}_ensureObj(ee){return this._objs[ee]?this._objs[ee]:this._objs[ee]={capability:(0,_util.createPromiseCapability)(),data:null,resolved:!1}}get(ee,he=null){if(he)return this._ensureObj(ee).capability.promise.then(he),null;const K=this._objs[ee];if(!K||!K.resolved)throw new Error(`Requesting object that isn't resolved yet ${ee}.`);return K.data}has(ee){return this._objs[ee]?.resolved||!1}resolve(ee,he){const K=this._ensureObj(ee);K.resolved=!0,K.data=he,K.capability.resolve(he)}clear(){this._objs=Object.create(null)}}class RenderTask{constructor(ee){this._internalRenderTask=ee,this.onContinue=null}get promise(){return this._internalRenderTask.capability.promise}cancel(){this._internalRenderTask.cancel()}}const InternalRenderTask=function De(){const ee=new WeakSet;return class{constructor({callback:K,params:ne,objs:I,commonObjs:G,operatorList:t,pageIndex:F,canvasFactory:R,useRequestAnimationFrame:e=!1,pdfBug:x=!1}){this.callback=K,this.params=ne,this.objs=I,this.commonObjs=G,this.operatorListIdx=null,this.operatorList=t,this._pageIndex=F,this.canvasFactory=R,this._pdfBug=x,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===e&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=ne.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:K=!1,optionalContentConfig:ne}){if(this.cancelled)return;if(this._canvas){if(ee.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");ee.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:I,viewport:G,transform:t,imageLayer:F,background:R}=this.params;this.gfx=new _canvas.CanvasGraphics(I,this.commonObjs,this.objs,this.canvasFactory,F,ne),this.gfx.beginDrawing({transform:t,viewport:G,transparency:K,background:R}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(K=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&ee.delete(this._canvas),this.callback(K||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){this.graphicsReady?(this.stepper&&this.stepper.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&ee.delete(this._canvas),this.callback())))}}}(),version="2.9.359";exports.version=version;const build="e667c8cbc";exports.build=build},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.FontLoader=ee.FontFaceObject=void 0;var K=he(2);class ne{constructor({docId:t,onUnsupportedFeature:F,ownerDocument:R=globalThis.document}){this.constructor===ne&&(0,K.unreachable)("Cannot initialize BaseFontLoader."),this.docId=t,this._onUnsupportedFeature=F,this._document=R,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(t){this.nativeFontFaces.push(t),this._document.fonts.add(t)}insertRule(t){let F=this.styleElement;F||(F=this.styleElement=this._document.createElement("style"),F.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].appendChild(F));const R=F.sheet;R.insertRule(t,R.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(t){if(t.attached||t.missingFile)return;if(t.attached=!0,this.isFontLoadingAPISupported){const R=t.createNativeFontFace();if(R){this.addNativeFontFace(R);try{await R.loaded}catch(e){throw this._onUnsupportedFeature({featureId:K.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,K.warn)(`Failed to load font '${R.family}': '${e}'.`),t.disableFontFace=!0,e}}return}const F=t.createFontFaceRule();if(F){if(this.insertRule(F),this.isSyncFontLoadingSupported)return;await new Promise(R=>{const e=this._queueLoadingCallback(R);this._prepareFontLoadEvent([F],[t],e)})}}_queueLoadingCallback(t){(0,K.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){return(0,K.shadow)(this,"isFontLoadingAPISupported",!!this._document?.fonts)}get isSyncFontLoadingSupported(){(0,K.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,K.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(t,F,R){(0,K.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let I;ee.FontLoader=I,ee.FontLoader=I=class extends ne{constructor(t){super(t),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let t=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(t=!0),(0,K.shadow)(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){const F=this.loadingContext,R={id:"pdfjs-font-loading-"+F.nextRequestId++,done:!1,complete:function(){for((0,K.assert)(!R.done,"completeRequest() cannot be called twice."),R.done=!0;F.requests.length>0&&F.requests[0].done;){const x=F.requests.shift();setTimeout(x.callback,0)}},callback:t};return F.requests.push(R),R}get _loadTestFont(){return(0,K.shadow)(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(t,F,R){function e(c,f){return c.charCodeAt(f)<<24|c.charCodeAt(f+1)<<16|c.charCodeAt(f+2)<<8|255&c.charCodeAt(f+3)}function x(c,f,y,i){return c.substring(0,f)+i+c.substring(f+y)}let L,P;const b=this._document.createElement("canvas");b.width=1,b.height=1;const r=b.getContext("2d");let w=0;const o=`lt${Date.now()}${this.loadTestFontId++}`;let h=this._loadTestFont;h=x(h,976,o.length,o);const n=1482184792;let a=e(h,16);for(L=0,P=o.length-3;L<P;L+=4)a=a-n+e(o,L)|0;L<o.length&&(a=a-n+e(o+"XXX",L)|0),h=x(h,16,4,(0,K.string32)(a));const p=`@font-face {font-family:"${o}";src:url(data:font/opentype;base64,${btoa(h)});}`;this.insertRule(p);const v=[];for(const c of F)v.push(c.loadedName);v.push(o);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const c of v){const f=this._document.createElement("span");f.textContent="Hi",f.style.fontFamily=c,m.appendChild(f)}this._document.body.appendChild(m),function c(f,y){if(w++,w>30)return(0,K.warn)("Load test font never loaded."),void y();r.font="30px "+f,r.fillText(".",0,20),r.getImageData(0,0,1,1).data[3]>0?y():setTimeout(c.bind(null,f,y))}(o,()=>{this._document.body.removeChild(m),R.complete()})}},ee.FontFaceObject=class{constructor(t,{isEvalSupported:F=!0,disableFontFace:R=!1,ignoreErrors:e=!1,onUnsupportedFeature:x,fontRegistry:L=null}){this.compiledGlyphs=Object.create(null);for(const P in t)this[P]=t[P];this.isEvalSupported=!1!==F,this.disableFontFace=!0===R,this.ignoreErrors=!0===e,this._onUnsupportedFeature=x,this.fontRegistry=L}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const F={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(F.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,F)}else t=new FontFace(this.loadedName,this.data,{});return this.fontRegistry&&this.fontRegistry.registerFont(this),t}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;const t=(0,K.bytesToString)(this.data),F=`url(data:${this.mimetype};base64,${btoa(t)});`;let R;if(this.cssFontInfo){let e=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(e+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),R=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${e}src:${F}}`}else R=`@font-face {font-family:"${this.loadedName}";src:${F}}`;return this.fontRegistry&&this.fontRegistry.registerFont(this,F),R}getPathGenerator(t,F){if(void 0!==this.compiledGlyphs[F])return this.compiledGlyphs[F];let R;try{R=t.get(this.loadedName+"_path_"+F)}catch(e){if(!this.ignoreErrors)throw e;return this._onUnsupportedFeature({featureId:K.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,K.warn)(`getPathGenerator - ignoring character: "${e}".`),this.compiledGlyphs[F]=function(x,L){}}if(this.isEvalSupported&&K.IsEvalSupportedCached.value){const e=[];for(const x of R){const L=void 0!==x.args?x.args.join(","):"";e.push("c.",x.cmd,"(",L,");\n")}return this.compiledGlyphs[F]=new Function("c","size",e.join(""))}return this.compiledGlyphs[F]=function(e,x){for(const L of R)"scale"===L.cmd&&(L.args=[x,-x]),e[L.cmd].apply(e,L.args)}}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.NodeCMapReaderFactory=ee.NodeCanvasFactory=void 0;var K=he(1),ne=he(4),I=he(2);let G=class{constructor(){(0,I.unreachable)("Not implemented: NodeCanvasFactory")}};ee.NodeCanvasFactory=G;let t=class{constructor(){(0,I.unreachable)("Not implemented: NodeCMapReaderFactory")}};ee.NodeCMapReaderFactory=t,ne.isNodeJS&&(ee.NodeCanvasFactory=G=class extends K.BaseCanvasFactory{create(F,R){if(F<=0||R<=0)throw new Error("Invalid canvas size");const e=require("canvas").createCanvas(F,R);return{canvas:e,context:e.getContext("2d")}}},ee.NodeCMapReaderFactory=t=class extends K.BaseCMapReaderFactory{_fetchData(F,R){return new Promise((e,x)=>{require("fs").readFile(F,(L,P)=>{!L&&P?e({cMapData:new Uint8Array(P),compressionType:R}):x(new Error(L))})})}})},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.AnnotationStorage=void 0;var K=he(2);ee.AnnotationStorage=class{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null}getValue(I,G){const t=this._storage.get(I);return void 0!==t?t:G}setValue(I,G){const t=this._storage.get(I);let F=!1;if(void 0!==t)for(const[R,e]of Object.entries(G))t[R]!==e&&(F=!0,t[R]=e);else this._storage.set(I,G),F=!0;F&&this._setModified()}getAll(){return this._storage.size>0?(0,K.objectFromMap)(this._storage):null}get size(){return this._storage.size}_setModified(){this._modified||(this._modified=!0,"function"==typeof this.onSetModified&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,"function"==typeof this.onResetModified&&this.onResetModified())}get serializable(){return this._storage.size>0?this._storage:null}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.apiCompatibilityParams=void 0;var K=he(4);const ne=Object.create(null);K.isNodeJS&&(ne.disableFontFace=!0);const I=Object.freeze(ne);ee.apiCompatibilityParams=I},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.CanvasGraphics=void 0;var K=he(2),ne=he(11);const I=4096,G=16;function t(x){if(!x.mozCurrentTransform){x._originalSave=x.save,x._originalRestore=x.restore,x._originalRotate=x.rotate,x._originalScale=x.scale,x._originalTranslate=x.translate,x._originalTransform=x.transform,x._originalSetTransform=x.setTransform,x._originalResetTransform=x.resetTransform,x._transformMatrix=x._transformMatrix||[1,0,0,1,0,0],x._transformStack=[];try{const L=Object.getOwnPropertyDescriptor(Object.getPrototypeOf(x),"lineWidth");x._setLineWidth=L.set,x._getLineWidth=L.get,Object.defineProperty(x,"lineWidth",{set:function(b){this._setLineWidth(1.000001*b)},get:function(){return this._getLineWidth()}})}catch{}Object.defineProperty(x,"mozCurrentTransform",{get:function(){return this._transformMatrix}}),Object.defineProperty(x,"mozCurrentTransformInverse",{get:function(){const[P,b,r,w,o,h]=this._transformMatrix,n=P*w-b*r,a=b*r-P*w;return[w/n,b/a,r/a,P/n,(w*o-r*h)/a,(b*o-P*h)/n]}}),x.save=function(){const P=this._transformMatrix;this._transformStack.push(P),this._transformMatrix=P.slice(0,6),this._originalSave()},x.restore=function(){const P=this._transformStack.pop();P&&(this._transformMatrix=P,this._originalRestore())},x.translate=function(P,b){const r=this._transformMatrix;r[4]=r[0]*P+r[2]*b+r[4],r[5]=r[1]*P+r[3]*b+r[5],this._originalTranslate(P,b)},x.scale=function(P,b){const r=this._transformMatrix;r[0]=r[0]*P,r[1]=r[1]*P,r[2]=r[2]*b,r[3]=r[3]*b,this._originalScale(P,b)},x.transform=function(P,b,r,w,o,h){const n=this._transformMatrix;this._transformMatrix=[n[0]*P+n[2]*b,n[1]*P+n[3]*b,n[0]*r+n[2]*w,n[1]*r+n[3]*w,n[0]*o+n[2]*h+n[4],n[1]*o+n[3]*h+n[5]],x._originalTransform(P,b,r,w,o,h)},x.setTransform=function(P,b,r,w,o,h){this._transformMatrix=[P,b,r,w,o,h],x._originalSetTransform(P,b,r,w,o,h)},x.resetTransform=function(){this._transformMatrix=[1,0,0,1,0,0],x._originalResetTransform()},x.rotate=function(P){const b=Math.cos(P),r=Math.sin(P),w=this._transformMatrix;this._transformMatrix=[w[0]*b+w[2]*r,w[1]*b+w[3]*r,w[0]*-r+w[2]*b,w[1]*-r+w[3]*b,w[4],w[5]],this._originalRotate(P)}}}class F{constructor(L){this.canvasFactory=L,this.cache=Object.create(null)}getCanvas(L,P,b,r){let w;return void 0!==this.cache[L]?(w=this.cache[L],this.canvasFactory.reset(w,P,b),w.context.setTransform(1,0,0,1,0,0)):(w=this.canvasFactory.create(P,b),this.cache[L]=w),r&&t(w.context),w}clear(){for(const L in this.cache)this.canvasFactory.destroy(this.cache[L]),delete this.cache[L]}}class R{constructor(){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=K.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=K.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=K.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.resumeSMaskCtx=null,this.transferMaps=null}clone(){return Object.create(this)}setCurrentPoint(L,P){this.x=L,this.y=P}}const e=function(){function L(f,y,i=null){if(typeof ImageData<"u"&&y instanceof ImageData)return void f.putImageData(y,0,0);const d=y.height,S=y.width,s=d%G,l=(d-s)/G,A=0===s?l:l+1,k=f.createImageData(S,G);let u,M=0;const O=y.data,C=k.data;let N,X,H,D,j,_,T,U;if(i)switch(i.length){case 1:j=i[0],_=i[0],T=i[0],U=i[0];break;case 4:j=i[0],_=i[1],T=i[2],U=i[3]}if(y.kind===K.ImageKind.GRAYSCALE_1BPP){const q=O.byteLength,E=new Uint32Array(C.buffer,0,C.byteLength>>2),$=E.length,B=S+7>>3;let W=4294967295,V=K.IsLittleEndianCached.value?4278190080:255;for(U&&255===U[0]&&0===U[255]&&([W,V]=[V,W]),N=0;N<A;N++){for(H=N<l?G:s,u=0,X=0;X<H;X++){const J=q-M;let Y=0;const z=J>B?S:8*J-7,Q=-8&z;let re=0,te=0;for(;Y<Q;Y+=8)te=O[M++],E[u++]=128&te?W:V,E[u++]=64&te?W:V,E[u++]=32&te?W:V,E[u++]=16&te?W:V,E[u++]=8&te?W:V,E[u++]=4&te?W:V,E[u++]=2&te?W:V,E[u++]=1&te?W:V;for(;Y<z;Y++)0===re&&(te=O[M++],re=128),E[u++]=te&re?W:V,re>>=1}for(;u<$;)E[u++]=0;f.putImageData(k,0,N*G)}}else if(y.kind===K.ImageKind.RGBA_32BPP){const q=!!(j||_||T);for(X=0,D=S*G*4,N=0;N<l;N++){if(C.set(O.subarray(M,M+D)),M+=D,q)for(let E=0;E<D;E+=4)j&&(C[E+0]=j[C[E+0]]),_&&(C[E+1]=_[C[E+1]]),T&&(C[E+2]=T[C[E+2]]);f.putImageData(k,0,X),X+=G}if(N<A){if(D=S*s*4,C.set(O.subarray(M,M+D)),q)for(let E=0;E<D;E+=4)j&&(C[E+0]=j[C[E+0]]),_&&(C[E+1]=_[C[E+1]]),T&&(C[E+2]=T[C[E+2]]);f.putImageData(k,0,X)}}else{if(y.kind!==K.ImageKind.RGB_24BPP)throw new Error(`bad image kind: ${y.kind}`);{const q=!!(j||_||T);for(H=G,D=S*H,N=0;N<A;N++){for(N>=l&&(H=s,D=S*H),u=0,X=D;X--;)C[u++]=O[M++],C[u++]=O[M++],C[u++]=O[M++],C[u++]=255;if(q)for(let E=0;E<u;E+=4)j&&(C[E+0]=j[C[E+0]]),_&&(C[E+1]=_[C[E+1]]),T&&(C[E+2]=T[C[E+2]]);f.putImageData(k,0,N*G)}}}}function P(f,y){const i=y.height,d=y.width,S=i%G,s=(i-S)/G,l=0===S?s:s+1,A=f.createImageData(d,G);let k=0;const u=y.data,M=A.data;for(let O=0;O<l;O++){const C=O<s?G:S;let N=3;for(let X=0;X<C;X++){let H,D=0;for(let j=0;j<d;j++)D||(H=u[k++],D=128),M[N]=H&D?0:255,N+=4,D>>=1}f.putImageData(A,0,O*G)}}function b(f,y){const i=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let d=0,S=i.length;d<S;d++){const s=i[d];void 0!==f[s]&&(y[s]=f[s])}void 0!==f.setLineDash&&(y.setLineDash(f.getLineDash()),y.lineDashOffset=f.lineDashOffset)}function r(f){f.strokeStyle="#000000",f.fillStyle="#000000",f.fillRule="nonzero",f.globalAlpha=1,f.lineWidth=1,f.lineCap="butt",f.lineJoin="miter",f.miterLimit=10,f.globalCompositeOperation="source-over",f.font="10px sans-serif",void 0!==f.setLineDash&&(f.setLineDash([]),f.lineDashOffset=0)}function w(f,y,i,d){const S=f.length;for(let s=3;s<S;s+=4){const l=f[s];if(0===l)f[s-3]=y,f[s-2]=i,f[s-1]=d;else if(l<255){const A=255-l;f[s-3]=f[s-3]*l+y*A>>8,f[s-2]=f[s-2]*l+i*A>>8,f[s-1]=f[s-1]*l+d*A>>8}}}function o(f,y,i){const d=f.length;for(let S=3;S<d;S+=4)y[S]=y[S]*(i?i[f[S]]:f[S])*.00392156862745098|0}function h(f,y,i){const d=f.length;for(let S=3;S<d;S+=4){const s=77*f[S-3]+152*f[S-2]+28*f[S-1];y[S]=i?y[S]*i[s>>8]>>8:y[S]*s>>16}}function n(f,y,i){const d=y.canvas,S=y.context;f.setTransform(y.scaleX,0,0,y.scaleY,y.offsetX,y.offsetY),function(l,A,k,u,M,O,C){const N=!!O,X=N?O[0]:0,H=N?O[1]:0,D=N?O[2]:0;let j;j="Luminosity"===M?h:o;const _=Math.min(u,Math.ceil(1048576/k));for(let T=0;T<u;T+=_){const U=Math.min(_,u-T),q=l.getImageData(0,T,k,U),E=A.getImageData(0,T,k,U);N&&w(q.data,X,H,D),j(q.data,E.data,C),l.putImageData(E,0,T)}}(S,i,d.width,d.height,y.subtype,y.backdrop,y.transferMap),f.drawImage(d,0,0)}const a=["butt","round","square"],p=["miter","round","bevel"],v={},m={};class c{constructor(y,i,d,S,s,l){this.ctx=y,this.current=new R,this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=i,this.objs=d,this.canvasFactory=S,this.imageLayer=s,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=l,this.cachedCanvases=new F(this.canvasFactory),y&&t(y),this._cachedGetSinglePixelWidth=null}beginDrawing({transform:y,viewport:i,transparency:d=!1,background:S=null}){const s=this.ctx.canvas.width,l=this.ctx.canvas.height;if(this.ctx.save(),this.ctx.fillStyle=S||"rgb(255, 255, 255)",this.ctx.fillRect(0,0,s,l),this.ctx.restore(),d){const A=this.cachedCanvases.getCanvas("transparent",s,l,!0);this.compositeCtx=this.ctx,this.transparentCanvas=A.canvas,this.ctx=A.context,this.ctx.save(),this.ctx.transform.apply(this.ctx,this.compositeCtx.mozCurrentTransform)}this.ctx.save(),r(this.ctx),y&&this.ctx.transform.apply(this.ctx,y),this.ctx.transform.apply(this.ctx,i.transform),this.baseTransform=this.ctx.mozCurrentTransform.slice(),this._combinedScaleFactor=Math.hypot(this.baseTransform[0],this.baseTransform[2]),this.imageLayer&&this.imageLayer.beginLayout()}executeOperatorList(y,i,d,S){const s=y.argsArray,l=y.fnArray;let A=i||0;const k=s.length;if(k===A)return A;const u=k-A>10&&"function"==typeof d,M=u?Date.now()+15:0;let O=0;const C=this.commonObjs,N=this.objs;let X;for(;;){if(void 0!==S&&A===S.nextBreakPoint)return S.breakIt(A,d),A;if(X=l[A],X!==K.OPS.dependency)this[X].apply(this,s[A]);else for(const H of s[A]){const D=H.startsWith("g_")?C:N;if(!D.has(H))return D.get(H,d),A}if(A++,A===k)return A;if(u&&++O>10){if(Date.now()>M)return d(),A;O=0}}}endDrawing(){for(;this.stateStack.length||null!==this.current.activeSMask;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null),this.cachedCanvases.clear(),this.imageLayer&&this.imageLayer.endLayout()}setLineWidth(y){this.current.lineWidth=y,this.ctx.lineWidth=y}setLineCap(y){this.ctx.lineCap=a[y]}setLineJoin(y){this.ctx.lineJoin=p[y]}setMiterLimit(y){this.ctx.miterLimit=y}setDash(y,i){const d=this.ctx;void 0!==d.setLineDash&&(d.setLineDash(y),d.lineDashOffset=i)}setRenderingIntent(y){}setFlatness(y){}setGState(y){for(let i=0,d=y.length;i<d;i++){const S=y[i],l=S[1];switch(S[0]){case"LW":this.setLineWidth(l);break;case"LC":this.setLineCap(l);break;case"LJ":this.setLineJoin(l);break;case"ML":this.setMiterLimit(l);break;case"D":this.setDash(l[0],l[1]);break;case"RI":this.setRenderingIntent(l);break;case"FL":this.setFlatness(l);break;case"Font":this.setFont(l[0],l[1]);break;case"CA":this.current.strokeAlpha=S[1];break;case"ca":this.current.fillAlpha=S[1],this.ctx.globalAlpha=S[1];break;case"BM":this.ctx.globalCompositeOperation=l;break;case"SMask":this.current.activeSMask&&(this.stateStack.length>0&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask?this.suspendSMaskGroup():this.endSMaskGroup()),this.current.activeSMask=l?this.tempSMask:null,this.current.activeSMask&&this.beginSMaskGroup(),this.tempSMask=null;break;case"TR":this.current.transferMaps=l}}}beginSMaskGroup(){const y=this.current.activeSMask,s=this.cachedCanvases.getCanvas("smaskGroupAt"+this.groupLevel,y.canvas.width,y.canvas.height,!0),l=this.ctx,A=l.mozCurrentTransform;this.ctx.save();const k=s.context;k.scale(1/y.scaleX,1/y.scaleY),k.translate(-y.offsetX,-y.offsetY),k.transform.apply(k,A),y.startTransformInverse=k.mozCurrentTransformInverse,b(l,k),this.ctx=k,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(l),this.groupLevel++}suspendSMaskGroup(){const y=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),n(this.ctx,this.current.activeSMask,y),this.ctx.restore(),this.ctx.save(),b(y,this.ctx),this.current.resumeSMaskCtx=y;const i=K.Util.transform(this.current.activeSMask.startTransformInverse,y.mozCurrentTransform);this.ctx.transform.apply(this.ctx,i),y.save(),y.setTransform(1,0,0,1,0,0),y.clearRect(0,0,y.canvas.width,y.canvas.height),y.restore()}resumeSMaskGroup(){const i=this.ctx;this.ctx=this.current.resumeSMaskCtx,this.groupStack.push(i),this.groupLevel++}endSMaskGroup(){const y=this.ctx;this.groupLevel--,this.ctx=this.groupStack.pop(),n(this.ctx,this.current.activeSMask,y),this.ctx.restore(),b(y,this.ctx);const i=K.Util.transform(this.current.activeSMask.startTransformInverse,y.mozCurrentTransform);this.ctx.transform.apply(this.ctx,i)}save(){this.ctx.save();const y=this.current;this.stateStack.push(y),this.current=y.clone(),this.current.resumeSMaskCtx=null}restore(){this.current.resumeSMaskCtx&&this.resumeSMaskGroup(),null===this.current.activeSMask||0!==this.stateStack.length&&this.stateStack[this.stateStack.length-1].activeSMask===this.current.activeSMask||this.endSMaskGroup(),0!==this.stateStack.length?(this.current=this.stateStack.pop(),this.ctx.restore(),this.pendingClip=null,this._cachedGetSinglePixelWidth=null):this.current.activeSMask=null}transform(y,i,d,S,s,l){this.ctx.transform(y,i,d,S,s,l),this._cachedGetSinglePixelWidth=null}constructPath(y,i){const d=this.ctx,S=this.current;let s=S.x,l=S.y;for(let A=0,k=0,u=y.length;A<u;A++)switch(0|y[A]){case K.OPS.rectangle:s=i[k++],l=i[k++];const M=i[k++],O=i[k++],C=s+M,N=l+O;d.moveTo(s,l),0===M||0===O?d.lineTo(C,N):(d.lineTo(C,l),d.lineTo(C,N),d.lineTo(s,N)),d.closePath();break;case K.OPS.moveTo:s=i[k++],l=i[k++],d.moveTo(s,l);break;case K.OPS.lineTo:s=i[k++],l=i[k++],d.lineTo(s,l);break;case K.OPS.curveTo:s=i[k+4],l=i[k+5],d.bezierCurveTo(i[k],i[k+1],i[k+2],i[k+3],s,l),k+=6;break;case K.OPS.curveTo2:d.bezierCurveTo(s,l,i[k],i[k+1],i[k+2],i[k+3]),s=i[k+2],l=i[k+3],k+=4;break;case K.OPS.curveTo3:s=i[k+2],l=i[k+3],d.bezierCurveTo(i[k],i[k+1],s,l,s,l),k+=4;break;case K.OPS.closePath:d.closePath()}S.setCurrentPoint(s,l)}closePath(){this.ctx.closePath()}stroke(y){y=void 0===y||y;const i=this.ctx,d=this.current.strokeColor;if(i.globalAlpha=this.current.strokeAlpha,this.contentVisible)if("object"==typeof d&&d?.getPattern){const S=this.getSinglePixelWidth();i.save(),i.strokeStyle=d.getPattern(i,this),i.lineWidth=Math.max(S,this.current.lineWidth),i.stroke(),i.restore()}else{const S=this.getSinglePixelWidth();S<0&&-S>=this.current.lineWidth?(i.save(),i.resetTransform(),i.lineWidth=Math.round(this._combinedScaleFactor),i.stroke(),i.restore()):(i.lineWidth=Math.max(S,this.current.lineWidth),i.stroke())}y&&this.consumePath(),i.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(y){y=void 0===y||y;const i=this.ctx,d=this.current.fillColor;let S=!1;this.current.patternFill&&(i.save(),i.fillStyle=d.getPattern(i,this),S=!0),this.contentVisible&&(this.pendingEOFill?(i.fill("evenodd"),this.pendingEOFill=!1):i.fill()),S&&i.restore(),y&&this.consumePath()}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=v}eoClip(){this.pendingClip=m}beginText(){this.current.textMatrix=K.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const y=this.pendingTextPaths,i=this.ctx;if(void 0!==y){i.save(),i.beginPath();for(let d=0;d<y.length;d++){const S=y[d];i.setTransform.apply(i,S.transform),i.translate(S.x,S.y),S.addToPath(i,S.fontSize)}i.restore(),i.clip(),i.beginPath(),delete this.pendingTextPaths}else i.beginPath()}setCharSpacing(y){this.current.charSpacing=y}setWordSpacing(y){this.current.wordSpacing=y}setHScale(y){this.current.textHScale=y/100}setLeading(y){this.current.leading=-y}setFont(y,i){const d=this.commonObjs.get(y),S=this.current;if(!d)throw new Error(`Can't find font for ${y}`);if(S.fontMatrix=d.fontMatrix||K.FONT_IDENTITY_MATRIX,0!==S.fontMatrix[0]&&0!==S.fontMatrix[3]||(0,K.warn)("Invalid font matrix for font "+y),i<0?(i=-i,S.fontDirection=-1):S.fontDirection=1,this.current.font=d,this.current.fontSize=i,d.isType3Font)return;let l="normal";d.black?l="900":d.bold&&(l="bold");const A=d.italic?"italic":"normal",k=`"${d.loadedName||"sans-serif"}", ${d.fallbackName}`;let u=i;i<16?u=16:i>100&&(u=100),this.current.fontSizeScale=i/u,this.ctx.font=`${A} ${l} ${u}px ${k}`}setTextRenderingMode(y){this.current.textRenderingMode=y}setTextRise(y){this.current.textRise=y}moveText(y,i){this.current.x=this.current.lineX+=y,this.current.y=this.current.lineY+=i}setLeadingMoveText(y,i){this.setLeading(-i),this.moveText(y,i)}setTextMatrix(y,i,d,S,s,l){this.current.textMatrix=[y,i,d,S,s,l],this.current.textMatrixScale=Math.hypot(y,i),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(y,i,d,S,s){const l=this.ctx,A=this.current,k=A.font,u=A.textRenderingMode,M=A.fontSize/A.fontSizeScale,O=u&K.TextRenderingMode.FILL_STROKE_MASK,C=!!(u&K.TextRenderingMode.ADD_TO_PATH_FLAG),N=A.patternFill&&!k.missingFile;let X;(k.disableFontFace||C||N)&&(X=k.getPathGenerator(this.commonObjs,y)),k.disableFontFace||N?(l.save(),l.translate(i,d),l.beginPath(),X(l,M),S&&l.setTransform.apply(l,S),O!==K.TextRenderingMode.FILL&&O!==K.TextRenderingMode.FILL_STROKE||l.fill(),(O===K.TextRenderingMode.STROKE||O===K.TextRenderingMode.FILL_STROKE)&&(s&&(l.resetTransform(),l.lineWidth=Math.round(this._combinedScaleFactor)),l.stroke()),l.restore()):(O!==K.TextRenderingMode.FILL&&O!==K.TextRenderingMode.FILL_STROKE||l.fillText(y,i,d),(O===K.TextRenderingMode.STROKE||O===K.TextRenderingMode.FILL_STROKE)&&(s?(l.save(),l.moveTo(i,d),l.resetTransform(),l.lineWidth=Math.round(this._combinedScaleFactor),l.strokeText(y,0,0),l.restore()):l.strokeText(y,i,d))),C&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:l.mozCurrentTransform,x:i,y:d,fontSize:M,addToPath:X})}get isFontSubpixelAAEnabled(){const{context:y}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);y.scale(1.5,1),y.fillText("I",0,10);const i=y.getImageData(0,0,10,10).data;let d=!1;for(let S=3;S<i.length;S+=4)if(i[S]>0&&i[S]<255){d=!0;break}return(0,K.shadow)(this,"isFontSubpixelAAEnabled",d)}showText(y){const i=this.current,d=i.font;if(d.isType3Font)return this.showType3Text(y);const S=i.fontSize;if(0===S)return;const s=this.ctx,l=i.fontSizeScale,A=i.charSpacing,k=i.wordSpacing,u=i.fontDirection,M=i.textHScale*u,O=y.length,C=d.vertical,N=C?1:-1,X=d.defaultVMetrics,H=S*i.fontMatrix[0],D=i.textRenderingMode===K.TextRenderingMode.FILL&&!d.disableFontFace&&!i.patternFill;let j;if(s.save(),i.patternFill){s.save();const $=i.fillColor.getPattern(s,this);j=s.mozCurrentTransform,s.restore(),s.fillStyle=$}s.transform.apply(s,i.textMatrix),s.translate(i.x,i.y+i.textRise),s.scale(M,u>0?-1:1);let _=i.lineWidth,T=!1;const U=i.textMatrixScale;if(0===U||0===_){const $=i.textRenderingMode&K.TextRenderingMode.FILL_STROKE_MASK;($===K.TextRenderingMode.STROKE||$===K.TextRenderingMode.FILL_STROKE)&&(this._cachedGetSinglePixelWidth=null,_=this.getSinglePixelWidth(),T=_<0)}else _/=U;1!==l&&(s.scale(l,l),_/=l),s.lineWidth=_;let q,E=0;for(q=0;q<O;++q){const $=y[q];if((0,K.isNum)($)){E+=N*$*S/1e3;continue}let B=!1;const W=($.isSpace?k:0)+A,V=$.fontChar,J=$.accent;let Y,z,Q,re=$.width;if(C){const te=$.vmetric||X,ae=-($.vmetric?te[1]:.5*re)*H;re=te?-te[0]:re,Y=ae/l,z=(E+te[2]*H)/l}else Y=E/l,z=0;if(d.remeasure&&re>0){const te=1e3*s.measureText(V).width/S*l;if(re<te&&this.isFontSubpixelAAEnabled){const ae=re/te;B=!0,s.save(),s.scale(ae,1),Y/=ae}else re!==te&&(Y+=(re-te)/2e3*S/l)}this.contentVisible&&($.isInFont||d.missingFile)&&(D&&!J?s.fillText(V,Y,z):(this.paintChar(V,Y,z,j,T),J&&this.paintChar(J.fontChar,Y+S*J.offset.x/l,z-S*J.offset.y/l,j,T))),Q=C?re*H-W*u:re*H+W*u,E+=Q,B&&s.restore()}C?i.y-=E:i.x+=E*M,s.restore()}showType3Text(y){const i=this.ctx,d=this.current,S=d.font,s=d.fontSize,l=d.fontDirection,A=S.vertical?1:-1,k=d.charSpacing,u=d.wordSpacing,M=d.textHScale*l,O=d.fontMatrix||K.FONT_IDENTITY_MATRIX,C=y.length;let N,X,H,D;if(d.textRenderingMode!==K.TextRenderingMode.INVISIBLE&&0!==s){for(this._cachedGetSinglePixelWidth=null,i.save(),i.transform.apply(i,d.textMatrix),i.translate(d.x,d.y),i.scale(M,l),N=0;N<C;++N){if(X=y[N],(0,K.isNum)(X)){D=A*X*s/1e3,this.ctx.translate(D,0),d.x+=D*M;continue}const j=(X.isSpace?u:0)+k,_=S.charProcOperatorList[X.operatorListId];_?(this.contentVisible&&(this.processingType3=X,this.save(),i.scale(s,s),i.transform.apply(i,O),this.executeOperatorList(_),this.restore()),H=K.Util.applyTransform([X.width,0],O)[0]*s+j,i.translate(H,0),d.x+=H*M):(0,K.warn)(`Type3 character "${X.operatorListId}" is not available.`)}i.restore(),this.processingType3=null}}setCharWidth(y,i){}setCharWidthAndBounds(y,i,d,S,s,l){this.ctx.rect(d,S,s-d,l-S),this.clip(),this.endPath()}getColorN_Pattern(y){let i;if("TilingPattern"===y[0]){const d=y[1],S=this.baseTransform||this.ctx.mozCurrentTransform.slice();i=new ne.TilingPattern(y,d,this.ctx,{createCanvasGraphics:l=>new c(l,this.commonObjs,this.objs,this.canvasFactory)},S)}else i=(0,ne.getShadingPattern)(y);return i}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(y,i,d){const S=K.Util.makeHexColor(y,i,d);this.ctx.strokeStyle=S,this.current.strokeColor=S}setFillRGBColor(y,i,d){const S=K.Util.makeHexColor(y,i,d);this.ctx.fillStyle=S,this.current.fillColor=S,this.current.patternFill=!1}shadingFill(y){if(!this.contentVisible)return;const i=this.ctx;this.save();const d=(0,ne.getShadingPattern)(y);i.fillStyle=d.getPattern(i,this,!0);const S=i.mozCurrentTransformInverse;if(S){const s=i.canvas,l=s.width,A=s.height,k=K.Util.applyTransform([0,0],S),u=K.Util.applyTransform([0,A],S),M=K.Util.applyTransform([l,0],S),O=K.Util.applyTransform([l,A],S),C=Math.min(k[0],u[0],M[0],O[0]),N=Math.min(k[1],u[1],M[1],O[1]),X=Math.max(k[0],u[0],M[0],O[0]),H=Math.max(k[1],u[1],M[1],O[1]);this.ctx.fillRect(C,N,X-C,H-N)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.restore()}beginInlineImage(){(0,K.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,K.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(y,i){this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(y)&&6===y.length&&this.transform.apply(this,y),this.baseTransform=this.ctx.mozCurrentTransform,i)&&(this.ctx.rect(i[0],i[1],i[2]-i[0],i[3]-i[1]),this.clip(),this.endPath())}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(y){if(!this.contentVisible)return;this.save();const i=this.ctx;y.isolated||(0,K.info)("TODO: Support non-isolated groups."),y.knockout&&(0,K.warn)("Knockout groups not supported.");const d=i.mozCurrentTransform;if(y.matrix&&i.transform.apply(i,y.matrix),!y.bbox)throw new Error("Bounding box is required.");let S=K.Util.getAxialAlignedBoundingBox(y.bbox,i.mozCurrentTransform);S=K.Util.intersect(S,[0,0,i.canvas.width,i.canvas.height])||[0,0,0,0];const l=Math.floor(S[0]),A=Math.floor(S[1]);let k=Math.max(Math.ceil(S[2])-l,1),u=Math.max(Math.ceil(S[3])-A,1),M=1,O=1;k>I&&(M=k/I,k=I),u>I&&(O=u/I,u=I);let C="groupAt"+this.groupLevel;y.smask&&(C+="_smask_"+this.smaskCounter++%2);const N=this.cachedCanvases.getCanvas(C,k,u,!0),X=N.context;X.scale(1/M,1/O),X.translate(-l,-A),X.transform.apply(X,d),y.smask?this.smaskStack.push({canvas:N.canvas,context:X,offsetX:l,offsetY:A,scaleX:M,scaleY:O,subtype:y.smask.subtype,backdrop:y.smask.backdrop,transferMap:y.smask.transferMap||null,startTransformInverse:null}):(i.setTransform(1,0,0,1,0,0),i.translate(l,A),i.scale(M,O)),b(i,X),this.ctx=X,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(i),this.groupLevel++,this.current.activeSMask=null}endGroup(y){if(!this.contentVisible)return;this.groupLevel--;const i=this.ctx;this.ctx=this.groupStack.pop(),void 0!==this.ctx.imageSmoothingEnabled?this.ctx.imageSmoothingEnabled=!1:this.ctx.mozImageSmoothingEnabled=!1,y.smask?this.tempSMask=this.smaskStack.pop():this.ctx.drawImage(i.canvas,0,0),this.restore()}beginAnnotations(){this.save(),this.baseTransform&&this.ctx.setTransform.apply(this.ctx,this.baseTransform)}endAnnotations(){this.restore()}beginAnnotation(y,i,d){this.save(),r(this.ctx),this.current=new R,Array.isArray(y)&&4===y.length&&(this.ctx.rect(y[0],y[1],y[2]-y[0],y[3]-y[1]),this.clip(),this.endPath()),this.transform.apply(this,i),this.transform.apply(this,d)}endAnnotation(){this.restore()}paintImageMaskXObject(y){if(!this.contentVisible)return;const i=this.ctx,d=y.width,S=y.height,s=this.current.fillColor,l=this.current.patternFill,A=this.processingType3;if(A&&void 0===A.compiled&&(A.compiled=d<=1e3&&S<=1e3?function(O){const C=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),N=O.width,X=O.height,H=N+1;let D,j,_,T;const U=new Uint8Array(H*(X+1)),q=N+7&-8,E=O.data,$=new Uint8Array(q*X);let B=0;for(D=0,j=E.length;D<j;D++){const Y=E[D];let z=128;for(;z>0;)$[B++]=Y&z?0:255,z>>=1}let W=0;for(B=0,0!==$[B]&&(U[0]=1,++W),_=1;_<N;_++)$[B]!==$[B+1]&&(U[_]=$[B]?2:1,++W),B++;for(0!==$[B]&&(U[_]=2,++W),D=1;D<X;D++){B=D*q,T=D*H,$[B-q]!==$[B]&&(U[T]=$[B]?1:8,++W);let Y=($[B]?4:0)+($[B-q]?8:0);for(_=1;_<N;_++)Y=(Y>>2)+($[B+1]?4:0)+($[B-q+1]?8:0),C[Y]&&(U[T+_]=C[Y],++W),B++;if($[B-q]!==$[B]&&(U[T+_]=$[B]?2:4,++W),W>1e3)return null}for(B=q*(X-1),T=D*H,0!==$[B]&&(U[T]=8,++W),_=1;_<N;_++)$[B]!==$[B+1]&&(U[T+_]=$[B]?4:8,++W),B++;if(0!==$[B]&&(U[T+_]=4,++W),W>1e3)return null;const V=new Int32Array([0,H,-1,0,-H,0,0,0,1]),J=[];for(D=0;W&&D<=X;D++){let Y=D*H;const z=Y+N;for(;Y<z&&!U[Y];)Y++;if(Y===z)continue;const Q=[Y%H,D],re=Y;let te=U[Y];do{const ae=V[te];do{Y+=ae}while(!U[Y]);const se=U[Y];5!==se&&10!==se?(te=se,U[Y]=0):(te=se&51*te>>4,U[Y]&=te>>2|te<<2),Q.push(Y%H,Y/H|0),U[Y]||--W}while(re!==Y);J.push(Q),--D}return function(Y){Y.save(),Y.scale(1/N,-1/X),Y.translate(0,-X),Y.beginPath();for(let z=0,Q=J.length;z<Q;z++){const re=J[z];Y.moveTo(re[0],re[1]);for(let te=2,ae=re.length;te<ae;te+=2)Y.lineTo(re[te],re[te+1])}Y.fill(),Y.beginPath(),Y.restore()}}({data:y.data,width:d,height:S}):null),A?.compiled)return void A.compiled(i);const k=this.cachedCanvases.getCanvas("maskCanvas",d,S),u=k.context;u.save(),P(u,y),u.globalCompositeOperation="source-in",u.fillStyle=l?s.getPattern(u,this):s,u.fillRect(0,0,d,S),u.restore(),this.paintInlineImageXObject(k.canvas)}paintImageMaskXObjectRepeat(y,i,d=0,S=0,s,l){if(!this.contentVisible)return;const A=y.width,k=y.height,u=this.current.fillColor,M=this.current.patternFill,O=this.cachedCanvases.getCanvas("maskCanvas",A,k),C=O.context;C.save(),P(C,y),C.globalCompositeOperation="source-in",C.fillStyle=M?u.getPattern(C,this):u,C.fillRect(0,0,A,k),C.restore();const N=this.ctx;for(let X=0,H=l.length;X<H;X+=2)N.save(),N.transform(i,d,S,s,l[X],l[X+1]),N.scale(1,-1),N.drawImage(O.canvas,0,0,A,k,0,-1,1,1),N.restore()}paintImageMaskXObjectGroup(y){if(!this.contentVisible)return;const i=this.ctx,d=this.current.fillColor,S=this.current.patternFill;for(let s=0,l=y.length;s<l;s++){const A=y[s],k=A.width,u=A.height,M=this.cachedCanvases.getCanvas("maskCanvas",k,u),O=M.context;O.save(),P(O,A),O.globalCompositeOperation="source-in",O.fillStyle=S?d.getPattern(O,this):d,O.fillRect(0,0,k,u),O.restore(),i.save(),i.transform.apply(i,A.transform),i.scale(1,-1),i.drawImage(M.canvas,0,0,k,u,0,-1,1,1),i.restore()}}paintImageXObject(y){if(!this.contentVisible)return;const i=y.startsWith("g_")?this.commonObjs.get(y):this.objs.get(y);i?this.paintInlineImageXObject(i):(0,K.warn)("Dependent image isn't ready yet")}paintImageXObjectRepeat(y,i,d,S){if(!this.contentVisible)return;const s=y.startsWith("g_")?this.commonObjs.get(y):this.objs.get(y);if(!s)return void(0,K.warn)("Dependent image isn't ready yet");const l=s.width,A=s.height,k=[];for(let u=0,M=S.length;u<M;u+=2)k.push({transform:[i,0,0,d,S[u],S[u+1]],x:0,y:0,w:l,h:A});this.paintInlineImageXObjectGroup(s,k)}paintInlineImageXObject(y){if(!this.contentVisible)return;const i=y.width,d=y.height,S=this.ctx;this.save(),S.scale(1/i,-1/d);const s=S.mozCurrentTransformInverse;let l,A,k,u=Math.max(Math.hypot(s[0],s[1]),1),M=Math.max(Math.hypot(s[2],s[3]),1);"function"==typeof HTMLElement&&y instanceof HTMLElement||!y.data?l=y:(A=this.cachedCanvases.getCanvas("inlineImage",i,d),k=A.context,L(k,y,this.current.transferMaps),l=A.canvas);let O=i,C=d,N="prescale1";for(;u>2&&O>1||M>2&&C>1;){let X=O,H=C;u>2&&O>1&&(X=Math.ceil(O/2),u/=O/X),M>2&&C>1&&(H=Math.ceil(C/2),M/=C/H),A=this.cachedCanvases.getCanvas(N,X,H),k=A.context,k.clearRect(0,0,X,H),k.drawImage(l,0,0,O,C,0,0,X,H),l=A.canvas,O=X,C=H,N="prescale1"===N?"prescale2":"prescale1"}if(S.drawImage(l,0,0,O,C,0,-d,i,d),this.imageLayer){const X=this.getCanvasPosition(0,-d);this.imageLayer.appendImage({imgData:y,left:X[0],top:X[1],width:i/s[0],height:d/s[3]})}this.restore()}paintInlineImageXObjectGroup(y,i){if(!this.contentVisible)return;const d=this.ctx,S=y.width,s=y.height,l=this.cachedCanvases.getCanvas("inlineImage",S,s);L(l.context,y,this.current.transferMaps);for(let A=0,k=i.length;A<k;A++){const u=i[A];if(d.save(),d.transform.apply(d,u.transform),d.scale(1,-1),d.drawImage(l.canvas,u.x,u.y,u.w,u.h,0,-1,1,1),this.imageLayer){const M=this.getCanvasPosition(u.x,u.y);this.imageLayer.appendImage({imgData:y,left:M[0],top:M[1],width:S,height:s})}d.restore()}}paintSolidColorImageMask(){this.contentVisible&&this.ctx.fillRect(0,0,1,1)}markPoint(y){}markPointProps(y,i){}beginMarkedContent(y){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(y,i){this.markedContentStack.push("OC"===y?{visible:this.optionalContentConfig.isVisible(i)}:{visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(){const y=this.ctx;this.pendingClip&&(this.pendingClip===m?y.clip("evenodd"):y.clip(),this.pendingClip=null),y.beginPath()}getSinglePixelWidth(){if(null===this._cachedGetSinglePixelWidth){const y=this.ctx.mozCurrentTransform,i=Math.abs(y[0]*y[3]-y[2]*y[1]),d=y[0]**2+y[2]**2,S=y[1]**2+y[3]**2,s=Math.sqrt(Math.max(d,S))/i;this._cachedGetSinglePixelWidth=d!==S&&this._combinedScaleFactor*s>1?-this._combinedScaleFactor*s:i>Number.EPSILON?s:1}return this._cachedGetSinglePixelWidth}getCanvasPosition(y,i){const d=this.ctx.mozCurrentTransform;return[d[0]*y+d[2]*i+d[4],d[1]*y+d[3]*i+d[5]]}isContentVisible(){for(let y=this.markedContentStack.length-1;y>=0;y--)if(!this.markedContentStack[y].visible)return!1;return!0}}for(const f in K.OPS)c.prototype[K.OPS[f]]=c.prototype[f];return c}();ee.CanvasGraphics=e},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.getShadingPattern=function(o){switch(o[0]){case"RadialAxial":return new F(o);case"Mesh":return new x(o);case"Dummy":return new L}throw new Error(`Unknown IR type: ${o[0]}`)},ee.TilingPattern=void 0;var K=he(2);let ne;function I(w){return typeof DOMMatrix<"u"?new DOMMatrix(w):(ne||(ne=document.createElementNS("http://www.w3.org/2000/svg","svg")),ne.createSVGMatrix(w))}function G(w,o){if(!o||typeof Path2D>"u")return;const h=o[2]-o[0],n=o[3]-o[1],a=new Path2D;a.rect(o[0],o[1],h,n),w.clip(a)}class t{constructor(){this.constructor===t&&(0,K.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,K.unreachable)("Abstract method `getPattern` called.")}}class F extends t{constructor(o){super(),this._type=o[1],this._bbox=o[2],this._colorStops=o[3],this._p0=o[4],this._p1=o[5],this._r0=o[6],this._r1=o[7],this._matrix=o[8]}getPattern(o,h,n){const a=h.cachedCanvases.getCanvas("pattern",o.canvas.width,o.canvas.height,!0),p=a.context;let v;p.clearRect(0,0,p.canvas.width,p.canvas.height),p.beginPath(),p.rect(0,0,p.canvas.width,p.canvas.height),n?p.setTransform.apply(p,o.mozCurrentTransform):(p.setTransform.apply(p,h.baseTransform),this._matrix&&p.transform.apply(p,this._matrix)),G(p,this._bbox),"axial"===this._type?v=p.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(v=p.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const c of this._colorStops)v.addColorStop(c[0],c[1]);p.fillStyle=v,p.fill();const m=o.createPattern(a.canvas,"repeat");return m.setTransform(I(o.mozCurrentTransformInverse)),m}}function R(w,o,h,n,a,p,v,m){const c=o.coords,f=o.colors,y=w.data,i=4*w.width;let d;c[h+1]>c[n+1]&&(d=h,h=n,n=d,d=p,p=v,v=d),c[n+1]>c[a+1]&&(d=n,n=a,a=d,d=v,v=m,m=d),c[h+1]>c[n+1]&&(d=h,h=n,n=d,d=p,p=v,v=d);const S=(c[h]+o.offsetX)*o.scaleX,s=(c[h+1]+o.offsetY)*o.scaleY,l=(c[n]+o.offsetX)*o.scaleX,A=(c[n+1]+o.offsetY)*o.scaleY,k=(c[a]+o.offsetX)*o.scaleX,u=(c[a+1]+o.offsetY)*o.scaleY;if(s>=u)return;const M=f[p],O=f[p+1],C=f[p+2],N=f[v],X=f[v+1],H=f[v+2],D=f[m],j=f[m+1],_=f[m+2],T=Math.round(s),U=Math.round(u);let q,E,$,B,W,V,J,Y;for(let z=T;z<=U;z++){if(z<A){let se;se=z<s?0:s===A?1:(s-z)/(s-A),q=S-(S-l)*se,E=M-(M-N)*se,$=O-(O-X)*se,B=C-(C-H)*se}else{let se;se=z>u?1:A===u?0:(A-z)/(A-u),q=l-(l-k)*se,E=N-(N-D)*se,$=X-(X-j)*se,B=H-(H-_)*se}let Q;Q=z<s?0:z>u?1:(s-z)/(s-u),W=S-(S-k)*Q,V=M-(M-D)*Q,J=O-(O-j)*Q,Y=C-(C-_)*Q;const re=Math.round(Math.min(q,W)),te=Math.round(Math.max(q,W));let ae=i*z+4*re;for(let se=re;se<=te;se++)Q=(q-se)/(q-W),Q<0?Q=0:Q>1&&(Q=1),y[ae++]=E-(E-V)*Q|0,y[ae++]=$-($-J)*Q|0,y[ae++]=B-(B-Y)*Q|0,y[ae++]=255}}function e(w,o,h){const n=o.coords,a=o.colors;let p,v;switch(o.type){case"lattice":const m=o.verticesPerRow,c=Math.floor(n.length/m)-1,f=m-1;for(p=0;p<c;p++){let y=p*m;for(let i=0;i<f;i++,y++)R(w,h,n[y],n[y+1],n[y+m],a[y],a[y+1],a[y+m]),R(w,h,n[y+m+1],n[y+1],n[y+m],a[y+m+1],a[y+1],a[y+m])}break;case"triangles":for(p=0,v=n.length;p<v;p+=3)R(w,h,n[p],n[p+1],n[p+2],a[p],a[p+1],a[p+2]);break;default:throw new Error("illegal figure")}}class x extends t{constructor(o){super(),this._coords=o[2],this._colors=o[3],this._figures=o[4],this._bounds=o[5],this._matrix=o[6],this._bbox=o[7],this._background=o[8]}_createMeshCanvas(o,h,n){const a=Math.floor(this._bounds[0]),p=Math.floor(this._bounds[1]),v=Math.ceil(this._bounds[2])-a,m=Math.ceil(this._bounds[3])-p,c=Math.min(Math.ceil(Math.abs(v*o[0]*1.1)),3e3),f=Math.min(Math.ceil(Math.abs(m*o[1]*1.1)),3e3),y=v/c,i=m/f,d={coords:this._coords,colors:this._colors,offsetX:-a,offsetY:-p,scaleX:1/y,scaleY:1/i},l=n.getCanvas("mesh",c+4,f+4,!1),A=l.context,k=A.createImageData(c,f);if(h){const u=k.data;for(let M=0,O=u.length;M<O;M+=4)u[M]=h[0],u[M+1]=h[1],u[M+2]=h[2],u[M+3]=255}for(const u of this._figures)e(k,u,d);return A.putImageData(k,2,2),{canvas:l.canvas,offsetX:a-2*y,offsetY:p-2*i,scaleX:y,scaleY:i}}getPattern(o,h,n){let a;if(G(o,this._bbox),n)a=K.Util.singularValueDecompose2dScale(o.mozCurrentTransform);else if(a=K.Util.singularValueDecompose2dScale(h.baseTransform),this._matrix){const v=K.Util.singularValueDecompose2dScale(this._matrix);a=[a[0]*v[0],a[1]*v[1]]}const p=this._createMeshCanvas(a,n?null:this._background,h.cachedCanvases);return n||(o.setTransform.apply(o,h.baseTransform),this._matrix&&o.transform.apply(o,this._matrix)),o.translate(p.offsetX,p.offsetY),o.scale(p.scaleX,p.scaleY),o.createPattern(p.canvas,"no-repeat")}}class L extends t{getPattern(){return"hotpink"}}class r{static get MAX_PATTERN_SIZE(){return(0,K.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(o,h,n,a,p){this.operatorList=o[2],this.matrix=o[3]||[1,0,0,1,0,0],this.bbox=o[4],this.xstep=o[5],this.ystep=o[6],this.paintType=o[7],this.tilingType=o[8],this.color=h,this.ctx=n,this.canvasGraphicsFactory=a,this.baseTransform=p}createPatternCanvas(o){const h=this.operatorList,n=this.bbox,a=this.xstep,p=this.ystep,v=this.paintType,c=this.color,f=this.canvasGraphicsFactory;(0,K.info)("TilingType: "+this.tilingType);const y=n[0],i=n[1],d=n[2],S=n[3],s=K.Util.singularValueDecompose2dScale(this.matrix),l=K.Util.singularValueDecompose2dScale(this.baseTransform),A=[s[0]*l[0],s[1]*l[1]],k=this.getSizeAndScale(a,this.ctx.canvas.width,A[0]),u=this.getSizeAndScale(p,this.ctx.canvas.height,A[1]),M=o.cachedCanvases.getCanvas("pattern",k.size,u.size,!0),C=f.createCanvasGraphics(M.context);return C.groupLevel=o.groupLevel,this.setFillAndStrokeStyleToContext(C,v,c),C.transform(k.scale,0,0,u.scale,0,0),this.clipBbox(C,n,y,i,d,S),C.baseTransform=C.ctx.mozCurrentTransform.slice(),C.executeOperatorList(h),C.endDrawing(),{canvas:M.canvas,scaleX:k.scale,scaleY:u.scale}}getSizeAndScale(o,h,n){o=Math.abs(o);const a=Math.max(r.MAX_PATTERN_SIZE,h);let p=Math.ceil(o*n);return p>=a?p=a:n=p/o,{scale:n,size:p}}clipBbox(o,h,n,a,p,v){Array.isArray(h)&&4===h.length&&(o.ctx.rect(n,a,p-n,v-a),o.clip(),o.endPath())}setFillAndStrokeStyleToContext(o,h,n){const a=o.ctx,p=o.current;switch(h){case 1:const v=this.ctx;a.fillStyle=v.fillStyle,a.strokeStyle=v.strokeStyle,p.fillColor=v.fillStyle,p.strokeColor=v.strokeStyle;break;case 2:const m=K.Util.makeHexColor(n[0],n[1],n[2]);a.fillStyle=m,a.strokeStyle=m,p.fillColor=m,p.strokeColor=m;break;default:throw new K.FormatError(`Unsupported paint type: ${h}`)}}getPattern(o,h,n){let a=(o=this.ctx).mozCurrentTransformInverse;n||(a=K.Util.transform(a,h.baseTransform),this.matrix&&(a=K.Util.transform(a,this.matrix)));const p=this.createPatternCanvas(h);let v=I(a);v=v.scale(1/p.scaleX,1/p.scaleY);const m=o.createPattern(p.canvas,"repeat");return m.setTransform(v),m}}ee.TilingPattern=r},(De,ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.GlobalWorkerOptions=void 0;const he=Object.create(null);ee.GlobalWorkerOptions=he,he.workerPort=void 0===he.workerPort?null:he.workerPort,he.workerSrc=void 0===he.workerSrc?"":he.workerSrc},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.MessageHandler=void 0;var K=he(2);function b(r){if("object"!=typeof r||null===r)return r;switch(r.name){case"AbortException":return new K.AbortException(r.message);case"MissingPDFException":return new K.MissingPDFException(r.message);case"UnexpectedResponseException":return new K.UnexpectedResponseException(r.message,r.status);case"UnknownErrorException":return new K.UnknownErrorException(r.message,r.details);default:return new K.UnknownErrorException(r.message,r.toString())}}ee.MessageHandler=class{constructor(w,o,h){this.sourceName=w,this.targetName=o,this.comObj=h,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=n=>{const a=n.data;if(a.targetName!==this.sourceName)return;if(a.stream)return void this._processStreamMessage(a);if(a.callback){const v=a.callbackId,m=this.callbackCapabilities[v];if(!m)throw new Error(`Cannot resolve callback ${v}`);if(delete this.callbackCapabilities[v],1===a.callback)m.resolve(a.data);else{if(2!==a.callback)throw new Error("Unexpected callback case");m.reject(b(a.reason))}return}const p=this.actionHandler[a.action];if(!p)throw new Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){const v=this.sourceName,m=a.sourceName;new Promise(function(c){c(p(a.data))}).then(function(c){h.postMessage({sourceName:v,targetName:m,callback:1,callbackId:a.callbackId,data:c})},function(c){h.postMessage({sourceName:v,targetName:m,callback:2,callbackId:a.callbackId,reason:b(c)})})}else a.streamId?this._createStreamSink(a):p(a.data)},h.addEventListener("message",this._onComObjOnMessage)}on(w,o){const h=this.actionHandler;if(h[w])throw new Error(`There is already an actionName called "${w}"`);h[w]=o}send(w,o,h){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:w,data:o},h)}sendWithPromise(w,o,h){const n=this.callbackId++,a=(0,K.createPromiseCapability)();this.callbackCapabilities[n]=a;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:w,callbackId:n,data:o},h)}catch(p){a.reject(p)}return a.promise}sendWithStream(w,o,h,n){const a=this.streamId++,p=this.sourceName,v=this.targetName,m=this.comObj;return new ReadableStream({start:c=>{const f=(0,K.createPromiseCapability)();return this.streamControllers[a]={controller:c,startCall:f,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:p,targetName:v,action:w,streamId:a,data:o,desiredSize:c.desiredSize},n),f.promise},pull:c=>{const f=(0,K.createPromiseCapability)();return this.streamControllers[a].pullCall=f,m.postMessage({sourceName:p,targetName:v,stream:6,streamId:a,desiredSize:c.desiredSize}),f.promise},cancel:c=>{(0,K.assert)(c instanceof Error,"cancel must have a valid reason");const f=(0,K.createPromiseCapability)();return this.streamControllers[a].cancelCall=f,this.streamControllers[a].isClosed=!0,m.postMessage({sourceName:p,targetName:v,stream:1,streamId:a,reason:b(c)}),f.promise}},h)}_createStreamSink(w){const o=this,h=this.actionHandler[w.action],n=w.streamId,a=this.sourceName,p=w.sourceName,v=this.comObj,m={enqueue(c,f=1,y){if(this.isCancelled)return;const i=this.desiredSize;this.desiredSize-=f,i>0&&this.desiredSize<=0&&(this.sinkCapability=(0,K.createPromiseCapability)(),this.ready=this.sinkCapability.promise),o._postMessage({sourceName:a,targetName:p,stream:4,streamId:n,chunk:c},y)},close(){this.isCancelled||(this.isCancelled=!0,v.postMessage({sourceName:a,targetName:p,stream:3,streamId:n}),delete o.streamSinks[n])},error(c){(0,K.assert)(c instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,v.postMessage({sourceName:a,targetName:p,stream:5,streamId:n,reason:b(c)}))},sinkCapability:(0,K.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:w.desiredSize,ready:null};m.sinkCapability.resolve(),m.ready=m.sinkCapability.promise,this.streamSinks[n]=m,new Promise(function(c){c(h(w.data,m))}).then(function(){v.postMessage({sourceName:a,targetName:p,stream:8,streamId:n,success:!0})},function(c){v.postMessage({sourceName:a,targetName:p,stream:8,streamId:n,reason:b(c)})})}_processStreamMessage(w){const o=w.streamId,h=this.sourceName,n=w.sourceName,a=this.comObj;switch(w.stream){case 8:w.success?this.streamControllers[o].startCall.resolve():this.streamControllers[o].startCall.reject(b(w.reason));break;case 7:w.success?this.streamControllers[o].pullCall.resolve():this.streamControllers[o].pullCall.reject(b(w.reason));break;case 6:if(!this.streamSinks[o]){a.postMessage({sourceName:h,targetName:n,stream:7,streamId:o,success:!0});break}this.streamSinks[o].desiredSize<=0&&w.desiredSize>0&&this.streamSinks[o].sinkCapability.resolve(),this.streamSinks[o].desiredSize=w.desiredSize;const{onPull:p}=this.streamSinks[w.streamId];new Promise(function(m){m(p&&p())}).then(function(){a.postMessage({sourceName:h,targetName:n,stream:7,streamId:o,success:!0})},function(m){a.postMessage({sourceName:h,targetName:n,stream:7,streamId:o,reason:b(m)})});break;case 4:if((0,K.assert)(this.streamControllers[o],"enqueue should have stream controller"),this.streamControllers[o].isClosed)break;this.streamControllers[o].controller.enqueue(w.chunk);break;case 3:if((0,K.assert)(this.streamControllers[o],"close should have stream controller"),this.streamControllers[o].isClosed)break;this.streamControllers[o].isClosed=!0,this.streamControllers[o].controller.close(),this._deleteStreamController(o);break;case 5:(0,K.assert)(this.streamControllers[o],"error should have stream controller"),this.streamControllers[o].controller.error(b(w.reason)),this._deleteStreamController(o);break;case 2:w.success?this.streamControllers[o].cancelCall.resolve():this.streamControllers[o].cancelCall.reject(b(w.reason)),this._deleteStreamController(o);break;case 1:if(!this.streamSinks[o])break;const{onCancel:v}=this.streamSinks[w.streamId];new Promise(function(m){m(v&&v(b(w.reason)))}).then(function(){a.postMessage({sourceName:h,targetName:n,stream:2,streamId:o,success:!0})},function(m){a.postMessage({sourceName:h,targetName:n,stream:2,streamId:o,reason:b(m)})}),this.streamSinks[o].sinkCapability.reject(b(w.reason)),this.streamSinks[o].isCancelled=!0,delete this.streamSinks[o];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(w){await Promise.allSettled([this.streamControllers[w].startCall,this.streamControllers[w].pullCall,this.streamControllers[w].cancelCall].map(function(o){return o&&o.promise})),delete this.streamControllers[w]}_postMessage(w,o){o&&this.postMessageTransfers?this.comObj.postMessage(w,o):this.comObj.postMessage(w)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.Metadata=void 0;var K=he(2);ee.Metadata=class{constructor({parsedData:I,rawData:G}){this._metadataMap=I,this._data=G}getRaw(){return this._data}get(I){return this._metadataMap.get(I)??null}getAll(){return(0,K.objectFromMap)(this._metadataMap)}has(I){return this._metadataMap.has(I)}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.OptionalContentConfig=void 0;var K=he(2);class ne{constructor(G,t){this.visible=!0,this.name=G,this.intent=t}}ee.OptionalContentConfig=class{constructor(G){if(this.name=null,this.creator=null,this._order=null,this._groups=new Map,null!==G){this.name=G.name,this.creator=G.creator,this._order=G.order;for(const t of G.groups)this._groups.set(t.id,new ne(t.name,t.intent));if("OFF"===G.baseState)for(const t of this._groups)t.visible=!1;for(const t of G.on)this._groups.get(t).visible=!0;for(const t of G.off)this._groups.get(t).visible=!1}}_evaluateVisibilityExpression(G){const t=G.length;if(t<2)return!0;const F=G[0];for(let R=1;R<t;R++){const e=G[R];let x;if(Array.isArray(e))x=this._evaluateVisibilityExpression(e);else{if(!this._groups.has(e))return(0,K.warn)(`Optional content group not found: ${e}`),!0;x=this._groups.get(e).visible}switch(F){case"And":if(!x)return!1;break;case"Or":if(x)return!0;break;case"Not":return!x;default:return!0}}return"And"===F}isVisible(G){if("OCG"===G.type)return this._groups.has(G.id)?this._groups.get(G.id).visible:((0,K.warn)(`Optional content group not found: ${G.id}`),!0);if("OCMD"===G.type){if(G.expression)return this._evaluateVisibilityExpression(G.expression);if(!G.policy||"AnyOn"===G.policy){for(const t of G.ids){if(!this._groups.has(t))return(0,K.warn)(`Optional content group not found: ${t}`),!0;if(this._groups.get(t).visible)return!0}return!1}if("AllOn"===G.policy){for(const t of G.ids){if(!this._groups.has(t))return(0,K.warn)(`Optional content group not found: ${t}`),!0;if(!this._groups.get(t).visible)return!1}return!0}if("AnyOff"===G.policy){for(const t of G.ids){if(!this._groups.has(t))return(0,K.warn)(`Optional content group not found: ${t}`),!0;if(!this._groups.get(t).visible)return!0}return!1}if("AllOff"===G.policy){for(const t of G.ids){if(!this._groups.has(t))return(0,K.warn)(`Optional content group not found: ${t}`),!0;if(this._groups.get(t).visible)return!1}return!0}return(0,K.warn)(`Unknown optional content policy ${G.policy}.`),!0}return(0,K.warn)(`Unknown group type ${G.type}.`),!0}setVisibility(G,t=!0){this._groups.has(G)?this._groups.get(G).visible=!!t:(0,K.warn)(`Optional content group not found: ${G}`)}getOrder(){return this._groups.size?this._order?this._order.slice():Array.from(this._groups.keys()):null}getGroups(){return this._groups.size>0?(0,K.objectFromMap)(this._groups):null}getGroup(G){return this._groups.get(G)||null}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.PDFDataTransportStream=void 0;var K=he(2),ne=he(1);ee.PDFDataTransportStream=class{constructor(F,R){(0,K.assert)(R,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=F.progressiveDone||!1,this._contentDispositionFilename=F.contentDispositionFilename||null;const e=F.initialData;if(e?.length>0){const x=new Uint8Array(e).buffer;this._queuedChunks.push(x)}this._pdfDataRangeTransport=R,this._isStreamingSupported=!F.disableStream,this._isRangeSupported=!F.disableRange,this._contentLength=F.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((x,L)=>{this._onReceiveData({begin:x,chunk:L})}),this._pdfDataRangeTransport.addProgressListener((x,L)=>{this._onProgress({loaded:x,total:L})}),this._pdfDataRangeTransport.addProgressiveReadListener(x=>{this._onReceiveData({chunk:x})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(F){const R=new Uint8Array(F.chunk).buffer;if(void 0===F.begin)this._fullRequestReader?this._fullRequestReader._enqueue(R):this._queuedChunks.push(R);else{const e=this._rangeReaders.some(function(x){return x._begin===F.begin&&(x._enqueue(R),!0)});(0,K.assert)(e,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(F){if(void 0===F.total){const R=this._rangeReaders[0];R?.onProgress&&R.onProgress({loaded:F.loaded})}else{const R=this._fullRequestReader;R?.onProgress&&R.onProgress({loaded:F.loaded,total:F.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(F){const R=this._rangeReaders.indexOf(F);R>=0&&this._rangeReaders.splice(R,1)}getFullReader(){(0,K.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const F=this._queuedChunks;return this._queuedChunks=null,new I(this,F,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(F,R){if(R<=this._progressiveDataLength)return null;const e=new G(this,F,R);return this._pdfDataRangeTransport.requestDataRange(F,R),this._rangeReaders.push(e),e}cancelAllRequests(F){this._fullRequestReader&&this._fullRequestReader.cancel(F);for(const R of this._rangeReaders.slice(0))R.cancel(F);this._pdfDataRangeTransport.abort()}};class I{constructor(F,R,e=!1,x=null){this._stream=F,this._done=e||!1,this._filename=(0,ne.isPdfFile)(x)?x:null,this._queuedChunks=R||[],this._loaded=0;for(const L of this._queuedChunks)this._loaded+=L.byteLength;this._requests=[],this._headersReady=Promise.resolve(),F._fullRequestReader=this,this.onProgress=null}_enqueue(F){this._done||(this._requests.length>0?this._requests.shift().resolve({value:F,done:!1}):this._queuedChunks.push(F),this._loaded+=F.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const F=(0,K.createPromiseCapability)();return this._requests.push(F),F.promise}cancel(F){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class G{constructor(F,R,e){this._stream=F,this._begin=R,this._end=e,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(F){if(!this._done){if(0===this._requests.length)this._queuedChunk=F;else{this._requests.shift().resolve({value:F,done:!1});for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const R=this._queuedChunk;return this._queuedChunk=null,{value:R,done:!1}}if(this._done)return{value:void 0,done:!0};const F=(0,K.createPromiseCapability)();return this._requests.push(F),F.promise}cancel(F){this._done=!0;for(const R of this._requests)R.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.AnnotationLayer=void 0;var K=he(1),ne=he(2),I=he(8),G=he(18);class t{static create(u){switch(u.data.annotationType){case ne.AnnotationType.LINK:return new R(u);case ne.AnnotationType.TEXT:return new e(u);case ne.AnnotationType.WIDGET:switch(u.data.fieldType){case"Tx":return new L(u);case"Btn":return u.data.radioButton?new b(u):u.data.checkBox?new P(u):new r(u);case"Ch":return new w(u)}return new x(u);case ne.AnnotationType.POPUP:return new o(u);case ne.AnnotationType.FREETEXT:return new n(u);case ne.AnnotationType.LINE:return new a(u);case ne.AnnotationType.SQUARE:return new p(u);case ne.AnnotationType.CIRCLE:return new v(u);case ne.AnnotationType.POLYLINE:return new m(u);case ne.AnnotationType.CARET:return new f(u);case ne.AnnotationType.INK:return new y(u);case ne.AnnotationType.POLYGON:return new c(u);case ne.AnnotationType.HIGHLIGHT:return new i(u);case ne.AnnotationType.UNDERLINE:return new d(u);case ne.AnnotationType.SQUIGGLY:return new S(u);case ne.AnnotationType.STRIKEOUT:return new s(u);case ne.AnnotationType.STAMP:return new l(u);case ne.AnnotationType.FILEATTACHMENT:return new A(u);default:return new F(u)}}}class F{constructor(u,{isRenderable:M=!1,ignoreBorder:O=!1,createQuadrilaterals:C=!1}={}){this.isRenderable=M,this.data=u.data,this.layer=u.layer,this.page=u.page,this.viewport=u.viewport,this.linkService=u.linkService,this.downloadManager=u.downloadManager,this.imageResourcesPath=u.imageResourcesPath,this.renderInteractiveForms=u.renderInteractiveForms,this.svgFactory=u.svgFactory,this.annotationStorage=u.annotationStorage,this.enableScripting=u.enableScripting,this.hasJSActions=u.hasJSActions,this._mouseState=u.mouseState,M&&(this.container=this._createContainer(O)),C&&(this.quadrilaterals=this._createQuadrilaterals(O))}_createContainer(u=!1){const M=this.data,O=this.page,C=this.viewport,N=document.createElement("section");let X=M.rect[2]-M.rect[0],H=M.rect[3]-M.rect[1];N.setAttribute("data-annotation-id",M.id);const D=ne.Util.normalizeRect([M.rect[0],O.view[3]-M.rect[1]+O.view[1],M.rect[2],O.view[3]-M.rect[3]+O.view[1]]);if(N.style.transform=`matrix(${C.transform.join(",")})`,N.style.transformOrigin=`${-D[0]}px ${-D[1]}px`,!u&&M.borderStyle.width>0){N.style.borderWidth=`${M.borderStyle.width}px`,M.borderStyle.style!==ne.AnnotationBorderStyleType.UNDERLINE&&(X-=2*M.borderStyle.width,H-=2*M.borderStyle.width);const j=M.borderStyle.horizontalCornerRadius,_=M.borderStyle.verticalCornerRadius;switch((j>0||_>0)&&(N.style.borderRadius=`${j}px / ${_}px`),M.borderStyle.style){case ne.AnnotationBorderStyleType.SOLID:N.style.borderStyle="solid";break;case ne.AnnotationBorderStyleType.DASHED:N.style.borderStyle="dashed";break;case ne.AnnotationBorderStyleType.BEVELED:(0,ne.warn)("Unimplemented border style: beveled");break;case ne.AnnotationBorderStyleType.INSET:(0,ne.warn)("Unimplemented border style: inset");break;case ne.AnnotationBorderStyleType.UNDERLINE:N.style.borderBottomStyle="solid"}M.color?N.style.borderColor=ne.Util.makeHexColor(0|M.color[0],0|M.color[1],0|M.color[2]):N.style.borderWidth=0}return N.style.left=`${D[0]}px`,N.style.top=`${D[1]}px`,N.style.width=`${X}px`,N.style.height=`${H}px`,N}_createQuadrilaterals(u=!1){if(!this.data.quadPoints)return null;const M=[],O=this.data.rect;for(const C of this.data.quadPoints)this.data.rect=[C[2].x,C[2].y,C[1].x,C[1].y],M.push(this._createContainer(u));return this.data.rect=O,M}_createPopup(u,M){let O=this.container;this.quadrilaterals&&(u=u||this.quadrilaterals,O=this.quadrilaterals[0]),u||((u=document.createElement("div")).style.height=O.style.height,u.style.width=O.style.width,O.appendChild(u));const C=new h({container:O,trigger:u,color:M.color,title:M.title,modificationDate:M.modificationDate,contents:M.contents,hideWrapper:!0}).render();C.style.left=O.style.width,O.appendChild(C)}_renderQuadrilaterals(u){for(const M of this.quadrilaterals)M.className=u;return this.quadrilaterals}render(){(0,ne.unreachable)("Abstract method `AnnotationElement.render` called")}}class R extends F{constructor(u){super(u,{isRenderable:!!(u.data.url||u.data.dest||u.data.action||u.data.isTooltipOnly||u.data.actions&&(u.data.actions.Action||u.data.actions["Mouse Up"]||u.data.actions["Mouse Down"])),createQuadrilaterals:!0})}render(){const{data:u,linkService:M}=this,O=document.createElement("a");return u.url?(0,K.addLinkAttributes)(O,{url:u.url,target:u.newWindow?K.LinkTarget.BLANK:M.externalLinkTarget,rel:M.externalLinkRel,enabled:M.externalLinkEnabled}):u.action?this._bindNamedAction(O,u.action):u.dest?this._bindLink(O,u.dest):u.actions&&(u.actions.Action||u.actions["Mouse Up"]||u.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions?this._bindJSAction(O,u):this._bindLink(O,""),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((C,N)=>{const X=0===N?O:O.cloneNode();return C.appendChild(X),C}):(this.container.className="linkAnnotation",this.container.appendChild(O),this.container)}_bindLink(u,M){u.href=this.linkService.getDestinationHash(M),u.onclick=()=>(M&&this.linkService.goToDestination(M),!1),(M||""===M)&&(u.className="internalLink")}_bindNamedAction(u,M){u.href=this.linkService.getAnchorUrl(""),u.onclick=()=>(this.linkService.executeNamedAction(M),!1),u.className="internalLink"}_bindJSAction(u,M){u.href=this.linkService.getAnchorUrl("");const O=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const C of Object.keys(M.actions)){const N=O.get(C);N&&(u[N]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M.id,name:C}}),!1))}u.className="internalLink"}}class e extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents)})}render(){this.container.className="textAnnotation";const u=document.createElement("img");return u.style.height=this.container.style.height,u.style.width=this.container.style.width,u.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",u.alt="[{{type}} Annotation]",u.dataset.l10nId="text_annotation_type",u.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(u,this.data),this.container.appendChild(u),this.container}}class x extends F{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(u){return navigator.platform.includes("Win")&&u.ctrlKey||navigator.platform.includes("Mac")&&u.metaKey}_setEventListener(u,M,O,C){M.includes("mouse")?u.addEventListener(M,N=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:O,value:C(N),shift:N.shiftKey,modifier:this._getKeyModifier(N)}})}):u.addEventListener(M,N=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:O,value:N.target.checked}})})}_setEventListeners(u,M,O){for(const[C,N]of M)("Action"===N||this.data.actions?.[N])&&this._setEventListener(u,C,N,O)}_dispatchEventFromSandbox(u,M){const O=(N,X,H)=>{const D=H.detail[N];H.target.style[X]=G.ColorConverters[`${D[0]}_HTML`](D.slice(1))},C={display:N=>{const X=N.detail.display%2==1;N.target.style.visibility=X?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:X,print:0===N.detail.display||3===N.detail.display})},print:N=>{this.annotationStorage.setValue(this.data.id,{print:N.detail.print})},hidden:N=>{N.target.style.visibility=N.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:N.detail.hidden})},focus:N=>{setTimeout(()=>N.target.focus({preventScroll:!1}),0)},userName:N=>{N.target.title=N.detail.userName},readonly:N=>{N.detail.readonly?N.target.setAttribute("readonly",""):N.target.removeAttribute("readonly")},required:N=>{N.detail.required?N.target.setAttribute("required",""):N.target.removeAttribute("required")},bgColor:N=>{O("bgColor","backgroundColor",N)},fillColor:N=>{O("fillColor","backgroundColor",N)},fgColor:N=>{O("fgColor","color",N)},textColor:N=>{O("textColor","color",N)},borderColor:N=>{O("borderColor","borderColor",N)},strokeColor:N=>{O("strokeColor","borderColor",N)}};for(const N of Object.keys(M.detail)){const X=u[N]||C[N];X&&X(M)}}}class L extends x{constructor(u){super(u,{isRenderable:u.renderInteractiveForms||!u.data.hasAppearance&&!!u.data.fieldValue})}setPropertyOnSiblings(u,M,O,C){const N=this.annotationStorage;for(const X of document.getElementsByName(u.name))if(X!==u){X[M]=O;const H=Object.create(null);H[C]=O,N.setValue(X.getAttribute("id"),H)}}render(){const u=this.annotationStorage,M=this.data.id;this.container.className="textWidgetAnnotation";let O=null;if(this.renderInteractiveForms){const C=u.getValue(M,{value:this.data.fieldValue,valueAsString:this.data.fieldValue}),N=C.valueAsString||C.value||"",X={userValue:null,formattedValue:null,beforeInputSelectionRange:null,beforeInputValue:null};this.data.multiLine?(O=document.createElement("textarea"),O.textContent=N):(O=document.createElement("input"),O.type="text",O.setAttribute("value",N)),X.userValue=N,O.setAttribute("id",M),O.addEventListener("input",D=>{u.setValue(M,{value:D.target.value}),this.setPropertyOnSiblings(O,"value",D.target.value,"value")});let H=D=>{X.formattedValue&&(D.target.value=X.formattedValue),D.target.scrollLeft=0,X.beforeInputSelectionRange=null};if(this.enableScripting&&this.hasJSActions){O.addEventListener("focus",j=>{X.userValue&&(j.target.value=X.userValue)}),O.addEventListener("updatefromsandbox",j=>{this._dispatchEventFromSandbox({value(T){X.userValue=T.detail.value||"",u.setValue(M,{value:X.userValue.toString()}),X.formattedValue||(T.target.value=X.userValue)},valueAsString(T){X.formattedValue=T.detail.valueAsString||"",T.target!==document.activeElement&&(T.target.value=X.formattedValue),u.setValue(M,{formattedValue:X.formattedValue})},selRange(T){const[U,q]=T.detail.selRange;U>=0&&q<T.target.value.length&&T.target.setSelectionRange(U,q)}},j)}),O.addEventListener("keydown",j=>{X.beforeInputValue=j.target.value;let _=-1;"Escape"===j.key?_=0:"Enter"===j.key?_=2:"Tab"===j.key&&(_=3),-1!==_&&(X.userValue=j.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:j.target.value,willCommit:!0,commitKey:_,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}}))});const D=H;H=null,O.addEventListener("blur",j=>{this._mouseState.isDown&&(X.userValue=j.target.value,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:j.target.value,willCommit:!0,commitKey:1,selStart:j.target.selectionStart,selEnd:j.target.selectionEnd}})),D(j)}),O.addEventListener("mousedown",j=>{X.beforeInputValue=j.target.value,X.beforeInputSelectionRange=null}),O.addEventListener("keyup",j=>{j.target.selectionStart===j.target.selectionEnd&&(X.beforeInputSelectionRange=null)}),O.addEventListener("select",j=>{X.beforeInputSelectionRange=[j.target.selectionStart,j.target.selectionEnd]}),this.data.actions?.Keystroke&&O.addEventListener("input",j=>{let _=-1,T=-1;X.beforeInputSelectionRange&&([_,T]=X.beforeInputSelectionRange),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:X.beforeInputValue,change:j.data,willCommit:!1,selStart:_,selEnd:T}})}),this._setEventListeners(O,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],j=>j.target.value)}if(H&&O.addEventListener("blur",H),O.disabled=this.data.readOnly,O.name=this.data.fieldName,null!==this.data.maxLen&&(O.maxLength=this.data.maxLen),this.data.comb){const D=(this.data.rect[2]-this.data.rect[0])/this.data.maxLen;O.classList.add("comb"),O.style.letterSpacing=`calc(${D}px - 1ch)`}}else O=document.createElement("div"),O.textContent=this.data.fieldValue,O.style.verticalAlign="middle",O.style.display="table-cell";return this._setTextStyle(O),this.container.appendChild(O),this.container}_setTextStyle(u){const{fontSize:O,fontColor:C}=this.data.defaultAppearanceData,N=u.style;O&&(N.fontSize=`${O}px`),N.color=ne.Util.makeHexColor(C[0],C[1],C[2]),null!==this.data.textAlignment&&(N.textAlign=["left","center","right"][this.data.textAlignment])}}class P extends x{constructor(u){super(u,{isRenderable:u.renderInteractiveForms})}render(){const u=this.annotationStorage,M=this.data,O=M.id;let C=u.getValue(O,{value:M.fieldValue&&(M.exportValue&&M.exportValue===M.fieldValue||!M.exportValue&&"Off"!==M.fieldValue)}).value;"string"==typeof C&&(C="Off"!==C,u.setValue(O,{value:C})),this.container.className="buttonWidgetAnnotation checkBox";const N=document.createElement("input");return N.disabled=M.readOnly,N.type="checkbox",N.name=this.data.fieldName,C&&N.setAttribute("checked",!0),N.setAttribute("id",O),N.addEventListener("change",function(X){const H=X.target.name;for(const D of document.getElementsByName(H))D!==X.target&&(D.checked=!1,u.setValue(D.parentNode.getAttribute("data-annotation-id"),{value:!1}));u.setValue(O,{value:X.target.checked})}),this.enableScripting&&this.hasJSActions&&(N.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({value(D){D.target.checked="Off"!==D.detail.value,u.setValue(O,{value:D.target.checked})}},X)}),this._setEventListeners(N,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],X=>X.target.checked)),this.container.appendChild(N),this.container}}class b extends x{constructor(u){super(u,{isRenderable:u.renderInteractiveForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";const u=this.annotationStorage,M=this.data,O=M.id;let C=u.getValue(O,{value:M.fieldValue===M.buttonValue}).value;"string"==typeof C&&(C=C!==M.buttonValue,u.setValue(O,{value:C}));const N=document.createElement("input");if(N.disabled=M.readOnly,N.type="radio",N.name=M.fieldName,C&&N.setAttribute("checked",!0),N.setAttribute("id",O),N.addEventListener("change",function(X){const{target:H}=X;for(const D of document.getElementsByName(H.name))D!==H&&u.setValue(D.getAttribute("id"),{value:!1});u.setValue(O,{value:H.checked})}),this.enableScripting&&this.hasJSActions){const X=M.buttonValue;N.addEventListener("updatefromsandbox",H=>{this._dispatchEventFromSandbox({value(j){const _=X===j.detail.value;for(const T of document.getElementsByName(j.target.name)){const U=T.getAttribute("id");T.checked=U===O&&_,u.setValue(U,{value:T.checked})}}},H)}),this._setEventListeners(N,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],H=>H.target.checked)}return this.container.appendChild(N),this.container}}class r extends R{render(){const u=super.render();return u.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(u.title=this.data.alternativeText),u}}class w extends x{constructor(u){super(u,{isRenderable:u.renderInteractiveForms})}render(){this.container.className="choiceWidgetAnnotation";const u=this.annotationStorage,M=this.data.id;u.getValue(M,{value:this.data.fieldValue.length>0?this.data.fieldValue[0]:void 0});const O=document.createElement("select");O.disabled=this.data.readOnly,O.name=this.data.fieldName,O.setAttribute("id",M),this.data.combo||(O.size=this.data.options.length,this.data.multiSelect&&(O.multiple=!0));for(const X of this.data.options){const H=document.createElement("option");H.textContent=X.displayValue,H.value=X.exportValue,this.data.fieldValue.includes(X.exportValue)&&H.setAttribute("selected",!0),O.appendChild(H)}const C=(X,H)=>{const D=H?"value":"textContent",j=X.target.options;return X.target.multiple?Array.prototype.filter.call(j,_=>_.selected).map(_=>_[D]):-1===j.selectedIndex?null:j[j.selectedIndex][D]},N=X=>Array.prototype.map.call(X.target.options,D=>({displayValue:D.textContent,exportValue:D.value}));return this.enableScripting&&this.hasJSActions?(O.addEventListener("updatefromsandbox",X=>{this._dispatchEventFromSandbox({value(D){const j=O.options,_=D.detail.value,T=new Set(Array.isArray(_)?_:[_]);Array.prototype.forEach.call(j,U=>{U.selected=T.has(U.value)}),u.setValue(M,{value:C(D,!0)})},multipleSelection(D){O.multiple=!0},remove(D){const j=O.options,_=D.detail.remove;j[_].selected=!1,O.remove(_),j.length>0&&-1===Array.prototype.findIndex.call(j,T=>T.selected)&&(j[0].selected=!0),u.setValue(M,{value:C(D,!0),items:N(D)})},clear(D){for(;0!==O.length;)O.remove(0);u.setValue(M,{value:null,items:[]})},insert(D){const{index:j,displayValue:_,exportValue:T}=D.detail.insert,U=document.createElement("option");U.textContent=_,U.value=T,O.insertBefore(U,O.children[j]),u.setValue(M,{value:C(D,!0),items:N(D)})},items(D){const{items:j}=D.detail;for(;0!==O.length;)O.remove(0);for(const _ of j){const{displayValue:T,exportValue:U}=_,q=document.createElement("option");q.textContent=T,q.value=U,O.appendChild(q)}O.options.length>0&&(O.options[0].selected=!0),u.setValue(M,{value:C(D,!0),items:N(D)})},indices(D){const j=new Set(D.detail.indices);Array.prototype.forEach.call(D.target.options,(T,U)=>{T.selected=j.has(U)}),u.setValue(M,{value:C(D,!0)})},editable(D){D.target.disabled=!D.detail.editable}},X)}),O.addEventListener("input",X=>{const H=C(X,!0),D=C(X,!1);u.setValue(M,{value:H}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:M,name:"Keystroke",value:D,changeEx:H,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(O,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],X=>X.target.checked)):O.addEventListener("input",function(X){u.setValue(M,{value:C(X)})}),this.container.appendChild(O),this.container}}class o extends F{constructor(u){super(u,{isRenderable:!(!u.data.title&&!u.data.contents)})}render(){if(this.container.className="popupAnnotation",["Line","Square","Circle","PolyLine","Polygon","Ink"].includes(this.data.parentType))return this.container;const M=this.layer.querySelectorAll(`[data-annotation-id="${this.data.parentId}"]`);if(0===M.length)return this.container;const O=new h({container:this.container,trigger:Array.from(M),color:this.data.color,title:this.data.title,modificationDate:this.data.modificationDate,contents:this.data.contents}),C=this.page,N=ne.Util.normalizeRect([this.data.parentRect[0],C.view[3]-this.data.parentRect[1]+C.view[1],this.data.parentRect[2],C.view[3]-this.data.parentRect[3]+C.view[1]]),X=N[0]+this.data.parentRect[2]-this.data.parentRect[0],H=N[1];return this.container.style.transformOrigin=`${-X}px ${-H}px`,this.container.style.left=`${X}px`,this.container.style.top=`${H}px`,this.container.appendChild(O.render()),this.container}}class h{constructor(u){this.container=u.container,this.trigger=u.trigger,this.color=u.color,this.title=u.title,this.modificationDate=u.modificationDate,this.contents=u.contents,this.hideWrapper=u.hideWrapper||!1,this.pinned=!1}render(){const u=document.createElement("div");u.className="popupWrapper",this.hideElement=this.hideWrapper?u:this.container,this.hideElement.hidden=!0;const M=document.createElement("div");M.className="popup";const O=this.color;O&&(M.style.backgroundColor=ne.Util.makeHexColor(0|.7*(255-O[0])+O[0],0|.7*(255-O[1])+O[1],0|.7*(255-O[2])+O[2]));const C=document.createElement("h1");C.textContent=this.title,M.appendChild(C);const N=K.PDFDateString.toDateObject(this.modificationDate);if(N){const H=document.createElement("span");H.textContent="{{date}}, {{time}}",H.dataset.l10nId="annotation_date_string",H.dataset.l10nArgs=JSON.stringify({date:N.toLocaleDateString(),time:N.toLocaleTimeString()}),M.appendChild(H)}const X=this._formatContents(this.contents);M.appendChild(X),Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(const H of this.trigger)H.addEventListener("click",this._toggle.bind(this)),H.addEventListener("mouseover",this._show.bind(this,!1)),H.addEventListener("mouseout",this._hide.bind(this,!1));return M.addEventListener("click",this._hide.bind(this,!0)),u.appendChild(M),u}_formatContents(u){const M=document.createElement("p"),O=u.split(/(?:\r\n?|\n)/);for(let C=0,N=O.length;C<N;++C)M.appendChild(document.createTextNode(O[C])),C<N-1&&M.appendChild(document.createElement("br"));return M}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(u=!1){u&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex+=1)}_hide(u=!0){u&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex-=1)}}class n extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){return this.container.className="freeTextAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class a extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){this.container.className="lineAnnotation";const u=this.data,C=this.svgFactory.create(u.rect[2]-u.rect[0],u.rect[3]-u.rect[1]),N=this.svgFactory.createElement("svg:line");return N.setAttribute("x1",u.rect[2]-u.lineCoordinates[0]),N.setAttribute("y1",u.rect[3]-u.lineCoordinates[1]),N.setAttribute("x2",u.rect[2]-u.lineCoordinates[2]),N.setAttribute("y2",u.rect[3]-u.lineCoordinates[3]),N.setAttribute("stroke-width",u.borderStyle.width||1),N.setAttribute("stroke","transparent"),C.appendChild(N),this.container.append(C),this._createPopup(N,u),this.container}}class p extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){this.container.className="squareAnnotation";const u=this.data,M=u.rect[2]-u.rect[0],O=u.rect[3]-u.rect[1],C=this.svgFactory.create(M,O),N=u.borderStyle.width,X=this.svgFactory.createElement("svg:rect");return X.setAttribute("x",N/2),X.setAttribute("y",N/2),X.setAttribute("width",M-N),X.setAttribute("height",O-N),X.setAttribute("stroke-width",N||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","none"),C.appendChild(X),this.container.append(C),this._createPopup(X,u),this.container}}class v extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){this.container.className="circleAnnotation";const u=this.data,M=u.rect[2]-u.rect[0],O=u.rect[3]-u.rect[1],C=this.svgFactory.create(M,O),N=u.borderStyle.width,X=this.svgFactory.createElement("svg:ellipse");return X.setAttribute("cx",M/2),X.setAttribute("cy",O/2),X.setAttribute("rx",M/2-N/2),X.setAttribute("ry",O/2-N/2),X.setAttribute("stroke-width",N||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","none"),C.appendChild(X),this.container.append(C),this._createPopup(X,u),this.container}}class m extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const u=this.data,C=this.svgFactory.create(u.rect[2]-u.rect[0],u.rect[3]-u.rect[1]);let N=[];for(const H of u.vertices)N.push(H.x-u.rect[0]+","+(u.rect[3]-H.y));N=N.join(" ");const X=this.svgFactory.createElement(this.svgElementName);return X.setAttribute("points",N),X.setAttribute("stroke-width",u.borderStyle.width||1),X.setAttribute("stroke","transparent"),X.setAttribute("fill","none"),C.appendChild(X),this.container.append(C),this._createPopup(X,u),this.container}}class c extends m{constructor(u){super(u),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class f extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class y extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;const u=this.data,C=this.svgFactory.create(u.rect[2]-u.rect[0],u.rect[3]-u.rect[1]);for(const N of u.inkLists){let X=[];for(const D of N)X.push(`${D.x-u.rect[0]},${u.rect[3]-D.y}`);X=X.join(" ");const H=this.svgFactory.createElement(this.svgElementName);H.setAttribute("points",X),H.setAttribute("stroke-width",u.borderStyle.width||1),H.setAttribute("stroke","transparent"),H.setAttribute("fill","none"),this._createPopup(H,u),C.appendChild(H)}return this.container.append(C),this.container}}class i extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class d extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class S extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class s extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class l extends F{constructor(u){super(u,{isRenderable:!!(u.data.hasPopup||u.data.title||u.data.contents),ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class A extends F{constructor(u){super(u,{isRenderable:!0});const{filename:M,content:O}=this.data.file;this.filename=(0,K.getFilenameFromUrl)(M),this.content=O,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,id:(0,ne.stringToPDFString)(M),filename:M,content:O})}render(){this.container.className="fileAttachmentAnnotation";const u=document.createElement("div");return u.style.height=this.container.style.height,u.style.width=this.container.style.width,u.addEventListener("dblclick",this._download.bind(this)),this.data.hasPopup||!this.data.title&&!this.data.contents||this._createPopup(u,this.data),this.container.appendChild(u),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}ee.AnnotationLayer=class{static render(u){const M=[],O=[];for(const C of u.annotations)C&&(C.annotationType!==ne.AnnotationType.POPUP?M.push(C):O.push(C));O.length&&M.push(...O);for(const C of M){const N=t.create({data:C,layer:u.div,page:u.page,viewport:u.viewport,linkService:u.linkService,downloadManager:u.downloadManager,imageResourcesPath:u.imageResourcesPath||"",renderInteractiveForms:!1!==u.renderInteractiveForms,svgFactory:new K.DOMSVGFactory,annotationStorage:u.annotationStorage||new I.AnnotationStorage,enableScripting:u.enableScripting,hasJSActions:u.hasJSActions,mouseState:u.mouseState||{isDown:!1}});if(N.isRenderable){const X=N.render();if(C.hidden&&(X.style.visibility="hidden"),Array.isArray(X))for(const H of X)u.div.appendChild(H);else N instanceof o?u.div.prepend(X):u.div.appendChild(X)}}}static update(u){const M=`matrix(${u.viewport.transform.join(",")})`;for(const O of u.annotations){const C=u.div.querySelectorAll(`[data-annotation-id="${O.id}"]`);if(C)for(const N of C)N.style.transform=M}u.div.hidden=!1}}},(De,ee)=>{function he(K){return Math.floor(255*Math.max(0,Math.min(1,K))).toString(16).padStart(2,"0")}Object.defineProperty(ee,"__esModule",{value:!0}),ee.ColorConverters=void 0,ee.ColorConverters=class{static CMYK_G([ne,I,G,t]){return["G",1-Math.min(1,.3*ne+.59*G+.11*I+t)]}static G_CMYK([ne]){return["CMYK",0,0,0,1-ne]}static G_RGB([ne]){return["RGB",ne,ne,ne]}static G_HTML([ne]){const I=he(ne);return`#${I}${I}${I}`}static RGB_G([ne,I,G]){return["G",.3*ne+.59*I+.11*G]}static RGB_HTML([ne,I,G]){return`#${he(ne)}${he(I)}${he(G)}`}static T_HTML(){return"#00000000"}static CMYK_RGB([ne,I,G,t]){return["RGB",1-Math.min(1,ne+t),1-Math.min(1,G+t),1-Math.min(1,I+t)]}static CMYK_HTML(ne){return this.RGB_HTML(this.CMYK_RGB(ne))}static RGB_CMYK([ne,I,G]){const t=1-ne,F=1-I,R=1-G;return["CMYK",t,F,R,Math.min(t,F,R)]}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.renderTextLayer=function(b){const r=new L({textContent:b.textContent,textContentStream:b.textContentStream,container:b.container,viewport:b.viewport,textDivs:b.textDivs,textContentItemsStr:b.textContentItemsStr,enhanceTextSelection:b.enhanceTextSelection});return r._render(b.timeout),r};var K=he(2);const I=new Map,G=/^\s+$/g;function t(P,b,r,w){const o=document.createElement("span"),h={angle:0,canvasWidth:0,hasText:""!==b.str,hasEOL:b.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1};P._textDivs.push(o);const n=K.Util.transform(P._viewport.transform,b.transform);let a=Math.atan2(n[1],n[0]);const p=r[b.fontName];p.vertical&&(a+=Math.PI/2);const v=Math.hypot(n[2],n[3]),m=v*function(d,S){const s=I.get(d);if(s)return s;S.save(),S.font=`30px ${d}`;const l=S.measureText("");let A=l.fontBoundingBoxAscent,k=Math.abs(l.fontBoundingBoxDescent);if(A){S.restore();const M=A/(A+k);return I.set(d,M),M}S.strokeStyle="red",S.clearRect(0,0,30,30),S.strokeText("g",0,0);let u=S.getImageData(0,0,30,30).data;k=0;for(let M=u.length-1-3;M>=0;M-=4)if(u[M]>0){k=Math.ceil(M/4/30);break}S.clearRect(0,0,30,30),S.strokeText("A",0,30),u=S.getImageData(0,0,30,30).data,A=0;for(let M=0,O=u.length;M<O;M+=4)if(u[M]>0){A=30-Math.floor(M/4/30);break}if(S.restore(),A){const M=A/(A+k);return I.set(d,M),M}return I.set(d,.8),.8}(p.fontFamily,w);let c,f;0===a?(c=n[4],f=n[5]-m):(c=n[4]+m*Math.sin(a),f=n[5]-m*Math.cos(a)),o.style.left=`${c}px`,o.style.top=`${f}px`,o.style.fontSize=`${v}px`,o.style.fontFamily=p.fontFamily,o.setAttribute("role","presentation"),o.textContent=b.str,o.dir=b.dir,P._fontInspectorEnabled&&(o.dataset.fontName=b.fontName),0!==a&&(h.angle=a*(180/Math.PI));let y=!1;if(b.str.length>1||P._enhanceTextSelection&&G.test(b.str))y=!0;else if(b.transform[0]!==b.transform[3]){const i=Math.abs(b.transform[0]),d=Math.abs(b.transform[3]);i!==d&&Math.max(i,d)/Math.min(i,d)>1.5&&(y=!0)}if(y&&(h.canvasWidth=p.vertical?b.height*P._viewport.scale:b.width*P._viewport.scale),P._textDivProperties.set(o,h),P._textContentStream&&P._layoutText(o),P._enhanceTextSelection&&h.hasText){let i=1,d=0;0!==a&&(i=Math.cos(a),d=Math.sin(a));const S=(p.vertical?b.height:b.width)*P._viewport.scale,s=v;let l,A;0!==a?(l=[i,d,-d,i,c,f],A=K.Util.getAxialAlignedBoundingBox([0,0,S,s],l)):A=[c,f,c+S,f+s],P._bounds.push({left:A[0],top:A[1],right:A[2],bottom:A[3],div:o,size:[S,s],m:l})}}function F(P){if(P._canceled)return;const b=P._textDivs,r=P._capability,w=b.length;if(w>1e5)P._renderingDone=!0,r.resolve();else{if(!P._textContentStream)for(let o=0;o<w;o++)P._layoutText(b[o]);P._renderingDone=!0,r.resolve()}}function R(P,b,r){let w=0;for(let o=0;o<r;o++){const h=P[b++];h>0&&(w=w?Math.min(h,w):h)}return w}function x(P,b){b.sort(function(w,o){return w.x1-o.x1||w.index-o.index});const r=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(const w of b){let o=0;for(;o<r.length&&r[o].end<=w.y1;)o++;let h,n,a=r.length-1;for(;a>=0&&r[a].start>=w.y2;)a--;let p,v,m=-1/0;for(p=o;p<=a;p++){let y;h=r[p],n=h.boundary,y=n.x2>w.x1?n.index>w.index?n.x1New:w.x1:void 0===n.x2New?(n.x2+w.x1)/2:n.x2New,y>m&&(m=y)}for(w.x1New=m,p=o;p<=a;p++)h=r[p],n=h.boundary,void 0===n.x2New?n.x2>w.x1?n.index>w.index&&(n.x2New=n.x2):n.x2New=m:n.x2New>m&&(n.x2New=Math.max(m,n.x2));const c=[];let f=null;for(p=o;p<=a;p++){h=r[p],n=h.boundary;const y=n.x2>w.x2?n:w;f===y?c[c.length-1].end=h.end:(c.push({start:h.start,end:h.end,boundary:y}),f=y)}for(r[o].start<w.y1&&(c[0].start=w.y1,c.unshift({start:r[o].start,end:w.y1,boundary:r[o].boundary})),w.y2<r[a].end&&(c[c.length-1].end=w.y2,c.push({start:w.y2,end:r[a].end,boundary:r[a].boundary})),p=o;p<=a;p++){if(h=r[p],n=h.boundary,void 0!==n.x2New)continue;let y=!1;for(v=o-1;!y&&v>=0&&r[v].start>=n.y1;v--)y=r[v].boundary===n;for(v=a+1;!y&&v<r.length&&r[v].end<=n.y2;v++)y=r[v].boundary===n;for(v=0;!y&&v<c.length;v++)y=c[v].boundary===n;y||(n.x2New=m)}Array.prototype.splice.apply(r,[o,a-o+1].concat(c))}for(const w of r){const o=w.boundary;void 0===o.x2New&&(o.x2New=Math.max(P,o.x2))}}class L{constructor({textContent:b,textContentStream:r,container:w,viewport:o,textDivs:h,textContentItemsStr:n,enhanceTextSelection:a}){this._textContent=b,this._textContentStream=r,this._container=w,this._document=w.ownerDocument,this._viewport=o,this._textDivs=h||[],this._textContentItemsStr=n||[],this._enhanceTextSelection=!!a,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,K.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._capability.promise.finally(()=>{this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new K.AbortException("TextLayer task cancelled.")),this._reader=null),null!==this._renderTimer&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(b,r){for(let w=0,o=b.length;w<o;w++)if(void 0!==b[w].str)this._textContentItemsStr.push(b[w].str),t(this,b[w],r,this._layoutTextCtx);else if("beginMarkedContentProps"===b[w].type||"beginMarkedContent"===b[w].type){const h=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),null!==b[w].id&&this._container.setAttribute("id",`${b[w].id}`),h.appendChild(this._container)}else"endMarkedContent"===b[w].type&&(this._container=this._container.parentNode)}_layoutText(b){const r=this._textDivProperties.get(b);let w="";if(0!==r.canvasWidth&&r.hasText){const{fontSize:o,fontFamily:h}=b.style;(o!==this._layoutTextLastFontSize||h!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${o} ${h}`,this._layoutTextLastFontSize=o,this._layoutTextLastFontFamily=h);const{width:n}=this._layoutTextCtx.measureText(b.textContent);n>0&&(r.scale=r.canvasWidth/n,w=`scaleX(${r.scale})`)}if(0!==r.angle&&(w=`rotate(${r.angle}deg) ${w}`),w.length>0&&(this._enhanceTextSelection&&(r.originalTransform=w),b.style.transform=w),r.hasText&&this._container.appendChild(b),r.hasEOL){const o=document.createElement("br");o.setAttribute("role","presentation"),this._container.appendChild(o)}}_render(b=0){const r=(0,K.createPromiseCapability)();let w=Object.create(null);const o=this._document.createElement("canvas");if(o.height=o.width=30,o.mozOpaque=!0,this._layoutTextCtx=o.getContext("2d",{alpha:!1}),this._textContent)this._processItems(this._textContent.items,this._textContent.styles),r.resolve();else{if(!this._textContentStream)throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');{const h=()=>{this._reader.read().then(({value:n,done:a})=>{a?r.resolve():(Object.assign(w,n.styles),this._processItems(n.items,w),h())},r.reject)};this._reader=this._textContentStream.getReader(),h()}}r.promise.then(()=>{w=null,b?this._renderTimer=setTimeout(()=>{F(this),this._renderTimer=null},b):F(this)},this._capability.reject)}expandTextDivs(b=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;null!==this._bounds&&(function e(P){const b=P._bounds,r=P._viewport,w=function(h,n,a){const p=a.map(function(m,c){return{x1:m.left,y1:m.top,x2:m.right,y2:m.bottom,index:c,x1New:void 0,x2New:void 0}});x(h,p);const v=new Array(a.length);for(const m of p)v[m.index]={left:m.x1New,top:0,right:m.x2New,bottom:0};a.map(function(m,c){const f=v[c],y=p[c];y.x1=m.top,y.y1=h-f.right,y.x2=m.bottom,y.y2=h-f.left,y.index=c,y.x1New=void 0,y.x2New=void 0}),x(n,p);for(const m of p){const c=m.index;v[c].top=m.x1New,v[c].bottom=m.x2New}return v}(r.width,r.height,b);for(let o=0;o<w.length;o++){const h=b[o].div,n=P._textDivProperties.get(h);if(0===n.angle){n.paddingLeft=b[o].left-w[o].left,n.paddingTop=b[o].top-w[o].top,n.paddingRight=w[o].right-b[o].right,n.paddingBottom=w[o].bottom-b[o].bottom,P._textDivProperties.set(h,n);continue}const a=w[o],p=b[o],v=p.m,m=v[0],c=v[1],f=[[0,0],[0,p.size[1]],[p.size[0],0],p.size],y=new Float64Array(64);for(let d=0,S=f.length;d<S;d++){const s=K.Util.applyTransform(f[d],v);y[d+0]=m&&(a.left-s[0])/m,y[d+4]=c&&(a.top-s[1])/c,y[d+8]=m&&(a.right-s[0])/m,y[d+12]=c&&(a.bottom-s[1])/c,y[d+16]=c&&(a.left-s[0])/-c,y[d+20]=m&&(a.top-s[1])/m,y[d+24]=c&&(a.right-s[0])/-c,y[d+28]=m&&(a.bottom-s[1])/m,y[d+32]=m&&(a.left-s[0])/-m,y[d+36]=c&&(a.top-s[1])/-c,y[d+40]=m&&(a.right-s[0])/-m,y[d+44]=c&&(a.bottom-s[1])/-c,y[d+48]=c&&(a.left-s[0])/c,y[d+52]=m&&(a.top-s[1])/-m,y[d+56]=c&&(a.right-s[0])/c,y[d+60]=m&&(a.bottom-s[1])/-m}const i=1+Math.min(Math.abs(m),Math.abs(c));n.paddingLeft=R(y,32,16)/i,n.paddingTop=R(y,48,16)/i,n.paddingRight=R(y,0,16)/i,n.paddingBottom=R(y,16,16)/i,P._textDivProperties.set(h,n)}}(this),this._bounds=null);const r=[],w=[];for(let o=0,h=this._textDivs.length;o<h;o++){const n=this._textDivs[o],a=this._textDivProperties.get(n);a.hasText&&(b?(r.length=0,w.length=0,a.originalTransform&&r.push(a.originalTransform),a.paddingTop>0?(w.push(`${a.paddingTop}px`),r.push(`translateY(${-a.paddingTop}px)`)):w.push(0),w.push(a.paddingRight>0?a.paddingRight/a.scale+"px":0),w.push(a.paddingBottom>0?`${a.paddingBottom}px`:0),a.paddingLeft>0?(w.push(a.paddingLeft/a.scale+"px"),r.push(`translateX(${-a.paddingLeft/a.scale}px)`)):w.push(0),n.style.padding=w.join(" "),r.length&&(n.style.transform=r.join(" "))):(n.style.padding=null,n.style.transform=a.originalTransform))}}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.SVGGraphics=void 0;var K=he(2),ne=he(1),I=he(4);let G=class{constructor(){(0,K.unreachable)("Not implemented: SVGGraphics")}};ee.SVGGraphics=G;{let b=function(n){if(Number.isInteger(n))return n.toString();const a=n.toFixed(10);let p=a.length-1;if("0"!==a[p])return a;do{p--}while("0"===a[p]);return a.substring(0,"."===a[p]?p:p+1)},r=function(n){if(0===n[4]&&0===n[5]){if(0===n[1]&&0===n[2])return 1===n[0]&&1===n[3]?"":`scale(${b(n[0])} ${b(n[3])})`;if(n[0]===n[3]&&n[1]===-n[2])return`rotate(${b(180*Math.acos(n[0])/Math.PI)})`}else if(1===n[0]&&0===n[1]&&0===n[2]&&1===n[3])return`translate(${b(n[4])} ${b(n[5])})`;return`matrix(${b(n[0])} ${b(n[1])} ${b(n[2])} ${b(n[3])} ${b(n[4])} ${b(n[5])})`};const t={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},F="http://www.w3.org/XML/1998/namespace",R="http://www.w3.org/1999/xlink",e=["butt","round","square"],x=["miter","round","bevel"],L=function(){const n=new Uint8Array([137,80,78,71,13,10,26,10]),a=new Int32Array(256);for(let c=0;c<256;c++){let f=c;for(let y=0;y<8;y++)f=1&f?3988292384^f>>1&2147483647:f>>1&2147483647;a[c]=f}function p(c,f,y,i){let d=i;const S=f.length;y[d]=S>>24&255,y[d+1]=S>>16&255,y[d+2]=S>>8&255,y[d+3]=255&S,d+=4,y[d]=255&c.charCodeAt(0),y[d+1]=255&c.charCodeAt(1),y[d+2]=255&c.charCodeAt(2),y[d+3]=255&c.charCodeAt(3),d+=4,y.set(f,d),d+=f.length;const s=function(A,k,u){let M=-1;for(let O=k;O<u;O++)M=M>>>8^a[255&(M^A[O])];return-1^M}(y,i+4,d);y[d]=s>>24&255,y[d+1]=s>>16&255,y[d+2]=s>>8&255,y[d+3]=255&s}function v(c){let f=c.length;const y=65535,i=Math.ceil(f/y),d=new Uint8Array(2+f+5*i+4);let S=0;d[S++]=120,d[S++]=156;let s=0;for(;f>y;)d[S++]=0,d[S++]=255,d[S++]=255,d[S++]=0,d[S++]=0,d.set(c.subarray(s,s+y),S),S+=y,s+=y,f-=y;d[S++]=1,d[S++]=255&f,d[S++]=f>>8&255,d[S++]=255&~f,d[S++]=(65535&~f)>>8&255,d.set(c.subarray(s),S),S+=c.length-s;const l=function(k,u,M){let O=1,C=0;for(let N=0;N<M;++N)O=(O+(255&k[N]))%65521,C=(C+O)%65521;return C<<16|O}(c,0,c.length);return d[S++]=l>>24&255,d[S++]=l>>16&255,d[S++]=l>>8&255,d[S++]=255&l,d}return function(f,y,i){return function m(c,f,y,i){const d=c.width,S=c.height;let s,l,A;const k=c.data;switch(f){case K.ImageKind.GRAYSCALE_1BPP:l=0,s=1,A=d+7>>3;break;case K.ImageKind.RGB_24BPP:l=2,s=8,A=3*d;break;case K.ImageKind.RGBA_32BPP:l=6,s=8,A=4*d;break;default:throw new Error("invalid format")}const u=new Uint8Array((1+A)*S);let M=0,O=0;for(let j=0;j<S;++j)u[M++]=0,u.set(k.subarray(O,O+A),M),O+=A,M+=A;if(f===K.ImageKind.GRAYSCALE_1BPP&&i){M=0;for(let j=0;j<S;j++){M++;for(let _=0;_<A;_++)u[M++]^=255}}const C=new Uint8Array([d>>24&255,d>>16&255,d>>8&255,255&d,S>>24&255,S>>16&255,S>>8&255,255&S,s,l,0,0,0]),N=function(_){if(!I.isNodeJS)return v(_);try{let T;T=parseInt(process.versions.node)>=8?_:Buffer.from(_);const U=require("zlib").deflateSync(T,{level:9});return U instanceof Uint8Array?U:new Uint8Array(U)}catch(T){(0,K.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+T)}return v(_)}(u),H=new Uint8Array(n.length+36+C.length+N.length);let D=0;return H.set(n,D),D+=n.length,p("IHDR",C,H,D),D+=12+C.length,p("IDATA",N,H,D),D+=12+N.length,p("IEND",new Uint8Array(0),H,D),(0,K.createObjectURL)(H,"image/png",y)}(f,void 0===f.kind?K.ImageKind.GRAYSCALE_1BPP:f.kind,y,i)}}();class P{constructor(){this.fontSizeScale=1,this.fontWeight=t.fontWeight,this.fontSize=0,this.textMatrix=K.IDENTITY_MATRIX,this.fontMatrix=K.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=K.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=t.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(a,p){this.x=a,this.y=p}}let w=0,o=0,h=0;ee.SVGGraphics=G=class{constructor(n,a,p=!1){this.svgFactory=new ne.DOMSVGFactory,this.current=new P,this.transformMatrix=K.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=n,this.objs=a,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!p,this._operatorIdMapping=[];for(const v in K.OPS)this._operatorIdMapping[K.OPS[v]]=v}save(){this.transformStack.push(this.transformMatrix);const n=this.current;this.extraStack.push(n),this.current=n.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(n){this.save(),this.executeOpTree(n),this.restore()}loadDependencies(n){const a=n.fnArray,p=n.argsArray;for(let v=0,m=a.length;v<m;v++)if(a[v]===K.OPS.dependency)for(const c of p[v]){const f=c.startsWith("g_")?this.commonObjs:this.objs,y=new Promise(i=>{f.get(c,i)});this.current.dependencies.push(y)}return Promise.all(this.current.dependencies)}transform(n,a,p,v,m,c){this.transformMatrix=K.Util.transform(this.transformMatrix,[n,a,p,v,m,c]),this.tgrp=null}getSVG(n,a){this.viewport=a;const p=this._initialize(a);return this.loadDependencies(n).then(()=>(this.transformMatrix=K.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(n)),p))}convertOpList(n){const a=this._operatorIdMapping,p=n.argsArray,v=n.fnArray,m=[];for(let c=0,f=v.length;c<f;c++){const y=v[c];m.push({fnId:y,fn:a[y],args:p[c]})}return function(f){let y=[];const i=[];for(const d of f)"save"!==d.fn?"restore"===d.fn?y=i.pop():y.push(d):(y.push({fnId:92,fn:"group",items:[]}),i.push(y),y=y[y.length-1].items);return y}(m)}executeOpTree(n){for(const a of n){const p=a.fn,m=a.args;switch(0|a.fnId){case K.OPS.beginText:this.beginText();break;case K.OPS.dependency:break;case K.OPS.setLeading:this.setLeading(m);break;case K.OPS.setLeadingMoveText:this.setLeadingMoveText(m[0],m[1]);break;case K.OPS.setFont:this.setFont(m);break;case K.OPS.showText:case K.OPS.showSpacedText:this.showText(m[0]);break;case K.OPS.endText:this.endText();break;case K.OPS.moveText:this.moveText(m[0],m[1]);break;case K.OPS.setCharSpacing:this.setCharSpacing(m[0]);break;case K.OPS.setWordSpacing:this.setWordSpacing(m[0]);break;case K.OPS.setHScale:this.setHScale(m[0]);break;case K.OPS.setTextMatrix:this.setTextMatrix(m[0],m[1],m[2],m[3],m[4],m[5]);break;case K.OPS.setTextRise:this.setTextRise(m[0]);break;case K.OPS.setTextRenderingMode:this.setTextRenderingMode(m[0]);break;case K.OPS.setLineWidth:this.setLineWidth(m[0]);break;case K.OPS.setLineJoin:this.setLineJoin(m[0]);break;case K.OPS.setLineCap:this.setLineCap(m[0]);break;case K.OPS.setMiterLimit:this.setMiterLimit(m[0]);break;case K.OPS.setFillRGBColor:this.setFillRGBColor(m[0],m[1],m[2]);break;case K.OPS.setStrokeRGBColor:this.setStrokeRGBColor(m[0],m[1],m[2]);break;case K.OPS.setStrokeColorN:this.setStrokeColorN(m);break;case K.OPS.setFillColorN:this.setFillColorN(m);break;case K.OPS.shadingFill:this.shadingFill(m[0]);break;case K.OPS.setDash:this.setDash(m[0],m[1]);break;case K.OPS.setRenderingIntent:this.setRenderingIntent(m[0]);break;case K.OPS.setFlatness:this.setFlatness(m[0]);break;case K.OPS.setGState:this.setGState(m[0]);break;case K.OPS.fill:this.fill();break;case K.OPS.eoFill:this.eoFill();break;case K.OPS.stroke:this.stroke();break;case K.OPS.fillStroke:this.fillStroke();break;case K.OPS.eoFillStroke:this.eoFillStroke();break;case K.OPS.clip:this.clip("nonzero");break;case K.OPS.eoClip:this.clip("evenodd");break;case K.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case K.OPS.paintImageXObject:this.paintImageXObject(m[0]);break;case K.OPS.paintInlineImageXObject:this.paintInlineImageXObject(m[0]);break;case K.OPS.paintImageMaskXObject:this.paintImageMaskXObject(m[0]);break;case K.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(m[0],m[1]);break;case K.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case K.OPS.closePath:this.closePath();break;case K.OPS.closeStroke:this.closeStroke();break;case K.OPS.closeFillStroke:this.closeFillStroke();break;case K.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case K.OPS.nextLine:this.nextLine();break;case K.OPS.transform:this.transform(m[0],m[1],m[2],m[3],m[4],m[5]);break;case K.OPS.constructPath:this.constructPath(m[0],m[1]);break;case K.OPS.endPath:this.endPath();break;case 92:this.group(a.items);break;default:(0,K.warn)(`Unimplemented operator ${p}`)}}}setWordSpacing(n){this.current.wordSpacing=n}setCharSpacing(n){this.current.charSpacing=n}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(n,a,p,v,m,c){const f=this.current;f.textMatrix=f.lineMatrix=[n,a,p,v,m,c],f.textMatrixScale=Math.hypot(n,a),f.x=f.lineX=0,f.y=f.lineY=0,f.xcoords=[],f.ycoords=[],f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${b(f.fontSize)}px`),f.tspan.setAttributeNS(null,"y",b(-f.y)),f.txtElement=this.svgFactory.createElement("svg:text"),f.txtElement.appendChild(f.tspan)}beginText(){const n=this.current;n.x=n.lineX=0,n.y=n.lineY=0,n.textMatrix=K.IDENTITY_MATRIX,n.lineMatrix=K.IDENTITY_MATRIX,n.textMatrixScale=1,n.tspan=this.svgFactory.createElement("svg:tspan"),n.txtElement=this.svgFactory.createElement("svg:text"),n.txtgrp=this.svgFactory.createElement("svg:g"),n.xcoords=[],n.ycoords=[]}moveText(n,a){const p=this.current;p.x=p.lineX+=n,p.y=p.lineY+=a,p.xcoords=[],p.ycoords=[],p.tspan=this.svgFactory.createElement("svg:tspan"),p.tspan.setAttributeNS(null,"font-family",p.fontFamily),p.tspan.setAttributeNS(null,"font-size",`${b(p.fontSize)}px`),p.tspan.setAttributeNS(null,"y",b(-p.y))}showText(n){const a=this.current,p=a.font,v=a.fontSize;if(0===v)return;const m=a.fontSizeScale,c=a.charSpacing,f=a.wordSpacing,y=a.fontDirection,i=a.textHScale*y,d=p.vertical,S=d?1:-1,s=p.defaultVMetrics,l=v*a.fontMatrix[0];let A=0;for(const M of n){if(null===M){A+=y*f;continue}if((0,K.isNum)(M)){A+=S*M*v/1e3;continue}const O=(M.isSpace?f:0)+c,C=M.fontChar;let N,X,H,D=M.width;if(d){let j;const _=M.vmetric||s;j=M.vmetric?_[1]:.5*D,j=-j*l,D=_?-_[0]:D,N=j/m,X=(A+_[2]*l)/m}else N=A/m,X=0;(M.isInFont||p.missingFile)&&(a.xcoords.push(a.x+N),d&&a.ycoords.push(-a.y+X),a.tspan.textContent+=C),H=d?D*l-O*y:D*l+O*y,A+=H}a.tspan.setAttributeNS(null,"x",a.xcoords.map(b).join(" ")),a.tspan.setAttributeNS(null,"y",d?a.ycoords.map(b).join(" "):b(-a.y)),d?a.y-=A:a.x+=A*i,a.tspan.setAttributeNS(null,"font-family",a.fontFamily),a.tspan.setAttributeNS(null,"font-size",`${b(a.fontSize)}px`),a.fontStyle!==t.fontStyle&&a.tspan.setAttributeNS(null,"font-style",a.fontStyle),a.fontWeight!==t.fontWeight&&a.tspan.setAttributeNS(null,"font-weight",a.fontWeight);const k=a.textRenderingMode&K.TextRenderingMode.FILL_STROKE_MASK;k===K.TextRenderingMode.FILL||k===K.TextRenderingMode.FILL_STROKE?(a.fillColor!==t.fillColor&&a.tspan.setAttributeNS(null,"fill",a.fillColor),a.fillAlpha<1&&a.tspan.setAttributeNS(null,"fill-opacity",a.fillAlpha)):a.tspan.setAttributeNS(null,"fill",a.textRenderingMode===K.TextRenderingMode.ADD_TO_PATH?"transparent":"none"),(k===K.TextRenderingMode.STROKE||k===K.TextRenderingMode.FILL_STROKE)&&this._setStrokeAttributes(a.tspan,1/(a.textMatrixScale||1));let u=a.textMatrix;0!==a.textRise&&(u=u.slice(),u[5]+=a.textRise),a.txtElement.setAttributeNS(null,"transform",`${r(u)} scale(${b(i)}, -1)`),a.txtElement.setAttributeNS(F,"xml:space","preserve"),a.txtElement.appendChild(a.tspan),a.txtgrp.appendChild(a.txtElement),this._ensureTransformGroup().appendChild(a.txtElement)}setLeadingMoveText(n,a){this.setLeading(-a),this.moveText(n,a)}addFontStyle(n){if(!n.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.appendChild(this.cssStyle));const a=(0,K.createObjectURL)(n.data,n.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${n.loadedName}"; src: url(${a}); }\n`}setFont(n){const a=this.current,p=this.commonObjs.get(n[0]);let v=n[1];a.font=p,this.embedFonts&&!p.missingFile&&!this.embeddedFonts[p.loadedName]&&(this.addFontStyle(p),this.embeddedFonts[p.loadedName]=p),a.fontMatrix=p.fontMatrix||K.FONT_IDENTITY_MATRIX;let m="normal";p.black?m="900":p.bold&&(m="bold");const c=p.italic?"italic":"normal";v<0?(v=-v,a.fontDirection=-1):a.fontDirection=1,a.fontSize=v,a.fontFamily=p.loadedName,a.fontWeight=m,a.fontStyle=c,a.tspan=this.svgFactory.createElement("svg:tspan"),a.tspan.setAttributeNS(null,"y",b(-a.y)),a.xcoords=[],a.ycoords=[]}endText(){const n=this.current;n.textRenderingMode&K.TextRenderingMode.ADD_TO_PATH_FLAG&&n.txtElement?.hasChildNodes()&&(n.element=n.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(n){n>0&&(this.current.lineWidth=n)}setLineCap(n){this.current.lineCap=e[n]}setLineJoin(n){this.current.lineJoin=x[n]}setMiterLimit(n){this.current.miterLimit=n}setStrokeAlpha(n){this.current.strokeAlpha=n}setStrokeRGBColor(n,a,p){this.current.strokeColor=K.Util.makeHexColor(n,a,p)}setFillAlpha(n){this.current.fillAlpha=n}setFillRGBColor(n,a,p){this.current.fillColor=K.Util.makeHexColor(n,a,p),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(n){this.current.strokeColor=this._makeColorN_Pattern(n)}setFillColorN(n){this.current.fillColor=this._makeColorN_Pattern(n)}shadingFill(n){const a=this.viewport.width,p=this.viewport.height,v=K.Util.inverseTransform(this.transformMatrix),m=K.Util.applyTransform([0,0],v),c=K.Util.applyTransform([0,p],v),f=K.Util.applyTransform([a,0],v),y=K.Util.applyTransform([a,p],v),i=Math.min(m[0],c[0],f[0],y[0]),d=Math.min(m[1],c[1],f[1],y[1]),S=Math.max(m[0],c[0],f[0],y[0]),s=Math.max(m[1],c[1],f[1],y[1]),l=this.svgFactory.createElement("svg:rect");l.setAttributeNS(null,"x",i),l.setAttributeNS(null,"y",d),l.setAttributeNS(null,"width",S-i),l.setAttributeNS(null,"height",s-d),l.setAttributeNS(null,"fill",this._makeShadingPattern(n)),this.current.fillAlpha<1&&l.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().appendChild(l)}_makeColorN_Pattern(n){return"TilingPattern"===n[0]?this._makeTilingPattern(n):this._makeShadingPattern(n)}_makeTilingPattern(n){const a=n[1],p=n[2],v=n[3]||K.IDENTITY_MATRIX,[m,c,f,y]=n[4],i=n[5],d=n[6],S=n[7],s="shading"+h++,[l,A]=K.Util.applyTransform([m,c],v),[k,u]=K.Util.applyTransform([f,y],v),[M,O]=K.Util.singularValueDecompose2dScale(v),C=i*M,N=d*O,X=this.svgFactory.createElement("svg:pattern");X.setAttributeNS(null,"id",s),X.setAttributeNS(null,"patternUnits","userSpaceOnUse"),X.setAttributeNS(null,"width",C),X.setAttributeNS(null,"height",N),X.setAttributeNS(null,"x",`${l}`),X.setAttributeNS(null,"y",`${A}`);const H=this.svg,D=this.transformMatrix,j=this.current.fillColor,_=this.current.strokeColor,T=this.svgFactory.create(k-l,u-A);if(this.svg=T,this.transformMatrix=v,2===S){const U=K.Util.makeHexColor(...a);this.current.fillColor=U,this.current.strokeColor=U}return this.executeOpTree(this.convertOpList(p)),this.svg=H,this.transformMatrix=D,this.current.fillColor=j,this.current.strokeColor=_,X.appendChild(T.childNodes[0]),this.defs.appendChild(X),`url(#${s})`}_makeShadingPattern(n){switch(n[0]){case"RadialAxial":const a="shading"+h++,p=n[3];let v;switch(n[1]){case"axial":const m=n[4],c=n[5];v=this.svgFactory.createElement("svg:linearGradient"),v.setAttributeNS(null,"id",a),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"x1",m[0]),v.setAttributeNS(null,"y1",m[1]),v.setAttributeNS(null,"x2",c[0]),v.setAttributeNS(null,"y2",c[1]);break;case"radial":const f=n[4],y=n[5],i=n[6],d=n[7];v=this.svgFactory.createElement("svg:radialGradient"),v.setAttributeNS(null,"id",a),v.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),v.setAttributeNS(null,"cx",y[0]),v.setAttributeNS(null,"cy",y[1]),v.setAttributeNS(null,"r",d),v.setAttributeNS(null,"fx",f[0]),v.setAttributeNS(null,"fy",f[1]),v.setAttributeNS(null,"fr",i);break;default:throw new Error(`Unknown RadialAxial type: ${n[1]}`)}for(const m of p){const c=this.svgFactory.createElement("svg:stop");c.setAttributeNS(null,"offset",m[0]),c.setAttributeNS(null,"stop-color",m[1]),v.appendChild(c)}return this.defs.appendChild(v),`url(#${a})`;case"Mesh":return(0,K.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${n[0]}`)}}setDash(n,a){this.current.dashArray=n,this.current.dashPhase=a}constructPath(n,a){const p=this.current;let v=p.x,m=p.y,c=[],f=0;for(const y of n)switch(0|y){case K.OPS.rectangle:v=a[f++],m=a[f++];const i=v+a[f++],d=m+a[f++];c.push("M",b(v),b(m),"L",b(i),b(m),"L",b(i),b(d),"L",b(v),b(d),"Z");break;case K.OPS.moveTo:v=a[f++],m=a[f++],c.push("M",b(v),b(m));break;case K.OPS.lineTo:v=a[f++],m=a[f++],c.push("L",b(v),b(m));break;case K.OPS.curveTo:v=a[f+4],m=a[f+5],c.push("C",b(a[f]),b(a[f+1]),b(a[f+2]),b(a[f+3]),b(v),b(m)),f+=6;break;case K.OPS.curveTo2:c.push("C",b(v),b(m),b(a[f]),b(a[f+1]),b(a[f+2]),b(a[f+3])),v=a[f+2],m=a[f+3],f+=4;break;case K.OPS.curveTo3:v=a[f+2],m=a[f+3],c.push("C",b(a[f]),b(a[f+1]),b(v),b(m),b(v),b(m)),f+=4;break;case K.OPS.closePath:c.push("Z")}c=c.join(" "),p.path&&n.length>0&&n[0]!==K.OPS.rectangle&&n[0]!==K.OPS.moveTo?c=p.path.getAttributeNS(null,"d")+c:(p.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().appendChild(p.path)),p.path.setAttributeNS(null,"d",c),p.path.setAttributeNS(null,"fill","none"),p.element=p.path,p.setCurrentPoint(v,m)}endPath(){const n=this.current;if(n.path=null,!this.pendingClip)return;if(!n.element)return void(this.pendingClip=null);const a="clippath"+w++,p=this.svgFactory.createElement("svg:clipPath");p.setAttributeNS(null,"id",a),p.setAttributeNS(null,"transform",r(this.transformMatrix));const v=n.element.cloneNode(!0);if(v.setAttributeNS(null,"clip-rule","evenodd"===this.pendingClip?"evenodd":"nonzero"),this.pendingClip=null,p.appendChild(v),this.defs.appendChild(p),n.activeClipUrl){n.clipGroup=null;for(const m of this.extraStack)m.clipGroup=null;p.setAttributeNS(null,"clip-path",n.activeClipUrl)}n.activeClipUrl=`url(#${a})`,this.tgrp=null}clip(n){this.pendingClip=n}closePath(){const n=this.current;if(n.path){const a=`${n.path.getAttributeNS(null,"d")}Z`;n.path.setAttributeNS(null,"d",a)}}setLeading(n){this.current.leading=-n}setTextRise(n){this.current.textRise=n}setTextRenderingMode(n){this.current.textRenderingMode=n}setHScale(n){this.current.textHScale=n/100}setRenderingIntent(n){}setFlatness(n){}setGState(n){for(const[a,p]of n)switch(a){case"LW":this.setLineWidth(p);break;case"LC":this.setLineCap(p);break;case"LJ":this.setLineJoin(p);break;case"ML":this.setMiterLimit(p);break;case"D":this.setDash(p[0],p[1]);break;case"RI":this.setRenderingIntent(p);break;case"FL":this.setFlatness(p);break;case"Font":this.setFont(p);break;case"CA":this.setStrokeAlpha(p);break;case"ca":this.setFillAlpha(p);break;default:(0,K.warn)(`Unimplemented graphic state operator ${a}`)}}fill(){const n=this.current;n.element&&(n.element.setAttributeNS(null,"fill",n.fillColor),n.element.setAttributeNS(null,"fill-opacity",n.fillAlpha),this.endPath())}stroke(){const n=this.current;n.element&&(this._setStrokeAttributes(n.element),n.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(n,a=1){const p=this.current;let v=p.dashArray;1!==a&&v.length>0&&(v=v.map(function(m){return a*m})),n.setAttributeNS(null,"stroke",p.strokeColor),n.setAttributeNS(null,"stroke-opacity",p.strokeAlpha),n.setAttributeNS(null,"stroke-miterlimit",b(p.miterLimit)),n.setAttributeNS(null,"stroke-linecap",p.lineCap),n.setAttributeNS(null,"stroke-linejoin",p.lineJoin),n.setAttributeNS(null,"stroke-width",b(a*p.lineWidth)+"px"),n.setAttributeNS(null,"stroke-dasharray",v.map(b).join(" ")),n.setAttributeNS(null,"stroke-dashoffset",b(a*p.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){const n=this.svgFactory.createElement("svg:rect");n.setAttributeNS(null,"x","0"),n.setAttributeNS(null,"y","0"),n.setAttributeNS(null,"width","1px"),n.setAttributeNS(null,"height","1px"),n.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().appendChild(n)}paintImageXObject(n){const a=n.startsWith("g_")?this.commonObjs.get(n):this.objs.get(n);a?this.paintInlineImageXObject(a):(0,K.warn)(`Dependent image with object ID ${n} is not ready yet`)}paintInlineImageXObject(n,a){const p=n.width,v=n.height,m=L(n,this.forceDataSchema,!!a),c=this.svgFactory.createElement("svg:rect");c.setAttributeNS(null,"x","0"),c.setAttributeNS(null,"y","0"),c.setAttributeNS(null,"width",b(p)),c.setAttributeNS(null,"height",b(v)),this.current.element=c,this.clip("nonzero");const f=this.svgFactory.createElement("svg:image");f.setAttributeNS(R,"xlink:href",m),f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y",b(-v)),f.setAttributeNS(null,"width",b(p)+"px"),f.setAttributeNS(null,"height",b(v)+"px"),f.setAttributeNS(null,"transform",`scale(${b(1/p)} ${b(-1/v)})`),a?a.appendChild(f):this._ensureTransformGroup().appendChild(f)}paintImageMaskXObject(n){const a=this.current,p=n.width,v=n.height,m=a.fillColor;a.maskId="mask"+o++;const c=this.svgFactory.createElement("svg:mask");c.setAttributeNS(null,"id",a.maskId);const f=this.svgFactory.createElement("svg:rect");f.setAttributeNS(null,"x","0"),f.setAttributeNS(null,"y","0"),f.setAttributeNS(null,"width",b(p)),f.setAttributeNS(null,"height",b(v)),f.setAttributeNS(null,"fill",m),f.setAttributeNS(null,"mask",`url(#${a.maskId})`),this.defs.appendChild(c),this._ensureTransformGroup().appendChild(f),this.paintInlineImageXObject(n,c)}paintFormXObjectBegin(n,a){if(Array.isArray(n)&&6===n.length&&this.transform(n[0],n[1],n[2],n[3],n[4],n[5]),a){const p=a[2]-a[0],v=a[3]-a[1],m=this.svgFactory.createElement("svg:rect");m.setAttributeNS(null,"x",a[0]),m.setAttributeNS(null,"y",a[1]),m.setAttributeNS(null,"width",b(p)),m.setAttributeNS(null,"height",b(v)),this.current.element=m,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(n){const a=this.svgFactory.create(n.width,n.height),p=this.svgFactory.createElement("svg:defs");a.appendChild(p),this.defs=p;const v=this.svgFactory.createElement("svg:g");return v.setAttributeNS(null,"transform",r(n.transform)),a.appendChild(v),this.svg=v,a}_ensureClipGroup(){if(!this.current.clipGroup){const n=this.svgFactory.createElement("svg:g");n.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.appendChild(n),this.current.clipGroup=n}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",r(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().appendChild(this.tgrp):this.svg.appendChild(this.tgrp)),this.tgrp}}}},(De,ee)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.XfaLayer=void 0,ee.XfaLayer=class{static setupStorage(K,ne,I,G){const t=G.getValue(ne,{value:null});switch(I.name){case"textarea":K.textContent=null!==t.value?t.value:"",K.addEventListener("input",F=>{G.setValue(ne,{value:F.target.value})});break;case"input":null!==t.value&&K.setAttribute("value",t.value),"radio"===I.attributes.type?K.addEventListener("change",F=>{const{target:R}=F;for(const e of document.getElementsByName(R.name))e!==R&&G.setValue(e.id.split("-")[0],{value:!1});G.setValue(ne,{value:R.checked})}):K.addEventListener("input",F=>{G.setValue(ne,{value:F.target.value})});break;case"select":if(null!==t.value)for(const F of I.children)F.attributes.value===t.value&&(F.attributes.selected=!0);K.addEventListener("input",F=>{const R=F.target.options;G.setValue(ne,{value:-1===R.selectedIndex?null:R[R.selectedIndex].value})})}}static setAttributes(K,ne,I){const{attributes:G}=ne;for(const[t,F]of Object.entries(G))null!=F&&"fieldId"!==t&&("style"!==t?"textContent"===t?K.textContent=F:K.setAttribute(t,F):Object.assign(K.style,F));I&&void 0!==G.fieldId&&this.setupStorage(K,G.fieldId,ne,I)}static render(K){const ne=K.annotationStorage,I=K.xfa,G=document.createElement(I.name);I.attributes&&this.setAttributes(G,I);const t=[[I,-1,G]],F=K.div;F.appendChild(G);const R=K.viewport.transform.join(",");for(F.style.transform=`matrix(${R})`,F.setAttribute("class","xfaLayer xfaFont");t.length>0;){const[e,x,L]=t[t.length-1];if(x+1===e.children.length){t.pop();continue}const P=e.children[++t[t.length-1][1]];if(null===P)continue;const{name:b}=P;if("#text"===b){L.appendChild(document.createTextNode(P.value));continue}const r=document.createElement(b);L.appendChild(r),P.attributes&&this.setAttributes(r,P,ne),P.children&&P.children.length>0?t.push([P,-1,r]):P.value&&r.appendChild(document.createTextNode(P.value))}}static update(K){const ne=`matrix(${K.viewport.transform.join(",")})`;K.div.style.transform=ne,K.div.hidden=!1}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.PDFNodeStream=void 0;var K=he(2),ne=he(23);const I=require("fs"),G=require("http"),t=require("https"),F=require("url"),R=/^file:\/\/\/[a-zA-Z]:\//;ee.PDFNodeStream=class{constructor(h){this.source=h,this.url=function(a){const p=F.parse(a);return"file:"===p.protocol||p.host?p:/^[a-z]:[/\\]/i.test(a)?F.parse(`file:///${a}`):(p.host||(p.protocol="file:"),p)}(h.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.httpHeaders=this.isHttp&&h.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,K.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new r(this):new P(this),this._fullRequestReader}getRangeReader(h,n){if(n<=this._progressiveDataLength)return null;const a=this.isFsUrl?new w(this,h,n):new b(this,h,n);return this._rangeRequestReaders.push(a),a}cancelAllRequests(h){this._fullRequestReader&&this._fullRequestReader.cancel(h);for(const n of this._rangeRequestReaders.slice(0))n.cancel(h)}};class e{constructor(h){this._url=h.url,this._done=!1,this._storedError=null,this.onProgress=null;const n=h.source;this._contentLength=n.length,this._loaded=0,this._filename=null,this._disableRange=n.disableRange||!1,this._rangeChunkSize=n.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!n.disableStream,this._isRangeSupported=!n.disableRange,this._readableStream=null,this._readCapability=(0,K.createPromiseCapability)(),this._headersCapability=(0,K.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const h=this._readableStream.read();return null===h?(this._readCapability=(0,K.createPromiseCapability)(),this.read()):(this._loaded+=h.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(h).buffer,done:!1})}cancel(h){this._readableStream?this._readableStream.destroy(h):this._error(h)}_error(h){this._storedError=h,this._readCapability.resolve()}_setReadableStream(h){this._readableStream=h,h.on("readable",()=>{this._readCapability.resolve()}),h.on("end",()=>{h.destroy(),this._done=!0,this._readCapability.resolve()}),h.on("error",n=>{this._error(n)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new K.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class x{constructor(h){this._url=h.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,K.createPromiseCapability)(),this._isStreamingSupported=!h.source.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const h=this._readableStream.read();return null===h?(this._readCapability=(0,K.createPromiseCapability)(),this.read()):(this._loaded+=h.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(h).buffer,done:!1})}cancel(h){this._readableStream?this._readableStream.destroy(h):this._error(h)}_error(h){this._storedError=h,this._readCapability.resolve()}_setReadableStream(h){this._readableStream=h,h.on("readable",()=>{this._readCapability.resolve()}),h.on("end",()=>{h.destroy(),this._done=!0,this._readCapability.resolve()}),h.on("error",n=>{this._error(n)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function L(o,h){return{protocol:o.protocol,auth:o.auth,host:o.hostname,port:o.port,path:o.path,method:"GET",headers:h}}class P extends e{constructor(h){super(h);const n=a=>{if(404===a.statusCode){const c=new K.MissingPDFException(`Missing PDF "${this._url}".`);return this._storedError=c,void this._headersCapability.reject(c)}this._headersCapability.resolve(),this._setReadableStream(a);const p=c=>this._readableStream.headers[c.toLowerCase()],{allowRangeRequests:v,suggestedLength:m}=(0,ne.validateRangeRequestCapabilities)({getResponseHeader:p,isHttp:h.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=v,this._contentLength=m||this._contentLength,this._filename=(0,ne.extractFilenameFromHeader)(p)};this._request=null,this._request="http:"===this._url.protocol?G.request(L(this._url,h.httpHeaders),n):t.request(L(this._url,h.httpHeaders),n),this._request.on("error",a=>{this._storedError=a,this._headersCapability.reject(a)}),this._request.end()}}class b extends x{constructor(h,n,a){super(h),this._httpHeaders={};for(const v in h.httpHeaders){const m=h.httpHeaders[v];void 0!==m&&(this._httpHeaders[v]=m)}this._httpHeaders.Range=`bytes=${n}-${a-1}`;const p=v=>{if(404!==v.statusCode)this._setReadableStream(v);else{const m=new K.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=m}};this._request=null,this._request="http:"===this._url.protocol?G.request(L(this._url,this._httpHeaders),p):t.request(L(this._url,this._httpHeaders),p),this._request.on("error",v=>{this._storedError=v}),this._request.end()}}class r extends e{constructor(h){super(h);let n=decodeURIComponent(this._url.path);R.test(this._url.href)&&(n=n.replace(/^\//,"")),I.lstat(n,(a,p)=>{a?("ENOENT"===a.code&&(a=new K.MissingPDFException(`Missing PDF "${n}".`)),this._storedError=a,this._headersCapability.reject(a)):(this._contentLength=p.size,this._setReadableStream(I.createReadStream(n)),this._headersCapability.resolve())})}}class w extends x{constructor(h,n,a){super(h);let p=decodeURIComponent(this._url.path);R.test(this._url.href)&&(p=p.replace(/^\//,"")),this._setReadableStream(I.createReadStream(p,{start:n,end:a-1}))}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.createResponseStatusError=function(t,F){return 404===t||0===t&&F.startsWith("file:")?new K.MissingPDFException('Missing PDF "'+F+'".'):new K.UnexpectedResponseException(`Unexpected server response (${t}) while retrieving PDF "${F}".`,t)},ee.extractFilenameFromHeader=function(t){const F=t("Content-Disposition");if(F){let R=(0,ne.getFilenameFromContentDispositionHeader)(F);if(R.includes("%"))try{R=decodeURIComponent(R)}catch{}if((0,I.isPdfFile)(R))return R}return null},ee.validateRangeRequestCapabilities=function({getResponseHeader:t,isHttp:F,rangeChunkSize:R,disableRange:e}){(0,K.assert)(R>0,"Range chunk size must be larger than zero");const x={allowRangeRequests:!1,suggestedLength:void 0},L=parseInt(t("Content-Length"),10);return!Number.isInteger(L)||(x.suggestedLength=L,L<=2*R)||e||!F||"bytes"!==t("Accept-Ranges")||"identity"!==(t("Content-Encoding")||"identity")||(x.allowRangeRequests=!0),x},ee.validateResponseStatus=function(t){return 200===t||206===t};var K=he(2),ne=he(24),I=he(1)},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.getFilenameFromContentDispositionHeader=function(I){let G=!0,t=F("filename\\*","i").exec(I);if(t){t=t[1];let b=x(t);return b=unescape(b),b=L(b),b=P(b),e(b)}if(t=function(r){const w=[];let o;const h=F("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(o=h.exec(r));){let[,a,p,v]=o;if(a=parseInt(a,10),a in w){if(0===a)break}else w[a]=[p,v]}const n=[];for(let a=0;a<w.length&&a in w;++a){let[p,v]=w[a];v=x(v),p&&(v=unescape(v),0===a&&(v=L(v))),n.push(v)}return n.join("")}(I),t)return e(P(t));if(t=F("filename","i").exec(I),t){t=t[1];let b=x(t);return b=P(b),e(b)}function F(b,r){return new RegExp("(?:^|;)\\s*"+b+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',r)}function R(b,r){if(b){if(!/^[\x00-\xFF]+$/.test(r))return r;try{const w=new TextDecoder(b,{fatal:!0}),o=(0,K.stringToBytes)(r);r=w.decode(o),G=!1}catch{if(/^utf-?8$/i.test(b))try{r=decodeURIComponent(escape(r)),G=!1}catch{}}}return r}function e(b){return G&&/[\x80-\xff]/.test(b)&&(b=R("utf-8",b),G&&(b=R("iso-8859-1",b))),b}function x(b){if(b.startsWith('"')){const r=b.slice(1).split('\\"');for(let w=0;w<r.length;++w){const o=r[w].indexOf('"');-1!==o&&(r[w]=r[w].slice(0,o),r.length=w+1),r[w]=r[w].replace(/\\(.)/g,"$1")}b=r.join('"')}return b}function L(b){const r=b.indexOf("'");return-1===r?b:R(b.slice(0,r),b.slice(r+1).replace(/^[^']*'/,""))}function P(b){return!b.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(b)?b:b.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(r,w,o,h){if("q"===o||"Q"===o)return R(w,h=(h=h.replace(/_/g," ")).replace(/=([0-9a-fA-F]{2})/g,function(n,a){return String.fromCharCode(parseInt(a,16))}));try{h=atob(h)}catch{}return R(w,h)})}return""};var K=he(2)},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.PDFNetworkStream=void 0;var K=he(2),ne=he(23);class I{constructor(R,e){this.url=R,e=e||{},this.isHttp=/^https?:/i.test(R),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this.withCredentials=e.withCredentials||!1,this.getXhr=e.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(R,e,x){const L={begin:R,end:e};for(const P in x)L[P]=x[P];return this.request(L)}requestFull(R){return this.request(R)}request(R){const e=this.getXhr(),x=this.currXhrId++,L=this.pendingRequests[x]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const P in this.httpHeaders){const b=this.httpHeaders[P];void 0!==b&&e.setRequestHeader(P,b)}return this.isHttp&&"begin"in R&&"end"in R?(e.setRequestHeader("Range",`bytes=${R.begin}-${R.end-1}`),L.expectedStatus=206):L.expectedStatus=200,e.responseType="arraybuffer",R.onError&&(e.onerror=function(P){R.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,x),e.onprogress=this.onProgress.bind(this,x),L.onHeadersReceived=R.onHeadersReceived,L.onDone=R.onDone,L.onError=R.onError,L.onProgress=R.onProgress,e.send(null),x}onProgress(R,e){const x=this.pendingRequests[R];x&&x.onProgress&&x.onProgress(e)}onStateChange(R,e){const x=this.pendingRequests[R];if(!x)return;const L=x.xhr;if(L.readyState>=2&&x.onHeadersReceived&&(x.onHeadersReceived(),delete x.onHeadersReceived),4!==L.readyState||!(R in this.pendingRequests))return;if(delete this.pendingRequests[R],0===L.status&&this.isHttp)return void(x.onError&&x.onError(L.status));const P=L.status||200;if((200!==P||206!==x.expectedStatus)&&P!==x.expectedStatus)return void(x.onError&&x.onError(L.status));const b=function(w){const o=w.response;return"string"!=typeof o?o:(0,K.stringToBytes)(o).buffer}(L);if(206===P){const r=L.getResponseHeader("Content-Range"),w=/bytes (\d+)-(\d+)\/(\d+)/.exec(r);x.onDone({begin:parseInt(w[1],10),chunk:b})}else b?x.onDone({begin:0,chunk:b}):x.onError&&x.onError(L.status)}getRequestXhr(R){return this.pendingRequests[R].xhr}isPendingRequest(R){return R in this.pendingRequests}abortRequest(R){const e=this.pendingRequests[R].xhr;delete this.pendingRequests[R],e.abort()}}ee.PDFNetworkStream=class{constructor(R){this._source=R,this._manager=new I(R.url,{httpHeaders:R.httpHeaders,withCredentials:R.withCredentials}),this._rangeChunkSize=R.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(R){const e=this._rangeRequestReaders.indexOf(R);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return(0,K.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new G(this._manager,this._source),this._fullRequestReader}getRangeReader(R,e){const x=new t(this._manager,R,e);return x.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(x),x}cancelAllRequests(R){this._fullRequestReader&&this._fullRequestReader.cancel(R);for(const e of this._rangeRequestReaders.slice(0))e.cancel(R)}};class G{constructor(R,e){this._manager=R;const x={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=R.requestFull(x),this._headersReceivedCapability=(0,K.createPromiseCapability)(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const R=this._fullRequestId,e=this._manager.getRequestXhr(R),x=b=>e.getResponseHeader(b),{allowRangeRequests:L,suggestedLength:P}=(0,ne.validateRangeRequestCapabilities)({getResponseHeader:x,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});L&&(this._isRangeSupported=!0),this._contentLength=P||this._contentLength,this._filename=(0,ne.extractFilenameFromHeader)(x),this._isRangeSupported&&this._manager.abortRequest(R),this._headersReceivedCapability.resolve()}_onDone(R){if(R&&(this._requests.length>0?this._requests.shift().resolve({value:R.chunk,done:!1}):this._cachedChunks.push(R.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(R){const x=(0,ne.createResponseStatusError)(R,this._url);this._storedError=x,this._headersReceivedCapability.reject(x);for(const L of this._requests)L.reject(x);this._requests.length=0,this._cachedChunks.length=0}_onProgress(R){this.onProgress&&this.onProgress({loaded:R.loaded,total:R.lengthComputable?R.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const R=(0,K.createPromiseCapability)();return this._requests.push(R),R.promise}cancel(R){this._done=!0,this._headersReceivedCapability.reject(R);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class t{constructor(R,e,x){this._manager=R;const L={onDone:this._onDone.bind(this),onProgress:this._onProgress.bind(this)};this._requestId=R.requestRange(e,x,L),this._requests=[],this._queuedChunk=null,this._done=!1,this.onProgress=null,this.onClosed=null}_close(){this.onClosed&&this.onClosed(this)}_onDone(R){const e=R.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onProgress(R){!this.isStreamingSupported&&this.onProgress&&this.onProgress({loaded:R.loaded})}get isStreamingSupported(){return!1}async read(){if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const R=(0,K.createPromiseCapability)();return this._requests.push(R),R.promise}cancel(R){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(De,ee,he)=>{Object.defineProperty(ee,"__esModule",{value:!0}),ee.PDFFetchStream=void 0;var K=he(2),ne=he(23);function I(R,e,x){return{method:"GET",headers:R,signal:x?.signal,mode:"cors",credentials:e?"include":"same-origin",redirect:"follow"}}function G(R){const e=new Headers;for(const x in R){const L=R[x];void 0!==L&&e.append(x,L)}return e}ee.PDFFetchStream=class{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.httpHeaders=this.isHttp&&e.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,K.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new t(this),this._fullRequestReader}getRangeReader(e,x){if(x<=this._progressiveDataLength)return null;const L=new F(this,e,x);return this._rangeRequestReaders.push(L),L}cancelAllRequests(e){this._fullRequestReader&&this._fullRequestReader.cancel(e);for(const x of this._rangeRequestReaders.slice(0))x.cancel(e)}};class t{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const x=e.source;this._withCredentials=x.withCredentials||!1,this._contentLength=x.length,this._headersCapability=(0,K.createPromiseCapability)(),this._disableRange=x.disableRange||!1,this._rangeChunkSize=x.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),typeof AbortController<"u"&&(this._abortController=new AbortController),this._isStreamingSupported=!x.disableStream,this._isRangeSupported=!x.disableRange,this._headers=G(this._stream.httpHeaders);const L=x.url;fetch(L,I(this._headers,this._withCredentials,this._abortController)).then(P=>{if(!(0,ne.validateResponseStatus)(P.status))throw(0,ne.createResponseStatusError)(P.status,L);this._reader=P.body.getReader(),this._headersCapability.resolve();const b=o=>P.headers.get(o),{allowRangeRequests:r,suggestedLength:w}=(0,ne.validateRangeRequestCapabilities)({getResponseHeader:b,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=w||this._contentLength,this._filename=(0,ne.extractFilenameFromHeader)(b),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new K.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;const{value:e,done:x}=await this._reader.read();return x?{value:e,done:x}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}class F{constructor(e,x,L){this._stream=e,this._reader=null,this._loaded=0;const P=e.source;this._withCredentials=P.withCredentials||!1,this._readCapability=(0,K.createPromiseCapability)(),this._isStreamingSupported=!P.disableStream,typeof AbortController<"u"&&(this._abortController=new AbortController),this._headers=G(this._stream.httpHeaders),this._headers.append("Range",`bytes=${x}-${L-1}`);const b=P.url;fetch(b,I(this._headers,this._withCredentials,this._abortController)).then(r=>{if(!(0,ne.validateResponseStatus)(r.status))throw(0,ne.createResponseStatusError)(r.status,b);this._readCapability.resolve(),this._reader=r.body.getReader()}).catch(r=>{if("AbortError"!==r?.name)throw r}),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;const{value:e,done:x}=await this._reader.read();return x?{value:e,done:x}:(this._loaded+=e.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(e).buffer,done:!1})}cancel(e){this._reader&&this._reader.cancel(e),this._abortController&&this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(De){var ee=__webpack_module_cache__[De];if(void 0!==ee)return ee.exports;var he=__webpack_module_cache__[De]={exports:{}};return __webpack_modules__[De](he,he.exports,__w_pdfjs_require__),he.exports}var __webpack_exports__={};return(()=>{var De=__webpack_exports__;Object.defineProperty(De,"__esModule",{value:!0}),Object.defineProperty(De,"addLinkAttributes",{enumerable:!0,get:function(){return ee.addLinkAttributes}}),Object.defineProperty(De,"getFilenameFromUrl",{enumerable:!0,get:function(){return ee.getFilenameFromUrl}}),Object.defineProperty(De,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return ee.getPdfFilenameFromUrl}}),Object.defineProperty(De,"isPdfFile",{enumerable:!0,get:function(){return ee.isPdfFile}}),Object.defineProperty(De,"LinkTarget",{enumerable:!0,get:function(){return ee.LinkTarget}}),Object.defineProperty(De,"loadScript",{enumerable:!0,get:function(){return ee.loadScript}}),Object.defineProperty(De,"PDFDateString",{enumerable:!0,get:function(){return ee.PDFDateString}}),Object.defineProperty(De,"RenderingCancelledException",{enumerable:!0,get:function(){return ee.RenderingCancelledException}}),Object.defineProperty(De,"build",{enumerable:!0,get:function(){return he.build}}),Object.defineProperty(De,"getDocument",{enumerable:!0,get:function(){return he.getDocument}}),Object.defineProperty(De,"LoopbackPort",{enumerable:!0,get:function(){return he.LoopbackPort}}),Object.defineProperty(De,"PDFDataRangeTransport",{enumerable:!0,get:function(){return he.PDFDataRangeTransport}}),Object.defineProperty(De,"PDFWorker",{enumerable:!0,get:function(){return he.PDFWorker}}),Object.defineProperty(De,"version",{enumerable:!0,get:function(){return he.version}}),Object.defineProperty(De,"CMapCompressionType",{enumerable:!0,get:function(){return K.CMapCompressionType}}),Object.defineProperty(De,"createObjectURL",{enumerable:!0,get:function(){return K.createObjectURL}}),Object.defineProperty(De,"createPromiseCapability",{enumerable:!0,get:function(){return K.createPromiseCapability}}),Object.defineProperty(De,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return K.createValidAbsoluteUrl}}),Object.defineProperty(De,"InvalidPDFException",{enumerable:!0,get:function(){return K.InvalidPDFException}}),Object.defineProperty(De,"MissingPDFException",{enumerable:!0,get:function(){return K.MissingPDFException}}),Object.defineProperty(De,"OPS",{enumerable:!0,get:function(){return K.OPS}}),Object.defineProperty(De,"PasswordResponses",{enumerable:!0,get:function(){return K.PasswordResponses}}),Object.defineProperty(De,"PermissionFlag",{enumerable:!0,get:function(){return K.PermissionFlag}}),Object.defineProperty(De,"removeNullCharacters",{enumerable:!0,get:function(){return K.removeNullCharacters}}),Object.defineProperty(De,"shadow",{enumerable:!0,get:function(){return K.shadow}}),Object.defineProperty(De,"UnexpectedResponseException",{enumerable:!0,get:function(){return K.UnexpectedResponseException}}),Object.defineProperty(De,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return K.UNSUPPORTED_FEATURES}}),Object.defineProperty(De,"Util",{enumerable:!0,get:function(){return K.Util}}),Object.defineProperty(De,"VerbosityLevel",{enumerable:!0,get:function(){return K.VerbosityLevel}}),Object.defineProperty(De,"AnnotationLayer",{enumerable:!0,get:function(){return ne.AnnotationLayer}}),Object.defineProperty(De,"apiCompatibilityParams",{enumerable:!0,get:function(){return I.apiCompatibilityParams}}),Object.defineProperty(De,"GlobalWorkerOptions",{enumerable:!0,get:function(){return G.GlobalWorkerOptions}}),Object.defineProperty(De,"renderTextLayer",{enumerable:!0,get:function(){return t.renderTextLayer}}),Object.defineProperty(De,"SVGGraphics",{enumerable:!0,get:function(){return F.SVGGraphics}}),Object.defineProperty(De,"XfaLayer",{enumerable:!0,get:function(){return R.XfaLayer}});var ee=__w_pdfjs_require__(1),he=__w_pdfjs_require__(5),K=__w_pdfjs_require__(2),ne=__w_pdfjs_require__(17),I=__w_pdfjs_require__(9),G=__w_pdfjs_require__(12),t=__w_pdfjs_require__(19),F=__w_pdfjs_require__(20),R=__w_pdfjs_require__(21);{const{isNodeJS:e}=__w_pdfjs_require__(4);if(e){const x=__w_pdfjs_require__(22).PDFNodeStream;(0,he.setPDFNetworkStreamFactory)(L=>new x(L))}else{const x=__w_pdfjs_require__(25).PDFNetworkStream;let L;(0,ee.isFetchSupported)()&&(L=__w_pdfjs_require__(26).PDFFetchStream),(0,he.setPDFNetworkStreamFactory)(P=>L&&(0,ee.isValidFetchUrl)(P.url)?new L(P):new x(P))}}})(),__webpack_exports__})()}),function De(ee,he){"object"==typeof exports&&"object"==typeof module?module.exports=he():"function"==typeof define&&define.amd?define("pdfjs-dist/build/pdf.worker",[],he):"object"==typeof exports?exports["pdfjs-dist/build/pdf.worker"]=he():ee["pdfjs-dist/build/pdf.worker"]=ee.pdfjsWorker=he()}(this,function(){return(()=>{"use strict";var De=[,(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.WorkerTask=I.WorkerMessageHandler=void 0;var h,t=G(2),F=G(5),R=G(7),e=G(64),x=G(4),L=G(89),P=G(90),b=G(9);class r{constructor(h){this.name=h,this.terminated=!1,this._capability=(0,t.createPromiseCapability)()}get finished(){return this._capability.promise}finish(){this._capability.resolve()}terminate(){this.terminated=!0}ensureNotTerminated(){if(this.terminated)throw new Error("Worker task was terminated")}}I.WorkerTask=r;class w{static setup(h,n){let a=!1;h.on("test",function(v){if(a)return;if(a=!0,!(v instanceof Uint8Array))return void h.send("test",null);const m=255===v[0];h.postMessageTransfers=m,h.send("test",{supportTransfers:m})}),h.on("configure",function(v){(0,t.setVerbosityLevel)(v.verbosity)}),h.on("GetDocRequest",function(v){return w.createDocumentHandler(v,n)})}static createDocumentHandler(h,n){let a,p=!1,v=null;const m=[],c=(0,t.getVerbosityLevel)(),f=h.apiVersion;if("2.9.359"!==f)throw new Error(`The API version "${f}" does not match the Worker version "2.9.359".`);const i=[];for(const C in[])i.push(C);if(i.length)throw new Error("The `Array.prototype` contains unexpected enumerable properties: "+i.join(", ")+"; thus breaking e.g. `for...in` iteration of `Array`s.");if(typeof ReadableStream>"u")throw new Error("The browser/environment lacks native support for critical functionality used by the PDF.js library (e.g. `ReadableStream`); please use a `legacy`-build instead.");const d=h.docId,S=h.docBaseUrl,s=h.docId+"_worker";let l=new L.MessageHandler(s,d,n);function A(){if(p)throw new Error("Worker was terminated")}function k(C){m.push(C)}function u(C){C.finish();const N=m.indexOf(C);m.splice(N,1)}async function M(C){await a.ensureDoc("checkHeader"),await a.ensureDoc("parseStartXRef"),await a.ensureDoc("parse",[C]),C||await a.ensureDoc("checkFirstPage");const[N,X,H]=await Promise.all([a.ensureDoc("numPages"),a.ensureDoc("fingerprint"),a.ensureDoc("isPureXfa")]);if(H){const D=new r("loadXfaFonts");k(D),await a.loadXfaFonts(l,D).catch(j=>{}).then(()=>u(D))}return{numPages:N,fingerprint:X,isPureXfa:H}}return l.postMessageTransfers=h.postMessageTransfers,l.on("GetPage",function(N){return a.getPage(N.pageIndex).then(function(X){return Promise.all([a.ensure(X,"rotate"),a.ensure(X,"ref"),a.ensure(X,"userUnit"),a.ensure(X,"view")]).then(function([H,D,j,_]){return{rotate:H,ref:D,userUnit:j,view:_}})})}),l.on("GetPageIndex",function({ref:N}){const X=F.Ref.get(N.num,N.gen);return a.ensureCatalog("getPageIndex",[X])}),l.on("GetDestinations",function(N){return a.ensureCatalog("destinations")}),l.on("GetDestination",function(N){return a.ensureCatalog("getDestination",[N.id])}),l.on("GetPageLabels",function(N){return a.ensureCatalog("pageLabels")}),l.on("GetPageLayout",function(N){return a.ensureCatalog("pageLayout")}),l.on("GetPageMode",function(N){return a.ensureCatalog("pageMode")}),l.on("GetViewerPreferences",function(C){return a.ensureCatalog("viewerPreferences")}),l.on("GetOpenAction",function(C){return a.ensureCatalog("openAction")}),l.on("GetAttachments",function(N){return a.ensureCatalog("attachments")}),l.on("GetJavaScript",function(N){return a.ensureCatalog("javaScript")}),l.on("GetDocJSActions",function(N){return a.ensureCatalog("jsActions")}),l.on("GetPageJSActions",function({pageIndex:C}){return a.getPage(C).then(function(N){return a.ensure(N,"jsActions")})}),l.on("GetPageXfa",function({pageIndex:N}){return a.getPage(N).then(function(X){return a.ensure(X,"xfaData")})}),l.on("GetOutline",function(N){return a.ensureCatalog("documentOutline")}),l.on("GetOptionalContentConfig",function(C){return a.ensureCatalog("optionalContentConfig")}),l.on("GetPermissions",function(C){return a.ensureCatalog("permissions")}),l.on("GetMetadata",function(N){return Promise.all([a.ensureDoc("documentInfo"),a.ensureCatalog("metadata")])}),l.on("GetMarkInfo",function(N){return a.ensureCatalog("markInfo")}),l.on("GetData",function(N){return a.requestLoadedStream(),a.onLoadedStream().then(function(X){return X.bytes})}),l.on("GetStats",function(N){return a.ensureXRef("stats")}),l.on("GetAnnotations",function({pageIndex:C,intent:N}){return a.getPage(C).then(function(X){return X.getAnnotationsData(N)})}),l.on("GetFieldObjects",function(C){return a.ensureDoc("fieldObjects")}),l.on("HasJSActions",function(C){return a.ensureDoc("hasJSActions")}),l.on("GetCalculationOrderIds",function(C){return a.ensureDoc("calculationOrderIds")}),l.on("SaveDocument",function({numPages:C,annotationStorage:N,filename:X}){a.requestLoadedStream();const H=[a.onLoadedStream(),a.ensureCatalog("acroForm"),a.ensureDoc("xref"),a.ensureDoc("startXRef")];for(let D=0;D<C;D++)H.push(a.getPage(D).then(function(j){const _=new r(`Save: page ${D}`);return k(_),j.save(l,_,N).finally(function(){u(_)})}));return Promise.all(H).then(function([D,j,_,T,...U]){let q=[];for(const W of U)q=W.filter(V=>null!==V).reduce((V,J)=>V.concat(J),q);if(0===q.length)return D.bytes;const E=j instanceof F.Dict&&j.get("XFA")||[];let $=null;if(Array.isArray(E))for(let W=0,V=E.length;W<V;W+=2)"datasets"===E[W]&&($=E[W+1]);else(0,t.warn)("Unsupported XFA type.");let B=Object.create(null);if(_.trailer){const W=Object.create(null),V=_.trailer.get("Info")||null;V instanceof F.Dict&&V.forEach((J,Y)=>{(0,t.isString)(J)&&(0,t.isString)(Y)&&(W[J]=(0,t.stringToPDFString)(Y))}),B={rootRef:_.trailer.getRaw("Root")||null,encryptRef:_.trailer.getRaw("Encrypt")||null,newRef:_.getNewRef(),infoRef:_.trailer.getRaw("Info")||null,info:W,fileIds:_.trailer.get("ID")||null,startXRef:T,filename:X}}return _.resetNewRef(),(0,e.incrementalUpdate)({originalData:D.bytes,xrefInfo:B,newRefs:q,xref:_,datasetsRef:$})})}),l.on("GetOperatorList",function(N,X){const H=N.pageIndex;a.getPage(H).then(function(D){const j=new r(`GetOperatorList: page ${H}`);k(j);const _=c>=t.VerbosityLevel.INFOS?Date.now():0;D.getOperatorList({handler:l,sink:X,task:j,intent:N.intent,renderInteractiveForms:N.renderInteractiveForms,annotationStorage:N.annotationStorage}).then(function(T){u(j),_&&(0,t.info)(`page=${H+1} - getOperatorList: time=${Date.now()-_}ms, len=${T.length}`),X.close()},function(T){u(j),j.terminated||(l.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorOperatorList}),X.error(T))})})}),l.on("GetTextContent",function(N,X){const H=N.pageIndex;X.onPull=function(D){},X.onCancel=function(D){},a.getPage(H).then(function(D){const j=new r("GetTextContent: page "+H);k(j);const _=c>=t.VerbosityLevel.INFOS?Date.now():0;D.extractTextContent({handler:l,task:j,sink:X,normalizeWhitespace:N.normalizeWhitespace,includeMarkedContent:N.includeMarkedContent,combineTextItems:N.combineTextItems}).then(function(){u(j),_&&(0,t.info)(`page=${H+1} - getTextContent: time=`+(Date.now()-_)+"ms"),X.close()},function(T){u(j),j.terminated||X.error(T)})})}),l.on("GetStructTree",function(N){return a.getPage(N.pageIndex).then(function(X){return a.ensure(X,"getStructTree")})}),l.on("FontFallback",function(C){return a.fontFallback(C.id,l)}),l.on("Cleanup",function(N){return a.cleanup(!0)}),l.on("Terminate",function(N){p=!0;const X=[];if(a){a.terminate(new t.AbortException("Worker was terminated."));const H=a.cleanup();X.push(H),a=null}else(0,F.clearPrimitiveCaches)();v&&v(new t.AbortException("Worker was terminated."));for(const H of m)X.push(H.finished),H.terminate();return Promise.all(X).then(function(){l.destroy(),l=null})}),l.on("Ready",function(N){(function(H){function D(T){A(),l.send("GetDoc",{pdfInfo:T})}function j(T){if(A(),T instanceof t.PasswordException){const U=new r(`PasswordException: response ${T.code}`);k(U),l.sendWithPromise("PasswordRequest",T).then(function({password:q}){u(U),a.updatePassword(q),_()}).catch(function(){u(U),l.send("DocException",T)})}else l.send("DocException",T instanceof t.InvalidPDFException||T instanceof t.MissingPDFException||T instanceof t.UnexpectedResponseException||T instanceof t.UnknownErrorException?T:new t.UnknownErrorException(T.message,T.toString()))}function _(){A(),M(!1).then(D,function(T){A(),T instanceof b.XRefParseException?(a.requestLoadedStream(),a.onLoadedStream().then(function(){A(),M(!0).then(D,j)})):j(T)})}A(),function O(C,N,X){const H=(0,t.createPromiseCapability)();let D;const j=C.source;if(j.data){try{D=new R.LocalPdfManager(d,j.data,j.password,N,X,S),H.resolve(D)}catch(E){H.reject(E)}return H.promise}let _,T=[];try{_=new P.PDFWorkerStream(l)}catch(E){return H.reject(E),H.promise}const U=_.getFullReader();U.headersReady.then(function(){if(U.isRangeSupported){D=new R.NetworkPdfManager(d,_,{msgHandler:l,password:j.password,length:U.contentLength,disableAutoFetch:j.disableAutoFetch||U.isStreamingSupported,rangeChunkSize:j.rangeChunkSize},N,X,S);for(let $=0;$<T.length;$++)D.sendProgressiveData(T[$]);T=[],H.resolve(D),v=null}}).catch(function(E){H.reject(E),v=null});let q=0;return new Promise(function(E,$){const B=function({value:W,done:V}){try{if(A(),V)return D||function(){const J=(0,t.arraysToBytes)(T);j.length&&J.length!==j.length&&(0,t.warn)("reported HTTP length is different from actual");try{D=new R.LocalPdfManager(d,J,j.password,N,X,S),H.resolve(D)}catch(Y){H.reject(Y)}T=[]}(),void(v=null);q+=(0,t.arrayByteLength)(W),U.isStreamingSupported||l.send("DocProgress",{loaded:q,total:Math.max(q,U.contentLength||0)}),D?D.sendProgressiveData(W):T.push(W),U.read().then(B,$)}catch(J){$(J)}};U.read().then(B,$)}).catch(function(E){H.reject(E),v=null}),v=function(E){_.cancelAllRequests(E)},H.promise}(H,{maxImageSize:H.maxImageSize,disableFontFace:H.disableFontFace,ignoreErrors:H.ignoreErrors,isEvalSupported:H.isEvalSupported,fontExtraProperties:H.fontExtraProperties},H.enableXfa).then(function(T){if(p)throw T.terminate(new t.AbortException("Worker was terminated.")),new Error("Worker was terminated");a=T,a.onLoadedStream().then(function(U){l.send("DataLoaded",{length:U.bytes.byteLength})})}).then(_,j)})(h),h=null}),s}static initializeFromPort(h){const n=new L.MessageHandler("worker","main",h);w.setup(n,h),n.send("ready",null)}}I.WorkerMessageHandler=w,typeof window>"u"&&!x.isNodeJS&&typeof self<"u"&&"function"==typeof(h=self).postMessage&&"onmessage"in h&&w.initializeFromPort(self)},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.arrayByteLength=w,I.arraysToBytes=function(m){const c=m.length;if(1===c&&m[0]instanceof Uint8Array)return m[0];let f=0;for(let d=0;d<c;d++)f+=w(m[d]);let y=0;const i=new Uint8Array(f);for(let d=0;d<c;d++){let S=m[d];S instanceof Uint8Array||(S="string"==typeof S?r(S):new Uint8Array(S));const s=S.byteLength;i.set(S,y),y+=s}return i},I.assert=x,I.bytesToString=function(m){x(null!==m&&"object"==typeof m&&void 0!==m.length,"Invalid argument for bytesToString");const c=m.length,f=8192;if(c<f)return String.fromCharCode.apply(null,m);const y=[];for(let i=0;i<c;i+=f){const d=Math.min(i+f,c),S=m.subarray(i,d);y.push(String.fromCharCode.apply(null,S))}return y.join("")},I.createObjectURL=function(m,c="",f=!1){if(URL.createObjectURL&&!f)return URL.createObjectURL(new Blob([m],{type:c}));const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let i=`data:${c};base64,`;for(let d=0,S=m.length;d<S;d+=3){const s=255&m[d],l=255&m[d+1],A=255&m[d+2];i+=y[s>>2]+y[(3&s)<<4|l>>4]+y[d+1<S?(15&l)<<2|A>>6:64]+y[d+2<S?63&A:64]}return i},I.createPromiseCapability=function(){const m=Object.create(null);let c=!1;return Object.defineProperty(m,"settled",{get:()=>c}),m.promise=new Promise(function(f,y){m.resolve=function(i){c=!0,f(i)},m.reject=function(i){c=!0,y(i)}}),m},I.createValidAbsoluteUrl=function(m,c){if(!m)return null;try{const f=c?new URL(m,c):new URL(m);if(function(i){if(!i)return!1;switch(i.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(f))return f}catch{}return null},I.escapeString=function(m){return m.replace(/([()\\\n\r])/g,c=>"\n"===c?"\\n":"\r"===c?"\\r":`\\${c}`)},I.getModificationDate=function(m=new Date){return[m.getUTCFullYear().toString(),(m.getUTCMonth()+1).toString().padStart(2,"0"),m.getUTCDate().toString().padStart(2,"0"),m.getUTCHours().toString().padStart(2,"0"),m.getUTCMinutes().toString().padStart(2,"0"),m.getUTCSeconds().toString().padStart(2,"0")].join("")},I.getVerbosityLevel=function(){return F},I.info=function(m){F>=t.INFOS&&console.log(`Info: ${m}`)},I.isArrayBuffer=function(m){return"object"==typeof m&&null!==m&&void 0!==m.byteLength},I.isArrayEqual=function(m,c){if(m.length!==c.length)return!1;for(let f=0,y=m.length;f<y;f++)if(m[f]!==c[f])return!1;return!0},I.isAscii=function(m){return/^[\x00-\x7F]*$/.test(m)},I.isBool=function(m){return"boolean"==typeof m},I.isNum=function(m){return"number"==typeof m},I.isSameOrigin=function(m,c){let f;try{if(f=new URL(m),!f.origin||"null"===f.origin)return!1}catch{return!1}const y=new URL(c,f);return f.origin===y.origin},I.isString=function(m){return"string"==typeof m},I.objectFromMap=function(m){const c=Object.create(null);for(const[f,y]of m)c[f]=y;return c},I.objectSize=function(m){return Object.keys(m).length},I.removeNullCharacters=function(m){return"string"!=typeof m?(R("The argument for removeNullCharacters must be a string."),m):m.replace(b,"")},I.setVerbosityLevel=function(m){Number.isInteger(m)&&(F=m)},I.shadow=L,I.string32=function(m){return String.fromCharCode(m>>24&255,m>>16&255,m>>8&255,255&m)},I.stringToBytes=r,I.stringToPDFString=function(m){const c=m.length,f=[];if("\xfe"===m[0]&&"\xff"===m[1])for(let y=2;y<c;y+=2)f.push(String.fromCharCode(m.charCodeAt(y)<<8|m.charCodeAt(y+1)));else if("\xff"===m[0]&&"\xfe"===m[1])for(let y=2;y<c;y+=2)f.push(String.fromCharCode(m.charCodeAt(y+1)<<8|m.charCodeAt(y)));else for(let y=0;y<c;++y){const i=p[m.charCodeAt(y)];f.push(i?String.fromCharCode(i):m.charAt(y))}return f.join("")},I.stringToUTF16BEString=function(m){const c=["\xfe\xff"];for(let f=0,y=m.length;f<y;f++){const i=m.charCodeAt(f);c.push(String.fromCharCode(i>>8&255),String.fromCharCode(255&i))}return c.join("")},I.stringToUTF8String=function(m){return decodeURIComponent(escape(m))},I.unreachable=e,I.utf8StringToString=function(m){return unescape(encodeURIComponent(m))},I.warn=R,I.VerbosityLevel=I.Util=I.UNSUPPORTED_FEATURES=I.UnknownErrorException=I.UnexpectedResponseException=I.TextRenderingMode=I.StreamType=I.PermissionFlag=I.PasswordResponses=I.PasswordException=I.PageActionEventType=I.OPS=I.MissingPDFException=I.IsLittleEndianCached=I.IsEvalSupportedCached=I.InvalidPDFException=I.ImageKind=I.IDENTITY_MATRIX=I.FormatError=I.FontType=I.FONT_IDENTITY_MATRIX=I.DocumentActionEventType=I.CMapCompressionType=I.BaseException=I.AnnotationType=I.AnnotationStateModelType=I.AnnotationReviewState=I.AnnotationReplyType=I.AnnotationMarkedState=I.AnnotationFlag=I.AnnotationFieldFlag=I.AnnotationBorderStyleType=I.AnnotationActionEventType=I.AbortException=void 0,G(3),I.IDENTITY_MATRIX=[1,0,0,1,0,0],I.FONT_IDENTITY_MATRIX=[.001,0,0,.001,0,0],I.PermissionFlag={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},I.TextRenderingMode={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},I.ImageKind={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},I.AnnotationType={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},I.AnnotationStateModelType={MARKED:"Marked",REVIEW:"Review"},I.AnnotationMarkedState={MARKED:"Marked",UNMARKED:"Unmarked"},I.AnnotationReviewState={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"},I.AnnotationReplyType={GROUP:"Group",REPLY:"R"},I.AnnotationFlag={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512},I.AnnotationFieldFlag={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864},I.AnnotationBorderStyleType={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},I.AnnotationActionEventType={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"},I.DocumentActionEventType={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"},I.PageActionEventType={O:"PageOpen",C:"PageClose"},I.StreamType={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"},I.FontType={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};const t={ERRORS:0,WARNINGS:1,INFOS:5};I.VerbosityLevel=t,I.CMapCompressionType={NONE:0,BINARY:1,STREAM:2},I.OPS={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},I.UNSUPPORTED_FEATURES={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent"},I.PasswordResponses={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let F=t.WARNINGS;function R(v){F>=t.WARNINGS&&console.log(`Warning: ${v}`)}function e(v){throw new Error(v)}function x(v,m){v||e(m)}function L(v,m,c){return Object.defineProperty(v,m,{value:c,enumerable:!0,configurable:!0,writable:!1}),c}const P=function(){function m(c){this.constructor===m&&e("Cannot initialize BaseException."),this.message=c,this.name=this.constructor.name}return m.prototype=new Error,m.constructor=m,m}();I.BaseException=P,I.PasswordException=class extends P{constructor(m,c){super(m),this.code=c}},I.UnknownErrorException=class extends P{constructor(m,c){super(m),this.details=c}},I.InvalidPDFException=class extends P{},I.MissingPDFException=class extends P{},I.UnexpectedResponseException=class extends P{constructor(m,c){super(m),this.status=c}},I.FormatError=class extends P{},I.AbortException=class extends P{};const b=/\x00/g;function r(v){x("string"==typeof v,"Invalid argument for stringToBytes");const m=v.length,c=new Uint8Array(m);for(let f=0;f<m;++f)c[f]=255&v.charCodeAt(f);return c}function w(v){return void 0!==v.length?v.length:(x(void 0!==v.byteLength,"arrayByteLength - invalid argument."),v.byteLength)}I.IsLittleEndianCached={get value(){return L(this,"value",function(){const m=new Uint8Array(4);return m[0]=1,1===new Uint32Array(m.buffer,0,1)[0]}())}},I.IsEvalSupportedCached={get value(){return L(this,"value",function(){try{return new Function(""),!0}catch{return!1}}())}};const n=[...Array(256).keys()].map(v=>v.toString(16).padStart(2,"0"));class a{static makeHexColor(m,c,f){return`#${n[m]}${n[c]}${n[f]}`}static transform(m,c){return[m[0]*c[0]+m[2]*c[1],m[1]*c[0]+m[3]*c[1],m[0]*c[2]+m[2]*c[3],m[1]*c[2]+m[3]*c[3],m[0]*c[4]+m[2]*c[5]+m[4],m[1]*c[4]+m[3]*c[5]+m[5]]}static applyTransform(m,c){return[m[0]*c[0]+m[1]*c[2]+c[4],m[0]*c[1]+m[1]*c[3]+c[5]]}static applyInverseTransform(m,c){const f=c[0]*c[3]-c[1]*c[2];return[(m[0]*c[3]-m[1]*c[2]+c[2]*c[5]-c[4]*c[3])/f,(-m[0]*c[1]+m[1]*c[0]+c[4]*c[1]-c[5]*c[0])/f]}static getAxialAlignedBoundingBox(m,c){const f=a.applyTransform(m,c),y=a.applyTransform(m.slice(2,4),c),i=a.applyTransform([m[0],m[3]],c),d=a.applyTransform([m[2],m[1]],c);return[Math.min(f[0],y[0],i[0],d[0]),Math.min(f[1],y[1],i[1],d[1]),Math.max(f[0],y[0],i[0],d[0]),Math.max(f[1],y[1],i[1],d[1])]}static inverseTransform(m){const c=m[0]*m[3]-m[1]*m[2];return[m[3]/c,-m[1]/c,-m[2]/c,m[0]/c,(m[2]*m[5]-m[4]*m[3])/c,(m[4]*m[1]-m[5]*m[0])/c]}static apply3dTransform(m,c){return[m[0]*c[0]+m[1]*c[1]+m[2]*c[2],m[3]*c[0]+m[4]*c[1]+m[5]*c[2],m[6]*c[0]+m[7]*c[1]+m[8]*c[2]]}static singularValueDecompose2dScale(m){const c=[m[0],m[2],m[1],m[3]],f=m[0]*c[0]+m[1]*c[2],d=m[2]*c[1]+m[3]*c[3],S=(f+d)/2,s=Math.sqrt((f+d)**2-4*(f*d-(m[2]*c[0]+m[3]*c[2])*(m[0]*c[1]+m[1]*c[3])))/2,A=S-s||1;return[Math.sqrt(S+s||1),Math.sqrt(A)]}static normalizeRect(m){const c=m.slice(0);return m[0]>m[2]&&(c[0]=m[2],c[2]=m[0]),m[1]>m[3]&&(c[1]=m[3],c[3]=m[1]),c}static intersect(m,c){function f(S,s){return S-s}const y=[m[0],m[2],c[0],c[2]].sort(f),i=[m[1],m[3],c[1],c[3]].sort(f),d=[];return m=a.normalizeRect(m),c=a.normalizeRect(c),(y[0]===m[0]&&y[1]===c[0]||y[0]===c[0]&&y[1]===m[0])&&(d[0]=y[1],d[2]=y[2],i[0]===m[1]&&i[1]===c[1]||i[0]===c[1]&&i[1]===m[1])?(d[1]=i[1],d[3]=i[2],d):null}}I.Util=a;const p=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364]},(ne,I,G)=>{G(4)},(ne,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.isNodeJS=void 0;const G=!("object"!=typeof process||process+""!="[object process]"||process.versions.nw||process.versions.electron&&process.type&&"browser"!==process.type);I.isNodeJS=G},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.clearPrimitiveCaches=function(){x._clearCache(),e._clearCache(),b._clearCache()},I.isCmd=function(o,h){return o instanceof x&&(void 0===h||o.cmd===h)},I.isDict=function(o,h){return o instanceof P&&(void 0===h||r(o.get("Type"),h))},I.isEOF=function(o){return o===R},I.isName=r,I.isRef=function(o){return o instanceof b},I.isRefsEqual=function(o,h){return o.num===h.num&&o.gen===h.gen},I.isStream=function(o){return o instanceof F.BaseStream},I.RefSetCache=I.RefSet=I.Ref=I.Name=I.EOF=I.Dict=I.Cmd=void 0;var t=G(2),F=G(6);const R={};I.EOF=R;const e=function(){let o=Object.create(null);class h{constructor(a){this.name=a}static get(a){return o[a]||(o[a]=new h(a))}static _clearCache(){o=Object.create(null)}}return h}();I.Name=e;const x=function(){let o=Object.create(null);class h{constructor(a){this.cmd=a}static get(a){return o[a]||(o[a]=new h(a))}static _clearCache(){o=Object.create(null)}}return h}();I.Cmd=x;const L=function(){return L};class P{constructor(o=null){this._map=Object.create(null),this.xref=o,this.objId=null,this.suppressEncryption=!1,this.__nonSerializable__=L}assignXref(o){this.xref=o}get size(){return Object.keys(this._map).length}get(o,h,n){let a=this._map[o];return void 0===a&&void 0!==h&&(a=this._map[h],void 0===a&&void 0!==n&&(a=this._map[n])),a instanceof b&&this.xref?this.xref.fetch(a,this.suppressEncryption):a}async getAsync(o,h,n){let a=this._map[o];return void 0===a&&void 0!==h&&(a=this._map[h],void 0===a&&void 0!==n&&(a=this._map[n])),a instanceof b&&this.xref?this.xref.fetchAsync(a,this.suppressEncryption):a}getArray(o,h,n){let a=this._map[o];if(void 0===a&&void 0!==h&&(a=this._map[h],void 0===a&&void 0!==n&&(a=this._map[n])),a instanceof b&&this.xref&&(a=this.xref.fetch(a,this.suppressEncryption)),Array.isArray(a)){a=a.slice();for(let p=0,v=a.length;p<v;p++)a[p]instanceof b&&this.xref&&(a[p]=this.xref.fetch(a[p],this.suppressEncryption))}return a}getRaw(o){return this._map[o]}getKeys(){return Object.keys(this._map)}getRawValues(){return Object.values(this._map)}set(o,h){this._map[o]=h}has(o){return void 0!==this._map[o]}forEach(o){for(const h in this._map)o(h,this.get(h))}static get empty(){const o=new P(null);return o.set=(h,n)=>{(0,t.unreachable)("Should not call `set` on the empty dictionary.")},(0,t.shadow)(this,"empty",o)}static merge({xref:o,dictArray:h,mergeSubDicts:n=!1}){const a=new P(o);if(!n){for(const v of h)if(v instanceof P)for(const[m,c]of Object.entries(v._map))void 0===a._map[m]&&(a._map[m]=c);return a.size>0?a:P.empty}const p=new Map;for(const v of h)if(v instanceof P)for(const[m,c]of Object.entries(v._map)){let f=p.get(m);void 0===f&&(f=[],p.set(m,f)),f.push(c)}for(const[v,m]of p){if(1===m.length||!(m[0]instanceof P)){a._map[v]=m[0];continue}const c=new P(o);for(const f of m)if(f instanceof P)for(const[y,i]of Object.entries(f._map))void 0===c._map[y]&&(c._map[y]=i);c.size>0&&(a._map[v]=c)}return p.clear(),a.size>0?a:P.empty}}I.Dict=P;const b=function(){let o=Object.create(null);class h{constructor(a,p){this.num=a,this.gen=p}toString(){return 0===this.gen?`${this.num}R`:`${this.num}R${this.gen}`}static get(a,p){const v=0===p?`${a}R`:`${a}R${p}`;return o[v]||(o[v]=new h(a,p))}static _clearCache(){o=Object.create(null)}}return h}();function r(w,o){return w instanceof e&&(void 0===o||w.name===o)}I.Ref=b,I.RefSet=class{constructor(o=null){this._set=new Set(o&&o._set)}has(o){return this._set.has(o.toString())}put(o){this._set.add(o.toString())}remove(o){this._set.delete(o.toString())}forEach(o){for(const h of this._set.values())o(h)}clear(){this._set.clear()}},I.RefSetCache=class{constructor(){this._map=new Map}get size(){return this._map.size}get(o){return this._map.get(o.toString())}has(o){return this._map.has(o.toString())}put(o,h){this._map.set(o.toString(),h)}putAlias(o,h){this._map.set(o.toString(),this.get(h))}forEach(o){for(const h of this._map.values())o(h)}clear(){this._map.clear()}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.BaseStream=void 0;var t=G(2);class F{constructor(){this.constructor===F&&(0,t.unreachable)("Cannot initialize BaseStream.")}get length(){(0,t.unreachable)("Abstract getter `length` accessed")}get isEmpty(){(0,t.unreachable)("Abstract getter `isEmpty` accessed")}get isDataLoaded(){return(0,t.shadow)(this,"isDataLoaded",!0)}getByte(){(0,t.unreachable)("Abstract method `getByte` called")}getBytes(e,x=!1){(0,t.unreachable)("Abstract method `getBytes` called")}peekByte(){const e=this.getByte();return-1!==e&&this.pos--,e}peekBytes(e,x=!1){const L=this.getBytes(e,x);return this.pos-=L.length,L}getUint16(){const e=this.getByte(),x=this.getByte();return-1===e||-1===x?-1:(e<<8)+x}getInt32(){return(this.getByte()<<24)+(this.getByte()<<16)+(this.getByte()<<8)+this.getByte()}getByteRange(e,x){(0,t.unreachable)("Abstract method `getByteRange` called")}getString(e){return(0,t.bytesToString)(this.getBytes(e,!1))}skip(e){this.pos+=e||1}reset(){(0,t.unreachable)("Abstract method `reset` called")}moveStart(){(0,t.unreachable)("Abstract method `moveStart` called")}makeSubStream(e,x,L=null){(0,t.unreachable)("Abstract method `makeSubStream` called")}getBaseStreams(){return null}}I.BaseStream=F},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.NetworkPdfManager=I.LocalPdfManager=void 0;var t=G(2),F=G(8),R=G(9),e=G(11),x=G(10);function L(b){if(b){const r=(0,t.createValidAbsoluteUrl)(b);if(r)return r.href;(0,t.warn)(`Invalid absolute docBaseUrl: "${b}".`)}return null}class P{constructor(){this.constructor===P&&(0,t.unreachable)("Cannot initialize BasePdfManager.")}get docId(){return this._docId}get password(){return this._password}get docBaseUrl(){return this._docBaseUrl}onLoadedStream(){(0,t.unreachable)("Abstract method `onLoadedStream` called")}ensureDoc(r,w){return this.ensure(this.pdfDocument,r,w)}ensureXRef(r,w){return this.ensure(this.pdfDocument.xref,r,w)}ensureCatalog(r,w){return this.ensure(this.pdfDocument.catalog,r,w)}getPage(r){return this.pdfDocument.getPage(r)}fontFallback(r,w){return this.pdfDocument.fontFallback(r,w)}loadXfaFonts(r,w){return this.pdfDocument.loadXfaFonts(r,w)}cleanup(r=!1){return this.pdfDocument.cleanup(r)}async ensure(r,w,o){(0,t.unreachable)("Abstract method `ensure` called")}requestRange(r,w){(0,t.unreachable)("Abstract method `requestRange` called")}requestLoadedStream(){(0,t.unreachable)("Abstract method `requestLoadedStream` called")}sendProgressiveData(r){(0,t.unreachable)("Abstract method `sendProgressiveData` called")}updatePassword(r){this._password=r}terminate(r){(0,t.unreachable)("Abstract method `terminate` called")}}I.LocalPdfManager=class extends P{constructor(r,w,o,h,n,a){super(),this._docId=r,this._password=o,this._docBaseUrl=L(a),this.evaluatorOptions=h,this.enableXfa=n;const p=new x.Stream(w);this.pdfDocument=new e.PDFDocument(this,p),this._loadedStreamPromise=Promise.resolve(p)}async ensure(r,w,o){const h=r[w];return"function"==typeof h?h.apply(r,o):h}requestRange(r,w){return Promise.resolve()}requestLoadedStream(){}onLoadedStream(){return this._loadedStreamPromise}terminate(r){}},I.NetworkPdfManager=class extends P{constructor(r,w,o,h,n,a){super(),this._docId=r,this._password=o.password,this._docBaseUrl=L(a),this.msgHandler=o.msgHandler,this.evaluatorOptions=h,this.enableXfa=n,this.streamManager=new F.ChunkedStreamManager(w,{msgHandler:o.msgHandler,length:o.length,disableAutoFetch:o.disableAutoFetch,rangeChunkSize:o.rangeChunkSize}),this.pdfDocument=new e.PDFDocument(this,this.streamManager.getStream())}async ensure(r,w,o){try{const h=r[w];return"function"==typeof h?h.apply(r,o):h}catch(h){if(!(h instanceof R.MissingDataException))throw h;return await this.requestRange(h.begin,h.end),this.ensure(r,w,o)}}requestRange(r,w){return this.streamManager.requestRange(r,w)}requestLoadedStream(){this.streamManager.requestAllChunks()}sendProgressiveData(r){this.streamManager.onReceiveData({chunk:r})}onLoadedStream(){return this.streamManager.onLoadedStream()}terminate(r){this.streamManager.abort(r)}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.ChunkedStreamManager=I.ChunkedStream=void 0;var t=G(2),F=G(9),R=G(10);class e extends R.Stream{constructor(L,P,b){super(new Uint8Array(L),0,L,null),this.chunkSize=P,this._loadedChunks=new Set,this.numChunks=Math.ceil(L/P),this.manager=b,this.progressiveDataLength=0,this.lastSuccessfulEnsureByteChunk=-1}getMissingChunks(){const L=[];for(let P=0,b=this.numChunks;P<b;++P)this._loadedChunks.has(P)||L.push(P);return L}get numChunksLoaded(){return this._loadedChunks.size}get isDataLoaded(){return this.numChunksLoaded===this.numChunks}onReceiveData(L,P){const b=this.chunkSize;if(L%b!=0)throw new Error(`Bad begin offset: ${L}`);const r=L+P.byteLength;if(r%b!=0&&r!==this.bytes.length)throw new Error(`Bad end offset: ${r}`);this.bytes.set(new Uint8Array(P),L);const w=Math.floor(L/b),o=Math.floor((r-1)/b)+1;for(let h=w;h<o;++h)this._loadedChunks.add(h)}onReceiveProgressiveData(L){let P=this.progressiveDataLength;const b=Math.floor(P/this.chunkSize);this.bytes.set(new Uint8Array(L),P),P+=L.byteLength,this.progressiveDataLength=P;const r=P>=this.end?this.numChunks:Math.floor(P/this.chunkSize);for(let w=b;w<r;++w)this._loadedChunks.add(w)}ensureByte(L){if(L<this.progressiveDataLength)return;const P=Math.floor(L/this.chunkSize);if(P!==this.lastSuccessfulEnsureByteChunk){if(!this._loadedChunks.has(P))throw new F.MissingDataException(L,L+1);this.lastSuccessfulEnsureByteChunk=P}}ensureRange(L,P){if(L>=P||P<=this.progressiveDataLength)return;const b=this.chunkSize,r=Math.floor(L/b),w=Math.floor((P-1)/b)+1;for(let o=r;o<w;++o)if(!this._loadedChunks.has(o))throw new F.MissingDataException(L,P)}nextEmptyChunk(L){const P=this.numChunks;for(let b=0;b<P;++b){const r=(L+b)%P;if(!this._loadedChunks.has(r))return r}return null}hasChunk(L){return this._loadedChunks.has(L)}getByte(){const L=this.pos;return L>=this.end?-1:(L>=this.progressiveDataLength&&this.ensureByte(L),this.bytes[this.pos++])}getBytes(L,P=!1){const b=this.bytes,r=this.pos,w=this.end;if(!L){w>this.progressiveDataLength&&this.ensureRange(r,w);const n=b.subarray(r,w);return P?new Uint8ClampedArray(n):n}let o=r+L;o>w&&(o=w),o>this.progressiveDataLength&&this.ensureRange(r,o),this.pos=o;const h=b.subarray(r,o);return P?new Uint8ClampedArray(h):h}getByteRange(L,P){return L<0&&(L=0),P>this.end&&(P=this.end),P>this.progressiveDataLength&&this.ensureRange(L,P),this.bytes.subarray(L,P)}makeSubStream(L,P,b=null){function r(){}P?L+P>this.progressiveDataLength&&this.ensureRange(L,L+P):L>=this.progressiveDataLength&&this.ensureByte(L),(r.prototype=Object.create(this)).getMissingChunks=function(){const o=this.chunkSize,h=Math.floor(this.start/o),n=Math.floor((this.end-1)/o)+1,a=[];for(let p=h;p<n;++p)this._loadedChunks.has(p)||a.push(p);return a},Object.defineProperty(r.prototype,"isDataLoaded",{get(){return this.numChunksLoaded===this.numChunks||0===this.getMissingChunks().length},configurable:!0});const w=new r;return w.pos=w.start=L,w.end=L+P||this.end,w.dict=b,w}getBaseStreams(){return[this]}}I.ChunkedStream=e,I.ChunkedStreamManager=class{constructor(L,P){this.length=P.length,this.chunkSize=P.rangeChunkSize,this.stream=new e(this.length,this.chunkSize,this),this.pdfNetworkStream=L,this.disableAutoFetch=P.disableAutoFetch,this.msgHandler=P.msgHandler,this.currRequestId=0,this._chunksNeededByRequest=new Map,this._requestsByChunk=new Map,this._promisesByRequest=new Map,this.progressiveDataLength=0,this.aborted=!1,this._loadedStreamCapability=(0,t.createPromiseCapability)()}onLoadedStream(){return this._loadedStreamCapability.promise}sendRequest(L,P){const b=this.pdfNetworkStream.getRangeReader(L,P);b.isStreamingSupported||(b.onProgress=this.onProgress.bind(this));let r=[],w=0;new Promise((o,h)=>{const n=a=>{try{if(!a.done){const v=a.value;return r.push(v),w+=(0,t.arrayByteLength)(v),b.isStreamingSupported&&this.onProgress({loaded:w}),void b.read().then(n,h)}const p=(0,t.arraysToBytes)(r);r=null,o(p)}catch(p){h(p)}};b.read().then(n,h)}).then(o=>{this.aborted||this.onReceiveData({chunk:o,begin:L})})}requestAllChunks(){const L=this.stream.getMissingChunks();return this._requestChunks(L),this._loadedStreamCapability.promise}_requestChunks(L){const P=this.currRequestId++,b=new Set;this._chunksNeededByRequest.set(P,b);for(const o of L)this.stream.hasChunk(o)||b.add(o);if(0===b.size)return Promise.resolve();const r=(0,t.createPromiseCapability)();this._promisesByRequest.set(P,r);const w=[];for(const o of b){let h=this._requestsByChunk.get(o);h||(h=[],this._requestsByChunk.set(o,h),w.push(o)),h.push(P)}if(w.length>0){const o=this.groupChunks(w);for(const h of o){const n=h.beginChunk*this.chunkSize,a=Math.min(h.endChunk*this.chunkSize,this.length);this.sendRequest(n,a)}}return r.promise.catch(o=>{if(!this.aborted)throw o})}getStream(){return this.stream}requestRange(L,P){P=Math.min(P,this.length);const b=this.getBeginChunk(L),r=this.getEndChunk(P),w=[];for(let o=b;o<r;++o)w.push(o);return this._requestChunks(w)}requestRanges(L=[]){const P=[];for(const b of L){const r=this.getBeginChunk(b.begin),w=this.getEndChunk(b.end);for(let o=r;o<w;++o)P.includes(o)||P.push(o)}return P.sort(function(b,r){return b-r}),this._requestChunks(P)}groupChunks(L){const P=[];let b=-1,r=-1;for(let w=0,o=L.length;w<o;++w){const h=L[w];b<0&&(b=h),r>=0&&r+1!==h&&(P.push({beginChunk:b,endChunk:r+1}),b=h),w+1===L.length&&P.push({beginChunk:b,endChunk:h+1}),r=h}return P}onProgress(L){this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize+L.loaded,total:this.length})}onReceiveData(L){const P=L.chunk,b=void 0===L.begin,r=b?this.progressiveDataLength:L.begin,w=r+P.byteLength,o=Math.floor(r/this.chunkSize),h=w<this.length?Math.floor(w/this.chunkSize):Math.ceil(w/this.chunkSize);b?(this.stream.onReceiveProgressiveData(P),this.progressiveDataLength=w):this.stream.onReceiveData(r,P),this.stream.isDataLoaded&&this._loadedStreamCapability.resolve(this.stream);const n=[];for(let a=o;a<h;++a){const p=this._requestsByChunk.get(a);if(p){this._requestsByChunk.delete(a);for(const v of p){const m=this._chunksNeededByRequest.get(v);m.has(a)&&m.delete(a),m.size>0||n.push(v)}}}if(!this.disableAutoFetch&&0===this._requestsByChunk.size){let a;if(1===this.stream.numChunksLoaded){const p=this.stream.numChunks-1;this.stream.hasChunk(p)||(a=p)}else a=this.stream.nextEmptyChunk(h);Number.isInteger(a)&&this._requestChunks([a])}for(const a of n){const p=this._promisesByRequest.get(a);this._promisesByRequest.delete(a),p.resolve()}this.msgHandler.send("DocProgress",{loaded:this.stream.numChunksLoaded*this.chunkSize,total:this.length})}onError(L){this._loadedStreamCapability.reject(L)}getBeginChunk(L){return Math.floor(L/this.chunkSize)}getEndChunk(L){return Math.floor((L-1)/this.chunkSize)+1}abort(L){this.aborted=!0,this.pdfNetworkStream&&this.pdfNetworkStream.cancelAllRequests(L);for(const P of this._promisesByRequest.values())P.reject(L)}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.collectActions=function(o,h,n){const a=Object.create(null),p=L({dict:h,key:"AA",stopWhenFound:!1});if(p)for(let v=p.length-1;v>=0;v--){const m=p[v];if(m instanceof F.Dict)for(const c of m.getKeys()){const f=n[c];if(!f)continue;const d=[];b(m.getRaw(c),o,d,new F.RefSet),d.length>0&&(a[f]=d)}}if(h.has("A")){const c=[];b(h.get("A"),o,c,new F.RefSet),c.length>0&&(a.Action=c)}return(0,t.objectSize)(a)>0?a:null},I.encodeToXmlString=function(o){const h=[];let n=0;for(let a=0,p=o.length;a<p;a++){const v=o.codePointAt(a);if(32<=v&&v<=126){const m=r[v];m&&(n<a&&h.push(o.substring(n,a)),h.push(m),n=a+1)}else n<a&&h.push(o.substring(n,a)),h.push(`&#x${v.toString(16).toUpperCase()};`),v>55295&&(v<57344||v>65533)&&a++,n=a+1}return 0===h.length?o:(n<o.length&&h.push(o.substring(n,o.length)),h.join(""))},I.escapePDFName=function(o){const h=[];let n=0;for(let a=0,p=o.length;a<p;a++){const v=o.charCodeAt(a);(v<33||v>126||35===v||40===v||41===v||60===v||62===v||91===v||93===v||123===v||125===v||47===v||37===v)&&(n<a&&h.push(o.substring(n,a)),h.push(`#${v.toString(16)}`),n=a+1)}return 0===h.length?o:(n<o.length&&h.push(o.substring(n,o.length)),h.join(""))},I.getArrayLookupTableFactory=function(o){let h;return function(){if(o){let n=o();o=null,h=Object.create(null);for(let a=0,p=n.length;a<p;a+=2)h[n[a]]=n[a+1];n=null}return h}},I.getInheritableProperty=L,I.getLookupTableFactory=function(o){let h;return function(){return o&&(h=Object.create(null),o(h),o=null),h}},I.isWhiteSpace=function(o){return 32===o||9===o||13===o||10===o},I.log2=function(o){return o<=0?0:Math.ceil(Math.log2(o))},I.parseXFAPath=function(o){const h=/(.+)\[([0-9]+)\]$/;return o.split(".").map(n=>{const a=n.match(h);return a?{name:a[1],pos:parseInt(a[2],10)}:{name:n,pos:0}})},I.readInt8=function(o,h){return o[h]<<24>>24},I.readUint16=function(o,h){return o[h]<<8|o[h+1]},I.readUint32=function(o,h){return(o[h]<<24|o[h+1]<<16|o[h+2]<<8|o[h+3])>>>0},I.toRomanNumerals=function(o,h=!1){(0,t.assert)(Number.isInteger(o)&&o>0,"The number should be a positive integer.");const n=[];let a;for(;o>=1e3;)o-=1e3,n.push("M");a=o/100|0,o%=100,n.push(P[a]),a=o/10|0,o%=10,n.push(P[10+a]),n.push(P[20+o]);const p=n.join("");return h?p.toLowerCase():p},I.validateCSSFont=function(o){const h=new Set(["100","200","300","400","500","600","700","800","900","1000","normal","bold","bolder","lighter"]),{fontFamily:n,fontWeight:a,italicAngle:p}=o;if(/^".*"$/.test(n)){if(/[^\\]"/.test(n.slice(1,n.length-1)))return(0,t.warn)(`XFA - FontFamily contains some unescaped ": ${n}.`),!1}else if(/^'.*'$/.test(n)){if(/[^\\]'/.test(n.slice(1,n.length-1)))return(0,t.warn)(`XFA - FontFamily contains some unescaped ': ${n}.`),!1}else for(const c of n.split(/[ \t]+/))if(/^([0-9]|(-([0-9]|-)))/.test(c)||!/^[a-zA-Z0-9\-_\\]+$/.test(c))return(0,t.warn)(`XFA - FontFamily contains some invalid <custom-ident>: ${n}.`),!1;const v=a?a.toString():"";o.fontWeight=h.has(v)?v:"400";const m=parseFloat(p);return o.italicAngle=isNaN(m)||m<-90||m>90?"14":p.toString(),!0},I.XRefParseException=I.XRefEntryException=I.MissingDataException=void 0;var t=G(2),F=G(5);function L({dict:w,key:o,getArray:h=!1,stopWhenFound:n=!0}){let a;const p=new F.RefSet;for(;w instanceof F.Dict&&(!w.objId||!p.has(w.objId));){w.objId&&p.put(w.objId);const v=h?w.getArray(o):w.get(o);if(void 0!==v){if(n)return v;a||(a=[]),a.push(v)}w=w.get("Parent")}return a}I.MissingDataException=class R extends t.BaseException{constructor(o,h){super(`Missing data [${o}, ${h})`),this.begin=o,this.end=h}},I.XRefEntryException=class e extends t.BaseException{},I.XRefParseException=class x extends t.BaseException{};const P=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"];function b(w,o,h,n){if(!w)return;let a=null;if((0,F.isRef)(w)){if(n.has(w))return;a=w,n.put(a),w=o.fetch(w)}if(Array.isArray(w))for(const p of w)b(p,o,h,n);else if(w instanceof F.Dict){if((0,F.isName)(w.get("S"),"JavaScript")&&w.has("JS")){const p=w.get("JS");let v;v=(0,F.isStream)(p)?p.getString():p,v=(0,t.stringToPDFString)(v),v&&h.push(v)}b(w.getRaw("Next"),o,h,n)}a&&n.remove(a)}const r={60:"&lt;",62:"&gt;",38:"&amp;",34:"&quot;",39:"&apos;"}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.StringStream=I.Stream=I.NullStream=void 0;var t=G(6),F=G(2);class R extends t.BaseStream{constructor(x,L,P,b){super(),this.bytes=x instanceof Uint8Array?x:new Uint8Array(x),this.start=L||0,this.pos=this.start,this.end=L+P||this.bytes.length,this.dict=b}get length(){return this.end-this.start}get isEmpty(){return 0===this.length}getByte(){return this.pos>=this.end?-1:this.bytes[this.pos++]}getBytes(x,L=!1){const P=this.bytes,b=this.pos,r=this.end;if(!x){const h=P.subarray(b,r);return L?new Uint8ClampedArray(h):h}let w=b+x;w>r&&(w=r),this.pos=w;const o=P.subarray(b,w);return L?new Uint8ClampedArray(o):o}getByteRange(x,L){return x<0&&(x=0),L>this.end&&(L=this.end),this.bytes.subarray(x,L)}reset(){this.pos=this.start}moveStart(){this.start=this.pos}makeSubStream(x,L,P=null){return new R(this.bytes.buffer,x,L,P)}}I.Stream=R,I.StringStream=class extends R{constructor(x){super((0,F.stringToBytes)(x))}},I.NullStream=class extends R{constructor(){super(new Uint8Array(0))}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFDocument=I.Page=void 0;var t=G(2),F=G(5),R=G(9),e=G(10),x=G(12),L=G(6),P=G(65),b=G(57),r=G(17),w=G(63),o=G(55),h=G(15),n=G(19),a=G(62),p=G(67),v=G(88);const m=[0,0,612,792];class c{constructor({pdfManager:l,xref:A,pageIndex:k,pageDict:u,ref:M,globalIdFactory:O,fontCache:C,builtInCMapCache:N,globalImageCache:X,nonBlendModesSet:H,xfaFactory:D}){this.pdfManager=l,this.pageIndex=k,this.pageDict=u,this.xref=A,this.ref=M,this.fontCache=C,this.builtInCMapCache=N,this.globalImageCache=X,this.nonBlendModesSet=H,this.evaluatorOptions=l.evaluatorOptions,this.resourcesPromise=null,this.xfaFactory=D;const j={obj:0};this._localIdFactory=class extends O{static createObjId(){return`p${k}_${++j.obj}`}static getPageObjId(){return`page${M.toString()}`}}}_getInheritableProperty(l,A=!1){const k=(0,R.getInheritableProperty)({dict:this.pageDict,key:l,getArray:A,stopWhenFound:!1});return Array.isArray(k)?1!==k.length&&(0,F.isDict)(k[0])?F.Dict.merge({xref:this.xref,dictArray:k}):k[0]:k}get content(){return this.pageDict.getArray("Contents")}get resources(){return(0,t.shadow)(this,"resources",this._getInheritableProperty("Resources")||F.Dict.empty)}_getBoundingBox(l){if(this.xfaData){const{width:k,height:u}=this.xfaData.attributes.style;return[0,0,parseInt(k),parseInt(u)]}const A=this._getInheritableProperty(l,!0);if(Array.isArray(A)&&4===A.length){if(A[2]-A[0]!=0&&A[3]-A[1]!=0)return A;(0,t.warn)(`Empty /${l} entry.`)}return null}get mediaBox(){return(0,t.shadow)(this,"mediaBox",this._getBoundingBox("MediaBox")||m)}get cropBox(){return(0,t.shadow)(this,"cropBox",this._getBoundingBox("CropBox")||this.mediaBox)}get userUnit(){let l=this.pageDict.get("UserUnit");return(!(0,t.isNum)(l)||l<=0)&&(l=1),(0,t.shadow)(this,"userUnit",l)}get view(){const{cropBox:l,mediaBox:A}=this;let k;if(l===A||(0,t.isArrayEqual)(l,A))k=A;else{const u=t.Util.intersect(l,A);u&&u[2]-u[0]!=0&&u[3]-u[1]!=0?k=u:(0,t.warn)("Empty /CropBox and /MediaBox intersection.")}return(0,t.shadow)(this,"view",k||A)}get rotate(){let l=this._getInheritableProperty("Rotate")||0;return l%90!=0?l=0:l>=360?l%=360:l<0&&(l=(l%360+360)%360),(0,t.shadow)(this,"rotate",l)}getContentStream(){return this.pdfManager.ensure(this,"content").then(l=>l instanceof L.BaseStream?l:Array.isArray(l)?new n.StreamsSequenceStream(l):new e.NullStream)}get xfaData(){return(0,t.shadow)(this,"xfaData",this.xfaFactory?this.xfaFactory.getPage(this.pageIndex):null)}save(l,A,k){const u=new h.PartialEvaluator({xref:this.xref,handler:l,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions});return this._parsedAnnotations.then(function(M){const O=[];for(const C of M)C.mustBePrinted(k)&&O.push(C.save(u,A,k).catch(function(N){return(0,t.warn)(`save - ignoring annotation data during "${A.name}" task: "${N}".`),null}));return Promise.all(O)})}loadResources(l){return this.resourcesPromise||(this.resourcesPromise=this.pdfManager.ensure(this,"resources")),this.resourcesPromise.then(()=>new w.ObjectLoader(this.resources,l,this.xref).load())}getOperatorList({handler:l,sink:A,task:k,intent:u,renderInteractiveForms:M,annotationStorage:O}){const C=this.getContentStream(),N=this.loadResources(["ColorSpace","ExtGState","Font","Pattern","Properties","Shading","XObject"]),X=new h.PartialEvaluator({xref:this.xref,handler:l,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}),H=Promise.all([C,N]).then(([D])=>{const j=new o.OperatorList(u,A);return l.send("StartRenderPage",{transparency:X.hasBlendModes(this.resources,this.nonBlendModesSet),pageIndex:this.pageIndex,intent:u}),X.getOperatorList({stream:D,task:k,resources:this.resources,operatorList:j}).then(function(){return j})});return Promise.all([H,this._parsedAnnotations]).then(function([D,j]){if(0===j.length)return D.flush(!0),{length:D.totalLength};const _=[];for(const T of j)("display"===u&&T.mustBeViewed(O)||"print"===u&&T.mustBePrinted(O))&&_.push(T.getOperatorList(X,k,M,O).catch(function(U){return(0,t.warn)(`getOperatorList - ignoring annotation data during "${k.name}" task: "${U}".`),null}));return Promise.all(_).then(function(T){D.addOp(t.OPS.beginAnnotations,[]);for(const U of T)D.addOpList(U);return D.addOp(t.OPS.endAnnotations,[]),D.flush(!0),{length:D.totalLength}})})}extractTextContent({handler:l,task:A,normalizeWhitespace:k,includeMarkedContent:u,sink:M,combineTextItems:O}){const C=this.getContentStream(),N=this.loadResources(["ExtGState","Font","Properties","XObject"]);return Promise.all([C,N]).then(([X])=>new h.PartialEvaluator({xref:this.xref,handler:l,pageIndex:this.pageIndex,idFactory:this._localIdFactory,fontCache:this.fontCache,builtInCMapCache:this.builtInCMapCache,globalImageCache:this.globalImageCache,options:this.evaluatorOptions}).getTextContent({stream:X,task:A,resources:this.resources,normalizeWhitespace:k,includeMarkedContent:u,combineTextItems:O,sink:M}))}async getStructTree(){const l=await this.pdfManager.ensureCatalog("structTreeRoot");return l?(await this.pdfManager.ensure(this,"_parseStructTree",[l])).serializable:null}_parseStructTree(l){const A=new a.StructTreePage(l,this.pageDict);return A.parse(),A}getAnnotationsData(l){return this._parsedAnnotations.then(function(A){const k=[];for(let u=0,M=A.length;u<M;u++)(!l||"display"===l&&A[u].viewable||"print"===l&&A[u].printable)&&k.push(A[u].data);return k})}get annotations(){const l=this._getInheritableProperty("Annots");return(0,t.shadow)(this,"annotations",Array.isArray(l)?l:[])}get _parsedAnnotations(){const l=this.pdfManager.ensure(this,"annotations").then(()=>{const A=[];for(const k of this.annotations)A.push(x.AnnotationFactory.create(this.xref,k,this.pdfManager,this._localIdFactory,!1).catch(function(u){return(0,t.warn)(`_parsedAnnotations: "${u}".`),null}));return Promise.all(A).then(function(k){return k.filter(u=>!!u)})});return(0,t.shadow)(this,"_parsedAnnotations",l)}get jsActions(){const l=(0,R.collectActions)(this.xref,this.pageDict,t.PageActionEventType);return(0,t.shadow)(this,"jsActions",l)}}I.Page=c;const f=new Uint8Array([37,80,68,70,45]),y=new Uint8Array([115,116,97,114,116,120,114,101,102]),i=new Uint8Array([101,110,100,111,98,106]),d=/^[1-9]\.[0-9]$/;function S(s,l,A=1024,k=!1){const u=l.length,M=s.peekBytes(A),O=M.length-u;if(O<=0)return!1;if(k){const C=u-1;let N=M.length-1;for(;N>=C;){let X=0;for(;X<u&&M[N-X]===l[C-X];)X++;if(X>=u)return s.pos+=N-C,!0;N--}}else{let C=0;for(;C<=O;){let N=0;for(;N<u&&M[C+N]===l[N];)N++;if(N>=u)return s.pos+=C,!0;C++}}return!1}I.PDFDocument=class{constructor(l,A){let k;if((0,F.isStream)(A))k=A;else{if(!(0,t.isArrayBuffer)(A))throw new Error("PDFDocument: Unknown argument type");k=new e.Stream(A)}if(k.length<=0)throw new t.InvalidPDFException("The PDF file is empty, i.e. its size is zero bytes.");this.pdfManager=l,this.stream=k,this.xref=new v.XRef(k,l),this._pagePromises=[],this._version=null;const u={font:0};this._globalIdFactory=class{static getDocId(){return`g_${l.docId}`}static createFontId(){return"f"+ ++u.font}static createObjId(){(0,t.unreachable)("Abstract method `createObjId` called.")}static getPageObjId(){(0,t.unreachable)("Abstract method `getPageObjId` called.")}}}parse(l){this.xref.parse(l),this.catalog=new b.Catalog(this.pdfManager,this.xref),this.catalog.version&&(this._version=this.catalog.version)}get linearization(){let l=null;try{l=r.Linearization.create(this.stream)}catch(A){if(A instanceof R.MissingDataException)throw A;(0,t.info)(A)}return(0,t.shadow)(this,"linearization",l)}get startXRef(){const l=this.stream;let A=0;if(this.linearization)l.reset(),S(l,i)&&(A=l.pos+6-l.start);else{const u=y.length;let M=!1,O=l.end;for(;!M&&O>0;)O-=1024-u,O<0&&(O=0),l.pos=O,M=S(l,y,1024,!0);if(M){let C;l.skip(9);do{C=l.getByte()}while((0,R.isWhiteSpace)(C));let N="";for(;C>=32&&C<=57;)N+=String.fromCharCode(C),C=l.getByte();A=parseInt(N,10),isNaN(A)&&(A=0)}}return(0,t.shadow)(this,"startXRef",A)}checkHeader(){const l=this.stream;if(l.reset(),!S(l,f))return;l.moveStart();let A,k="";for(;(A=l.getByte())>32&&!(k.length>=12);)k+=String.fromCharCode(A);this._version||(this._version=k.substring(5))}parseStartXRef(){this.xref.setStartXRef(this.startXRef)}get numPages(){if(this.xfaFactory)return(0,t.shadow)(this,"numPages",this.xfaFactory.numberPages);const l=this.linearization;return(0,t.shadow)(this,"numPages",l?l.numPages:this.catalog.numPages)}_hasOnlyDocumentSignatures(l,A=0){return!!Array.isArray(l)&&l.every(k=>{if(!((k=this.xref.fetchIfRef(k))instanceof F.Dict))return!1;if(k.has("Kids"))return++A>10?((0,t.warn)("_hasOnlyDocumentSignatures: maximum recursion depth reached"),!1):this._hasOnlyDocumentSignatures(k.get("Kids"),A);const u=(0,F.isName)(k.get("FT"),"Sig"),M=k.get("Rect"),O=Array.isArray(M)&&M.every(C=>0===C);return u&&O})}get xfaData(){const l=this.catalog.acroForm;if(!l)return null;const A=l.get("XFA"),k={"xdp:xdp":"",template:"",datasets:"",config:"",connectionSet:"",localeSet:"",stylesheet:"","/xdp:xdp":""};if((0,F.isStream)(A)&&!A.isEmpty)try{return k["xdp:xdp"]=(0,t.stringToUTF8String)(A.getString()),k}catch{return(0,t.warn)("XFA - Invalid utf-8 string."),null}if(!Array.isArray(A)||0===A.length)return null;for(let u=0,M=A.length;u<M;u+=2){let O;if(O=0===u?"xdp:xdp":u===M-2?"/xdp:xdp":A[u],!k.hasOwnProperty(O))continue;const C=this.xref.fetchIfRef(A[u+1]);if((0,F.isStream)(C)&&!C.isEmpty)try{k[O]=(0,t.stringToUTF8String)(C.getString())}catch{return(0,t.warn)("XFA - Invalid utf-8 string."),null}}return k}get xfaFactory(){if(this.pdfManager.enableXfa&&this.formInfo.hasXfa&&!this.formInfo.hasAcroForm){const l=this.xfaData;return(0,t.shadow)(this,"xfaFactory",l?new p.XFAFactory(l):null)}return(0,t.shadow)(this,"xfaFaxtory",null)}get isPureXfa(){return null!==this.xfaFactory}async loadXfaFonts(l,A){const k=await this.pdfManager.ensureCatalog("acroForm");if(!k)return;const u=await k.getAsync("DR");if(!(u instanceof F.Dict))return;await new w.ObjectLoader(u,["Font"],this.xref).load();const O=u.get("Font");if(!(O instanceof F.Dict))return;const C=new h.PartialEvaluator({xref:this.xref,handler:l,pageIndex:-1,idFactory:this._globalIdFactory,fontCache:this.catalog.fontCache,builtInCMapCache:this.catalog.builtInCMapCache}),N=new o.OperatorList,X={font:null,clone(){return this}},H=new Map;O.forEach((j,_)=>{H.set(j,_)});const D=[];for(const[j,_]of H){const T=_.get("FontDescriptor");if(!(T instanceof F.Dict))continue;const U={fontFamily:T.get("FontFamily"),fontWeight:T.get("FontWeight"),italicAngle:-T.get("ItalicAngle")};(0,R.validateCSSFont)(U)&&D.push(C.handleSetFont(u,[F.Name.get(j),1],null,N,A,X,null,U).catch(function(q){return(0,t.warn)(`loadXfaFonts: "${q}".`),null}))}await Promise.all(D)}get formInfo(){const l={hasFields:!1,hasAcroForm:!1,hasXfa:!1,hasSignatures:!1},A=this.catalog.acroForm;if(!A)return(0,t.shadow)(this,"formInfo",l);try{const k=A.get("Fields"),u=Array.isArray(k)&&k.length>0;l.hasFields=u;const M=A.get("XFA");l.hasXfa=Array.isArray(M)&&M.length>0||(0,F.isStream)(M)&&!M.isEmpty;const O=!!(1&A.get("SigFlags")),C=O&&this._hasOnlyDocumentSignatures(k);l.hasAcroForm=u&&!C,l.hasSignatures=O}catch(k){if(k instanceof R.MissingDataException)throw k;(0,t.warn)(`Cannot fetch form information: "${k}".`)}return(0,t.shadow)(this,"formInfo",l)}get documentInfo(){const l={Title:t.isString,Author:t.isString,Subject:t.isString,Keywords:t.isString,Creator:t.isString,Producer:t.isString,CreationDate:t.isString,ModDate:t.isString,Trapped:F.isName};let A=this._version;("string"!=typeof A||!d.test(A))&&((0,t.warn)(`Invalid PDF header version number: ${A}`),A=null);const k={PDFFormatVersion:A,IsLinearized:!!this.linearization,IsAcroFormPresent:this.formInfo.hasAcroForm,IsXFAPresent:this.formInfo.hasXfa,IsCollectionPresent:!!this.catalog.collection,IsSignaturesPresent:this.formInfo.hasSignatures};let u;try{u=this.xref.trailer.get("Info")}catch(M){if(M instanceof R.MissingDataException)throw M;(0,t.info)("The document information dictionary is invalid.")}if((0,F.isDict)(u))for(const M of u.getKeys()){const O=u.get(M);if(l[M])l[M](O)?k[M]="string"!=typeof O?O:(0,t.stringToPDFString)(O):(0,t.info)(`Bad value in document info for "${M}".`);else if("string"==typeof M){let C;if((0,t.isString)(O))C=(0,t.stringToPDFString)(O);else{if(!((0,F.isName)(O)||(0,t.isNum)(O)||(0,t.isBool)(O))){(0,t.info)(`Unsupported value in document info for (custom) "${M}".`);continue}C=O}k.Custom||(k.Custom=Object.create(null)),k.Custom[M]=C}}return(0,t.shadow)(this,"documentInfo",k)}get fingerprint(){let l;const A=this.xref.trailer.get("ID");l=Array.isArray(A)&&A[0]&&(0,t.isString)(A[0])&&"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"!==A[0]?(0,t.stringToBytes)(A[0]):(0,P.calculateMD5)(this.stream.getByteRange(0,1024),0,1024);const k=[];for(let u=0,M=l.length;u<M;u++){const O=l[u].toString(16);k.push(O.padStart(2,"0"))}return(0,t.shadow)(this,"fingerprint",k.join(""))}_getLinearizationPage(l){const{catalog:A,linearization:k}=this,u=F.Ref.get(k.objectNumberFirst,0);return this.xref.fetchAsync(u).then(M=>{if((0,F.isDict)(M,"Page")||(0,F.isDict)(M)&&!M.has("Type")&&M.has("Contents"))return u&&!A.pageKidsCountCache.has(u)&&A.pageKidsCountCache.put(u,1),[M,u];throw new t.FormatError("The Linearization dictionary doesn't point to a valid Page dictionary.")}).catch(M=>((0,t.info)(M),A.getPageDict(l)))}getPage(l){if(void 0!==this._pagePromises[l])return this._pagePromises[l];const{catalog:A,linearization:k}=this;if(this.xfaFactory)return Promise.resolve(new c({pdfManager:this.pdfManager,xref:this.xref,pageIndex:l,pageDict:F.Dict.empty,ref:null,globalIdFactory:this._globalIdFactory,fontCache:A.fontCache,builtInCMapCache:A.builtInCMapCache,globalImageCache:A.globalImageCache,nonBlendModesSet:A.nonBlendModesSet,xfaFactory:this.xfaFactory}));const u=k&&k.pageFirst===l?this._getLinearizationPage(l):A.getPageDict(l);return this._pagePromises[l]=u.then(([M,O])=>new c({pdfManager:this.pdfManager,xref:this.xref,pageIndex:l,pageDict:M,ref:O,globalIdFactory:this._globalIdFactory,fontCache:A.fontCache,builtInCMapCache:A.builtInCMapCache,globalImageCache:A.globalImageCache,nonBlendModesSet:A.nonBlendModesSet,xfaFactory:null}))}checkFirstPage(){return this.getPage(0).catch(async l=>{if(l instanceof R.XRefEntryException)throw this._pagePromises.length=0,await this.cleanup(),new R.XRefParseException})}fontFallback(l,A){return this.catalog.fontFallback(l,A)}async cleanup(l=!1){return this.catalog?this.catalog.cleanup(l):(0,F.clearPrimitiveCaches)()}_collectFieldObjects(l,A,k){const u=this.xref.fetchIfRef(A);if(u.has("T")){const M=(0,t.stringToPDFString)(u.get("T"));l=""===l?M:`${l}.${M}`}if(k.has(l)||k.set(l,[]),k.get(l).push(x.AnnotationFactory.create(this.xref,A,this.pdfManager,this._localIdFactory,!0).then(M=>M&&M.getFieldObject()).catch(function(M){return(0,t.warn)(`_collectFieldObjects: "${M}".`),null})),u.has("Kids")){const M=u.get("Kids");for(const O of M)this._collectFieldObjects(l,O,k)}}get fieldObjects(){if(!this.formInfo.hasFields)return(0,t.shadow)(this,"fieldObjects",Promise.resolve(null));const l=Object.create(null),A=new Map;for(const u of this.catalog.acroForm.get("Fields"))this._collectFieldObjects("",u,A);const k=[];for(const[u,M]of A)k.push(Promise.all(M).then(O=>{(O=O.filter(C=>!!C)).length>0&&(l[u]=O)}));return(0,t.shadow)(this,"fieldObjects",Promise.all(k).then(()=>l))}get hasJSActions(){const l=this.pdfManager.ensureDoc("_parseHasJSActions");return(0,t.shadow)(this,"hasJSActions",l)}async _parseHasJSActions(){const[l,A]=await Promise.all([this.pdfManager.ensureCatalog("jsActions"),this.pdfManager.ensureDoc("fieldObjects")]);return!!l||!!A&&Object.values(A).some(k=>k.some(u=>null!==u.actions))}get calculationOrderIds(){const l=this.catalog.acroForm;if(!l||!l.has("CO"))return(0,t.shadow)(this,"calculationOrderIds",null);const A=l.get("CO");if(!Array.isArray(A)||0===A.length)return(0,t.shadow)(this,"calculationOrderIds",null);const k=A.filter(F.isRef).map(u=>u.toString());return(0,t.shadow)(this,"calculationOrderIds",0===k.length?null:k)}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getQuadPoints=n,I.MarkupAnnotation=I.AnnotationFactory=I.AnnotationBorderStyle=I.Annotation=void 0;var t=G(2),F=G(9),R=G(13),e=G(5),x=G(57),L=G(14),P=G(59),b=G(63),r=G(55),w=G(10),o=G(64);function h(q){const E=new Uint8ClampedArray(3);if(!Array.isArray(q))return E;switch(q.length){case 0:return null;case 1:return L.ColorSpace.singletons.gray.getRgbItem(q,0,E,0),E;case 3:return L.ColorSpace.singletons.rgb.getRgbItem(q,0,E,0),E;case 4:return L.ColorSpace.singletons.cmyk.getRgbItem(q,0,E,0),E;default:return E}}function n(q,E){if(!q.has("QuadPoints"))return null;const $=q.getArray("QuadPoints");if(!Array.isArray($)||0===$.length||$.length%8>0)return null;const B=[];for(let W=0,V=$.length/8;W<V;W++){B.push([]);for(let J=8*W,Y=8*W+8;J<Y;J+=2){const z=$[J],Q=$[J+1];if(null!==E&&(z<E[0]||z>E[2]||Q<E[1]||Q>E[3]))return null;B[W].push({x:z,y:Q})}}return B.map(W=>{const[V,J,Y,z]=W.reduce(([Q,re,te,ae],se)=>[Math.min(Q,se.x),Math.max(re,se.x),Math.min(te,se.y),Math.max(ae,se.y)],[Number.MAX_VALUE,Number.MIN_VALUE,Number.MAX_VALUE,Number.MIN_VALUE]);return[{x:V,y:z},{x:J,y:z},{x:V,y:Y},{x:J,y:Y}]})}function a(q,E,$){const[B,W,V,J]=t.Util.getAxialAlignedBoundingBox(E,$);if(B===V||W===J)return[1,0,0,1,q[0],q[1]];const Y=(q[2]-q[0])/(V-B),z=(q[3]-q[1])/(J-W);return[Y,0,0,z,q[0]-B*Y,q[1]-W*z]}I.AnnotationFactory=class{static create(E,$,B,W,V){return Promise.all([B.ensureCatalog("acroForm"),V?this._getPageIndex(E,$,B):-1]).then(([J,Y])=>B.ensure(this,"_create",[E,$,B,W,J,V,Y]))}static _create(E,$,B,W,V,J,Y=-1){const z=E.fetchIfRef($);if(!(0,e.isDict)(z))return;const Q=(0,e.isRef)($)?$.toString():`annot_${W.createObjId()}`;let re=z.get("Subtype");re=(0,e.isName)(re)?re.name:null;const te={xref:E,ref:$,dict:z,subtype:re,id:Q,pdfManager:B,acroForm:V instanceof e.Dict?V:e.Dict.empty,collectFields:J,pageIndex:Y};switch(re){case"Link":return new s(te);case"Text":return new S(te);case"Widget":let ae=(0,F.getInheritableProperty)({dict:z,key:"FT"});switch(ae=(0,e.isName)(ae)?ae.name:null,ae){case"Tx":return new f(te);case"Btn":return new y(te);case"Ch":return new i(te);case"Sig":return new d(te)}return(0,t.warn)(`Unimplemented widget field type "${ae}", falling back to base field type.`),new c(te);case"Popup":return new l(te);case"FreeText":return new A(te);case"Line":return new k(te);case"Square":return new u(te);case"Circle":return new M(te);case"PolyLine":return new O(te);case"Polygon":return new C(te);case"Caret":return new N(te);case"Ink":return new X(te);case"Highlight":return new H(te);case"Underline":return new D(te);case"Squiggly":return new j(te);case"StrikeOut":return new _(te);case"Stamp":return new T(te);case"FileAttachment":return new U(te);default:return J||(0,t.warn)(re?`Unimplemented annotation type "${re}", falling back to base annotation.`:"Annotation is missing the required /Subtype."),new p(te)}}static async _getPageIndex(E,$,B){try{const W=await E.fetchIfRefAsync($);if(!(0,e.isDict)(W))return-1;const V=W.getRaw("P");return(0,e.isRef)(V)?await B.ensureCatalog("getPageIndex",[V]):-1}catch(W){return(0,t.warn)(`_getPageIndex: "${W}".`),-1}}};class p{constructor(E){const $=E.dict;if(this.setContents($.get("Contents")),this.setModificationDate($.get("M")),this.setFlags($.get("F")),this.setRectangle($.getArray("Rect")),this.setColor($.getArray("C")),this.setBorderStyle($),this.setAppearance($),this._streams=[],this.appearance&&this._streams.push(this.appearance),this.data={annotationFlags:this.flags,borderStyle:this.borderStyle,color:this.color,contents:this.contents,hasAppearance:!!this.appearance,id:E.id,modificationDate:this.modificationDate,rect:this.rectangle,subtype:E.subtype},E.collectFields){const B=$.get("Kids");if(Array.isArray(B)){const W=[];for(const V of B)(0,e.isRef)(V)&&W.push(V.toString());0!==W.length&&(this.data.kidIds=W)}this.data.actions=(0,F.collectActions)(E.xref,$,t.AnnotationActionEventType),this.data.fieldName=this._constructFieldName($),this.data.pageIndex=E.pageIndex}this._fallbackFontDict=null}_hasFlag(E,$){return!!(E&$)}_isViewable(E){return!this._hasFlag(E,t.AnnotationFlag.INVISIBLE)&&!this._hasFlag(E,t.AnnotationFlag.NOVIEW)}_isPrintable(E){return this._hasFlag(E,t.AnnotationFlag.PRINT)&&!this._hasFlag(E,t.AnnotationFlag.INVISIBLE)}mustBeViewed(E){const $=E&&E.get(this.data.id);return $&&void 0!==$.hidden?!$.hidden:this.viewable&&!this._hasFlag(this.flags,t.AnnotationFlag.HIDDEN)}mustBePrinted(E){const $=E&&E.get(this.data.id);return $&&void 0!==$.print?$.print:this.printable}get viewable(){return null!==this.data.quadPoints&&(0===this.flags||this._isViewable(this.flags))}get printable(){return null!==this.data.quadPoints&&0!==this.flags&&this._isPrintable(this.flags)}setContents(E){this.contents=(0,t.stringToPDFString)(E||"")}setModificationDate(E){this.modificationDate=(0,t.isString)(E)?E:null}setFlags(E){this.flags=Number.isInteger(E)&&E>0?E:0}hasFlag(E){return this._hasFlag(this.flags,E)}setRectangle(E){this.rectangle=Array.isArray(E)&&4===E.length?t.Util.normalizeRect(E):[0,0,0,0]}setColor(E){this.color=h(E)}setBorderStyle(E){if(this.borderStyle=new v,(0,e.isDict)(E))if(E.has("BS")){const $=E.get("BS"),B=$.get("Type");(!B||(0,e.isName)(B,"Border"))&&(this.borderStyle.setWidth($.get("W"),this.rectangle),this.borderStyle.setStyle($.get("S")),this.borderStyle.setDashArray($.getArray("D")))}else if(E.has("Border")){const $=E.getArray("Border");Array.isArray($)&&$.length>=3&&(this.borderStyle.setHorizontalCornerRadius($[0]),this.borderStyle.setVerticalCornerRadius($[1]),this.borderStyle.setWidth($[2],this.rectangle),4===$.length&&this.borderStyle.setDashArray($[3]))}else this.borderStyle.setWidth(0)}setAppearance(E){this.appearance=null;const $=E.get("AP");if(!(0,e.isDict)($))return;const B=$.get("N");if((0,e.isStream)(B))return void(this.appearance=B);if(!(0,e.isDict)(B))return;const W=E.get("AS");(0,e.isName)(W)&&B.has(W.name)&&(this.appearance=B.get(W.name))}loadResources(E){return this.appearance.dict.getAsync("Resources").then($=>{if($)return new b.ObjectLoader($,E,$.xref).load().then(function(){return $})})}getOperatorList(E,$,B,W){if(!this.appearance)return Promise.resolve(new r.OperatorList);const V=this.appearance,J=this.data,Y=V.dict,z=this.loadResources(["ExtGState","ColorSpace","Pattern","Shading","XObject","Font"]),Q=Y.getArray("BBox")||[0,0,1,1],re=Y.getArray("Matrix")||[1,0,0,1,0,0],te=a(J.rect,Q,re);return z.then(ae=>{const se=new r.OperatorList;return se.addOp(t.OPS.beginAnnotation,[J.rect,te,re]),E.getOperatorList({stream:V,task:$,resources:ae,operatorList:se,fallbackFontDict:this._fallbackFontDict}).then(()=>(se.addOp(t.OPS.endAnnotation,[]),this.reset(),se))})}async save(E,$,B){return null}getFieldObject(){return this.data.kidIds?{id:this.data.id,actions:this.data.actions,name:this.data.fieldName,type:"",kidIds:this.data.kidIds,page:this.data.pageIndex}:null}reset(){for(const E of this._streams)E.reset()}_constructFieldName(E){if(!E.has("T")&&!E.has("Parent"))return(0,t.warn)("Unknown field name, falling back to empty field name."),"";if(!E.has("Parent"))return(0,t.stringToPDFString)(E.get("T"));const $=[];E.has("T")&&$.unshift((0,t.stringToPDFString)(E.get("T")));let B=E;const W=new e.RefSet;for(E.objId&&W.put(E.objId);B.has("Parent")&&(B=B.get("Parent"),B instanceof e.Dict&&(!B.objId||!W.has(B.objId)));)B.objId&&W.put(B.objId),B.has("T")&&$.unshift((0,t.stringToPDFString)(B.get("T")));return $.join(".")}}I.Annotation=p;class v{constructor(){this.width=1,this.style=t.AnnotationBorderStyleType.SOLID,this.dashArray=[3],this.horizontalCornerRadius=0,this.verticalCornerRadius=0}setWidth(E,$=[0,0,0,0]){if((0,e.isName)(E))this.width=0;else if(Number.isInteger(E)){if(E>0){const B=($[2]-$[0])/2,W=($[3]-$[1])/2;B>0&&W>0&&(E>B||E>W)&&((0,t.warn)(`AnnotationBorderStyle.setWidth - ignoring width: ${E}`),E=1)}this.width=E}}setStyle(E){if((0,e.isName)(E))switch(E.name){case"S":this.style=t.AnnotationBorderStyleType.SOLID;break;case"D":this.style=t.AnnotationBorderStyleType.DASHED;break;case"B":this.style=t.AnnotationBorderStyleType.BEVELED;break;case"I":this.style=t.AnnotationBorderStyleType.INSET;break;case"U":this.style=t.AnnotationBorderStyleType.UNDERLINE}}setDashArray(E){if(Array.isArray(E)&&E.length>0){let $=!0,B=!0;for(const W of E){if(!(+W>=0)){$=!1;break}W>0&&(B=!1)}$&&!B?this.dashArray=E:this.width=0}else E&&(this.width=0)}setHorizontalCornerRadius(E){Number.isInteger(E)&&(this.horizontalCornerRadius=E)}setVerticalCornerRadius(E){Number.isInteger(E)&&(this.verticalCornerRadius=E)}}I.AnnotationBorderStyle=v;class m extends p{constructor(E){super(E);const $=E.dict;if($.has("IRT")){const B=$.getRaw("IRT");this.data.inReplyTo=(0,e.isRef)(B)?B.toString():null;const W=$.get("RT");this.data.replyType=(0,e.isName)(W)?W.name:t.AnnotationReplyType.REPLY}if(this.data.replyType===t.AnnotationReplyType.GROUP){const B=$.get("IRT");this.data.title=(0,t.stringToPDFString)(B.get("T")||""),this.setContents(B.get("Contents")),this.data.contents=this.contents,B.has("CreationDate")?(this.setCreationDate(B.get("CreationDate")),this.data.creationDate=this.creationDate):this.data.creationDate=null,B.has("M")?(this.setModificationDate(B.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,this.data.hasPopup=B.has("Popup"),B.has("C")?(this.setColor(B.getArray("C")),this.data.color=this.color):this.data.color=null}else this.data.title=(0,t.stringToPDFString)($.get("T")||""),this.setCreationDate($.get("CreationDate")),this.data.creationDate=this.creationDate,this.data.hasPopup=$.has("Popup"),$.has("C")||(this.data.color=null)}setCreationDate(E){this.creationDate=(0,t.isString)(E)?E:null}_setDefaultAppearance({xref:E,extra:$,strokeColor:B,fillColor:W,blendMode:V,strokeAlpha:J,fillAlpha:Y,pointsCallback:z}){let Q=Number.MAX_VALUE,re=Number.MAX_VALUE,te=Number.MIN_VALUE,ae=Number.MIN_VALUE;const se=["q"];$&&se.push($),B&&se.push(`${B[0]} ${B[1]} ${B[2]} RG`),W&&se.push(`${W[0]} ${W[1]} ${W[2]} rg`);let le=this.data.quadPoints;le||(le=[[{x:this.rectangle[0],y:this.rectangle[3]},{x:this.rectangle[2],y:this.rectangle[3]},{x:this.rectangle[0],y:this.rectangle[1]},{x:this.rectangle[2],y:this.rectangle[1]}]]);for(const qe of le){const[Ue,Se,Ce,Oe]=z(se,qe);Q=Math.min(Q,Ue),te=Math.max(te,Se),re=Math.min(re,Ce),ae=Math.max(ae,Oe)}se.push("Q");const ue=new e.Dict(E),oe=new e.Dict(E);oe.set("Subtype",e.Name.get("Form"));const me=new w.StringStream(se.join(" "));me.dict=oe,ue.set("Fm0",me);const de=new e.Dict(E);V&&de.set("BM",e.Name.get(V)),"number"==typeof J&&de.set("CA",J),"number"==typeof Y&&de.set("ca",Y);const Ae=new e.Dict(E);Ae.set("GS0",de);const Ne=new e.Dict(E);Ne.set("ExtGState",Ae),Ne.set("XObject",ue);const Ee=new e.Dict(E);Ee.set("Resources",Ne);const Re=this.data.rect=[Q,re,te,ae];Ee.set("BBox",Re),this.appearance=new w.StringStream("/GS0 gs /Fm0 Do"),this.appearance.dict=Ee,this._streams.push(this.appearance,me)}}I.MarkupAnnotation=m;class c extends p{constructor(E){super(E);const $=E.dict,B=this.data;this.ref=E.ref,B.annotationType=t.AnnotationType.WIDGET,void 0===B.fieldName&&(B.fieldName=this._constructFieldName($)),void 0===B.actions&&(B.actions=(0,F.collectActions)(E.xref,$,t.AnnotationActionEventType));const W=(0,F.getInheritableProperty)({dict:$,key:"V",getArray:!0});B.fieldValue=this._decodeFormValue(W);const V=(0,F.getInheritableProperty)({dict:$,key:"DV",getArray:!0});B.defaultFieldValue=this._decodeFormValue(V),B.alternativeText=(0,t.stringToPDFString)($.get("TU")||"");const J=(0,F.getInheritableProperty)({dict:$,key:"DA"})||E.acroForm.get("DA");this._defaultAppearance=(0,t.isString)(J)?J:"",B.defaultAppearanceData=(0,R.parseDefaultAppearance)(this._defaultAppearance);const Y=(0,F.getInheritableProperty)({dict:$,key:"FT"});B.fieldType=(0,e.isName)(Y)?Y.name:null;const z=(0,F.getInheritableProperty)({dict:$,key:"DR"}),Q=E.acroForm.get("DR"),re=this.appearance&&this.appearance.dict.get("Resources");this._fieldResources={localResources:z,acroFormResources:Q,appearanceResources:re,mergedResources:e.Dict.merge({xref:E.xref,dictArray:[z,re,Q],mergeSubDicts:!0})},B.fieldFlags=(0,F.getInheritableProperty)({dict:$,key:"Ff"}),(!Number.isInteger(B.fieldFlags)||B.fieldFlags<0)&&(B.fieldFlags=0),B.readOnly=this.hasFieldFlag(t.AnnotationFieldFlag.READONLY),B.hidden=this._hasFlag(B.annotationFlags,t.AnnotationFlag.HIDDEN)}_decodeFormValue(E){return Array.isArray(E)?E.filter($=>(0,t.isString)($)).map($=>(0,t.stringToPDFString)($)):(0,e.isName)(E)?(0,t.stringToPDFString)(E.name):(0,t.isString)(E)?(0,t.stringToPDFString)(E):null}hasFieldFlag(E){return!!(this.data.fieldFlags&E)}getOperatorList(E,$,B,W){return!B||this instanceof d?this._hasText?this._getAppearance(E,$,W).then(V=>{if(this.appearance&&null===V)return super.getOperatorList(E,$,B,W);const J=new r.OperatorList;if(!this._defaultAppearance||null===V)return J;const Y=[1,0,0,1,0,0],Q=a(this.data.rect,[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],Y);J.addOp(t.OPS.beginAnnotation,[this.data.rect,Q,Y]);const re=new w.StringStream(V);return E.getOperatorList({stream:re,task:$,resources:this._fieldResources.mergedResources,operatorList:J}).then(function(){return J.addOp(t.OPS.endAnnotation,[]),J})}):super.getOperatorList(E,$,B,W):Promise.resolve(new r.OperatorList)}async save(E,$,B){if(!B)return null;const W=B.get(this.data.id),V=W&&W.value;if(V===this.data.fieldValue||void 0===V)return null;let J=await this._getAppearance(E,$,B);if(null===J)return null;const{xref:Y}=E,z=Y.fetchIfRef(this.ref);if(!(0,e.isDict)(z))return null;const Q=[0,0,this.data.rect[2]-this.data.rect[0],this.data.rect[3]-this.data.rect[1]],re={path:(0,t.stringToPDFString)(z.get("T")||""),value:V},te=Y.getNewRef(),ae=new e.Dict(Y);ae.set("N",te);const se=Y.encrypt;let le=null,ue=null;se&&(le=se.createCipherTransform(this.ref.num,this.ref.gen),ue=se.createCipherTransform(te.num,te.gen),J=ue.encryptString(J)),z.set("V",(0,t.isAscii)(V)?V:(0,t.stringToUTF16BEString)(V)),z.set("AP",ae),z.set("M",`D:${(0,t.getModificationDate)()}`);const oe=new e.Dict(Y);oe.set("Length",J.length),oe.set("Subtype",e.Name.get("Form")),oe.set("Resources",this._getSaveFieldResources(Y)),oe.set("BBox",Q);const me=[`${this.ref.num} ${this.ref.gen} obj\n`];(0,o.writeDict)(z,me,le),me.push("\nendobj\n");const de=[`${te.num} ${te.gen} obj\n`];return(0,o.writeDict)(oe,de,ue),de.push(" stream\n",J,"\nendstream\nendobj\n"),[{ref:this.ref,data:me.join(""),xfa:re},{ref:te,data:de.join(""),xfa:null}]}async _getAppearance(E,$,B){const W=this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD);if(!B||W)return null;const V=B.get(this.data.id);let J=V&&V.value;if(void 0===J)return null;if(J=J.trim(),""===J)return"";let Y=-1;this.data.multiLine&&(Y=J.split(/\r\n|\r|\n/).length);const z=this.data.rect[3]-this.data.rect[1],Q=this.data.rect[2]-this.data.rect[0];this._defaultAppearance||(this.data.defaultAppearanceData=(0,R.parseDefaultAppearance)(this._defaultAppearance="/Helvetica 0 Tf 0 g"));const[re,te]=this._computeFontSize(z,Y),ae=await this._getFontData(E,$);let se=ae.descent;isNaN(se)&&(se=0);const le=2+Math.abs(se)*te,ue=this.data.textAlignment;if(this.data.multiLine)return this._getMultilineAppearance(re,J,ae,te,Q,z,ue,2,le);const oe=ae.encodeString(J).join("");return this.data.comb?this._getCombAppearance(re,ae,oe,Q,2,le):0===ue||ue>2?"/Tx BMC q BT "+re+` 1 0 0 1 2 ${le} Tm (${(0,t.escapeString)(oe)}) Tj ET Q EMC`:"/Tx BMC q BT "+re+` 1 0 0 1 0 0 Tm ${this._renderText(oe,ae,te,Q,ue,2,le)} ET Q EMC`}async _getFontData(E,$){const B=new r.OperatorList,W={font:null,clone(){return this}},{fontName:V,fontSize:J}=this.data.defaultAppearanceData;return await E.handleSetFont(this._fieldResources.mergedResources,[V&&e.Name.get(V),J],null,B,$,W,null),W.font}_computeFontSize(E,$){let{fontSize:B}=this.data.defaultAppearanceData;if(!B){const W=z=>Math.round(10*z)/10;if(-1===$)B=W(.8*E);else{B=10;let z=B/.8,Q=Math.round(E/z);Q=Math.max(Q,$),z=E/Q,B=W(.8*z)}const{fontName:J,fontColor:Y}=this.data.defaultAppearanceData;this._defaultAppearance=(0,R.createDefaultAppearance)({fontSize:B,fontName:J,fontColor:Y})}return[this._defaultAppearance,B]}_renderText(E,$,B,W,V,J,Y){const z=$.charsToGlyphs(E),Q=B/1e3;let re,te=0;for(const ae of z)te+=ae.width*Q;return re=1===V?(W-te)/2:2===V?W-te-J:J,re=re.toFixed(2),`${re} ${Y=Y.toFixed(2)} Td (${(0,t.escapeString)(E)}) Tj`}_getSaveFieldResources(E){const{localResources:$,appearanceResources:B,acroFormResources:W}=this._fieldResources,V=this.data.defaultAppearanceData&&this.data.defaultAppearanceData.fontName;if(!V)return $||e.Dict.empty;for(const J of[$,B])if(J instanceof e.Dict){const Y=J.get("Font");if(Y instanceof e.Dict&&Y.has(V))return J}if(W instanceof e.Dict){const J=W.get("Font");if(J instanceof e.Dict&&J.has(V)){const Y=new e.Dict(E);Y.set(V,J.getRaw(V));const z=new e.Dict(E);return z.set("Font",Y),e.Dict.merge({xref:E,dictArray:[z,$],mergeSubDicts:!0})}}return $||e.Dict.empty}getFieldObject(){return null}}class f extends c{constructor(E){super(E),this._hasText=!0;const $=E.dict;(0,t.isString)(this.data.fieldValue)||(this.data.fieldValue="");let B=(0,F.getInheritableProperty)({dict:$,key:"Q"});(!Number.isInteger(B)||B<0||B>2)&&(B=null),this.data.textAlignment=B;let W=(0,F.getInheritableProperty)({dict:$,key:"MaxLen"});(!Number.isInteger(W)||W<0)&&(W=null),this.data.maxLen=W,this.data.multiLine=this.hasFieldFlag(t.AnnotationFieldFlag.MULTILINE),this.data.comb=this.hasFieldFlag(t.AnnotationFieldFlag.COMB)&&!this.hasFieldFlag(t.AnnotationFieldFlag.MULTILINE)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD)&&!this.hasFieldFlag(t.AnnotationFieldFlag.FILESELECT)&&null!==this.data.maxLen}_getCombAppearance(E,$,B,W,V,J){const Y=(W/this.data.maxLen).toFixed(2),z=[],Q=$.getCharPositions(B);for(const[re,te]of Q)z.push(`(${(0,t.escapeString)(B.substring(re,te))}) Tj`);return"/Tx BMC q BT "+E+` 1 0 0 1 ${V} ${J} Tm ${z.join(` ${Y} 0 Td `)} ET Q EMC`}_getMultilineAppearance(E,$,B,W,V,J,Y,z,Q){const re=$.split(/\r\n|\r|\n/),te=[],ae=V-2*z;for(const se of re){const le=this._splitLine(se,B,W,ae);for(const ue of le)te.push(this._renderText(ue,B,W,V,Y,0===te.length?z:0,-W))}return"/Tx BMC q BT "+E+` 1 0 0 1 0 ${J} Tm ${te.join("\n")} ET Q EMC`}_splitLine(E,$,B,W){E=$.encodeString(E).join("");const V=$.charsToGlyphs(E);if(V.length<=1)return[E];const J=$.getCharPositions(E),Y=B/1e3,z=[];let Q=-1,re=-1,te=-1,ae=0,se=0;for(let le=0,ue=V.length;le<ue;le++){const[oe,me]=J[le],de=V[le],Ae=de.width*Y;" "===de.unicode?se+Ae>W?(z.push(E.substring(ae,oe)),ae=oe,se=Ae,Q=-1,te=-1):(se+=Ae,Q=oe,re=me,te=le):se+Ae>W?-1!==Q?(z.push(E.substring(ae,re)),ae=re,le=te+1,Q=-1,se=0):(z.push(E.substring(ae,oe)),ae=oe,se=Ae):se+=Ae}return ae<E.length&&z.push(E.substring(ae,E.length)),z}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue,defaultValue:this.data.defaultFieldValue,multiline:this.data.multiLine,password:this.hasFieldFlag(t.AnnotationFieldFlag.PASSWORD),charLimit:this.data.maxLen,comb:this.data.comb,editable:!this.data.readOnly,hidden:this.data.hidden,name:this.data.fieldName,rect:this.data.rect,actions:this.data.actions,page:this.data.pageIndex,type:"text"}}}class y extends c{constructor(E){super(E),this.checkedAppearance=null,this.uncheckedAppearance=null,this.data.checkBox=!this.hasFieldFlag(t.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.radioButton=this.hasFieldFlag(t.AnnotationFieldFlag.RADIO)&&!this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.pushButton=this.hasFieldFlag(t.AnnotationFieldFlag.PUSHBUTTON),this.data.isTooltipOnly=!1,this.data.checkBox?this._processCheckBox(E):this.data.radioButton?this._processRadioButton(E):this.data.pushButton?this._processPushButton(E):(0,t.warn)("Invalid field flags for button widget annotation")}getOperatorList(E,$,B,W){if(this.data.pushButton)return super.getOperatorList(E,$,!1,W);if(W){const V=W.get(this.data.id),J=V&&V.value;if(void 0===J)return super.getOperatorList(E,$,B,W);let Y;if(Y=J?this.checkedAppearance:this.uncheckedAppearance,Y){const z=this.appearance;this.appearance=Y;const Q=super.getOperatorList(E,$,B,W);return this.appearance=z,Q}return Promise.resolve(new r.OperatorList)}return super.getOperatorList(E,$,B,W)}async save(E,$,B){return this.data.checkBox?this._saveCheckbox(E,$,B):this.data.radioButton?this._saveRadioButton(E,$,B):null}async _saveCheckbox(E,$,B){if(!B)return null;const W=B.get(this.data.id),V=W&&W.value;if(void 0===V||(this.data.fieldValue&&"Off"!==this.data.fieldValue)===V)return null;const J=E.xref.fetchIfRef(this.ref);if(!(0,e.isDict)(J))return null;const Y={path:(0,t.stringToPDFString)(J.get("T")||""),value:V?this.data.exportValue:""},z=e.Name.get(V?this.data.exportValue:"Off");J.set("V",z),J.set("AS",z),J.set("M",`D:${(0,t.getModificationDate)()}`);const Q=E.xref.encrypt;let re=null;Q&&(re=Q.createCipherTransform(this.ref.num,this.ref.gen));const te=[`${this.ref.num} ${this.ref.gen} obj\n`];return(0,o.writeDict)(J,te,re),te.push("\nendobj\n"),[{ref:this.ref,data:te.join(""),xfa:Y}]}async _saveRadioButton(E,$,B){if(!B)return null;const W=B.get(this.data.id),V=W&&W.value;if(void 0===V||this.data.fieldValue===this.data.buttonValue===V)return null;const J=E.xref.fetchIfRef(this.ref);if(!(0,e.isDict)(J))return null;const Y={path:(0,t.stringToPDFString)(J.get("T")||""),value:V?this.data.buttonValue:""},z=e.Name.get(V?this.data.buttonValue:"Off");let Q=null;const re=E.xref.encrypt;if(V)if((0,e.isRef)(this.parent)){const le=E.xref.fetch(this.parent);let ue=null;re&&(ue=re.createCipherTransform(this.parent.num,this.parent.gen)),le.set("V",z),Q=[`${this.parent.num} ${this.parent.gen} obj\n`],(0,o.writeDict)(le,Q,ue),Q.push("\nendobj\n")}else(0,e.isDict)(this.parent)&&this.parent.set("V",z);J.set("AS",z),J.set("M",`D:${(0,t.getModificationDate)()}`);let te=null;re&&(te=re.createCipherTransform(this.ref.num,this.ref.gen));const ae=[`${this.ref.num} ${this.ref.gen} obj\n`];(0,o.writeDict)(J,ae,te),ae.push("\nendobj\n");const se=[{ref:this.ref,data:ae.join(""),xfa:Y}];return null!==Q&&se.push({ref:this.parent,data:Q.join(""),xfa:null}),se}_processCheckBox(E){const $=E.dict.get("AP");if(!(0,e.isDict)($))return;const B=$.get("N");if(!(0,e.isDict)(B))return;const W=B.getKeys();W.includes("Off")||W.push("Off"),2===W.length&&(this.data.exportValue="Off"===W[0]?W[1]:W[0],this.checkedAppearance=B.get(this.data.exportValue),this.uncheckedAppearance=B.get("Off")||null,this._streams.push(this.checkedAppearance),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict)}_processRadioButton(E){this.data.fieldValue=this.data.buttonValue=null;const $=E.dict.get("Parent");if((0,e.isDict)($)){this.parent=E.dict.getRaw("Parent");const V=$.get("V");(0,e.isName)(V)&&(this.data.fieldValue=this._decodeFormValue(V))}const B=E.dict.get("AP");if(!(0,e.isDict)(B))return;const W=B.get("N");if((0,e.isDict)(W)){for(const V of W.getKeys())if("Off"!==V){this.data.buttonValue=this._decodeFormValue(V);break}this.checkedAppearance=W.get(this.data.buttonValue),this.uncheckedAppearance=W.get("Off")||null,this._streams.push(this.checkedAppearance),this.uncheckedAppearance&&this._streams.push(this.uncheckedAppearance),this._fallbackFontDict=this.fallbackFontDict}}_processPushButton(E){E.dict.has("A")||E.dict.has("AA")||this.data.alternativeText?(this.data.isTooltipOnly=!E.dict.has("A")&&!E.dict.has("AA"),x.Catalog.parseDestDictionary({destDict:E.dict,resultObj:this.data,docBaseUrl:E.pdfManager.docBaseUrl})):(0,t.warn)("Push buttons without action dictionaries are not supported")}getFieldObject(){let E,$="button";return this.data.checkBox?($="checkbox",E=this.data.exportValue):this.data.radioButton&&($="radiobutton",E=this.data.buttonValue),{id:this.data.id,value:this.data.fieldValue||"Off",defaultValue:this.data.defaultFieldValue,exportValues:E,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,hidden:this.data.hidden,actions:this.data.actions,page:this.data.pageIndex,type:$}}get fallbackFontDict(){const E=new e.Dict;return E.set("BaseFont",e.Name.get("ZapfDingbats")),E.set("Type",e.Name.get("FallbackType")),E.set("Subtype",e.Name.get("FallbackType")),E.set("Encoding",e.Name.get("ZapfDingbatsEncoding")),(0,t.shadow)(this,"fallbackFontDict",E)}}class i extends c{constructor(E){super(E),this.data.options=[];const $=(0,F.getInheritableProperty)({dict:E.dict,key:"Opt"});if(Array.isArray($)){const B=E.xref;for(let W=0,V=$.length;W<V;W++){const J=B.fetchIfRef($[W]),Y=Array.isArray(J);this.data.options[W]={exportValue:this._decodeFormValue(Y?B.fetchIfRef(J[0]):J),displayValue:this._decodeFormValue(Y?B.fetchIfRef(J[1]):J)}}}(0,t.isString)(this.data.fieldValue)?this.data.fieldValue=[this.data.fieldValue]:this.data.fieldValue||(this.data.fieldValue=[]),this.data.combo=this.hasFieldFlag(t.AnnotationFieldFlag.COMBO),this.data.multiSelect=this.hasFieldFlag(t.AnnotationFieldFlag.MULTISELECT),this._hasText=!0}getFieldObject(){return{id:this.data.id,value:this.data.fieldValue.length>0?this.data.fieldValue[0]:null,defaultValue:this.data.defaultFieldValue,editable:!this.data.readOnly,name:this.data.fieldName,rect:this.data.rect,numItems:this.data.fieldValue.length,multipleSelection:this.data.multiSelect,hidden:this.data.hidden,actions:this.data.actions,items:this.data.options,page:this.data.pageIndex,type:this.data.combo?"combobox":"listbox"}}}class d extends c{constructor(E){super(E),this.data.fieldValue=null}getFieldObject(){return{id:this.data.id,value:null,page:this.data.pageIndex,type:"signature"}}}class S extends m{constructor(E){super(E);const $=E.dict;this.data.annotationType=t.AnnotationType.TEXT,this.data.hasAppearance?this.data.name="NoIcon":(this.data.rect[1]=this.data.rect[3]-22,this.data.rect[2]=this.data.rect[0]+22,this.data.name=$.has("Name")?$.get("Name").name:"Note"),$.has("State")?(this.data.state=$.get("State")||null,this.data.stateModel=$.get("StateModel")||null):(this.data.state=null,this.data.stateModel=null)}}class s extends p{constructor(E){super(E),this.data.annotationType=t.AnnotationType.LINK;const $=n(E.dict,this.rectangle);$&&(this.data.quadPoints=$),x.Catalog.parseDestDictionary({destDict:E.dict,resultObj:this.data,docBaseUrl:E.pdfManager.docBaseUrl})}}class l extends p{constructor(E){super(E),this.data.annotationType=t.AnnotationType.POPUP;let $=E.dict.get("Parent");if(!$)return void(0,t.warn)("Popup annotation has a missing or invalid parent annotation.");const B=$.get("Subtype");this.data.parentType=(0,e.isName)(B)?B.name:null;const W=E.dict.getRaw("Parent");this.data.parentId=(0,e.isRef)(W)?W.toString():null;const V=$.getArray("Rect");this.data.parentRect=Array.isArray(V)&&4===V.length?t.Util.normalizeRect(V):[0,0,0,0];const J=$.get("RT");if((0,e.isName)(J,t.AnnotationReplyType.GROUP)&&($=$.get("IRT")),$.has("M")?(this.setModificationDate($.get("M")),this.data.modificationDate=this.modificationDate):this.data.modificationDate=null,$.has("C")?(this.setColor($.getArray("C")),this.data.color=this.color):this.data.color=null,!this.viewable){const Y=$.get("F");this._isViewable(Y)&&this.setFlags(Y)}this.data.title=(0,t.stringToPDFString)($.get("T")||""),this.data.contents=(0,t.stringToPDFString)($.get("Contents")||"")}}class A extends m{constructor(E){super(E),this.data.annotationType=t.AnnotationType.FREETEXT}}class k extends m{constructor(E){super(E),this.data.annotationType=t.AnnotationType.LINE;const $=E.dict.getArray("L");if(this.data.lineCoordinates=t.Util.normalizeRect($),!this.appearance){const B=this.color?Array.from(this.color).map(te=>te/255):[0,0,0],W=E.dict.get("CA");let V=null,J=E.dict.getArray("IC");J&&(J=h(J),V=J?Array.from(J).map(te=>te/255):null);const Y=V?W:null,z=this.borderStyle.width||1,Q=2*z,re=[this.data.lineCoordinates[0]-Q,this.data.lineCoordinates[1]-Q,this.data.lineCoordinates[2]+Q,this.data.lineCoordinates[3]+Q];t.Util.intersect(this.rectangle,re)||(this.rectangle=re),this._setDefaultAppearance({xref:E.xref,extra:`${z} w`,strokeColor:B,fillColor:V,strokeAlpha:W,fillAlpha:Y,pointsCallback:(te,ae)=>(te.push(`${$[0]} ${$[1]} m`,`${$[2]} ${$[3]} l`,"S"),[ae[0].x-z,ae[1].x+z,ae[3].y-z,ae[1].y+z])})}}}class u extends m{constructor(E){if(super(E),this.data.annotationType=t.AnnotationType.SQUARE,!this.appearance){const $=this.color?Array.from(this.color).map(Y=>Y/255):[0,0,0],B=E.dict.get("CA");let W=null,V=E.dict.getArray("IC");V&&(V=h(V),W=V?Array.from(V).map(Y=>Y/255):null),this._setDefaultAppearance({xref:E.xref,extra:`${this.borderStyle.width} w`,strokeColor:$,fillColor:W,strokeAlpha:B,fillAlpha:W?B:null,pointsCallback:(Y,z)=>(Y.push(`${z[2].x+this.borderStyle.width/2} ${z[2].y+this.borderStyle.width/2} ${z[3].x-z[2].x-this.borderStyle.width} ${z[1].y-z[3].y-this.borderStyle.width} re`),Y.push(W?"B":"S"),[z[0].x,z[1].x,z[3].y,z[1].y])})}}}class M extends m{constructor(E){if(super(E),this.data.annotationType=t.AnnotationType.CIRCLE,!this.appearance){const $=this.color?Array.from(this.color).map(z=>z/255):[0,0,0],B=E.dict.get("CA");let W=null,V=E.dict.getArray("IC");V&&(V=h(V),W=V?Array.from(V).map(z=>z/255):null);const J=W?B:null,Y=4/3*Math.tan(Math.PI/8);this._setDefaultAppearance({xref:E.xref,extra:`${this.borderStyle.width} w`,strokeColor:$,fillColor:W,strokeAlpha:B,fillAlpha:J,pointsCallback:(z,Q)=>{const re=Q[0].x+this.borderStyle.width/2,te=Q[0].y-this.borderStyle.width/2,ae=Q[3].x-this.borderStyle.width/2,se=Q[3].y+this.borderStyle.width/2,le=re+(ae-re)/2,ue=te+(se-te)/2,oe=(ae-re)/2*Y,me=(se-te)/2*Y;return z.push(`${le} ${se} m`,`${le+oe} ${se} ${ae} ${ue+me} ${ae} ${ue} c`,`${ae} ${ue-me} ${le+oe} ${te} ${le} ${te} c`,`${le-oe} ${te} ${re} ${ue-me} ${re} ${ue} c`,`${re} ${ue+me} ${le-oe} ${se} ${le} ${se} c`,"h"),z.push(W?"B":"S"),[Q[0].x,Q[1].x,Q[3].y,Q[1].y]}})}}}class O extends m{constructor(E){super(E),this.data.annotationType=t.AnnotationType.POLYLINE,this.data.vertices=[];const $=E.dict.getArray("Vertices");if(Array.isArray($)){for(let B=0,W=$.length;B<W;B+=2)this.data.vertices.push({x:$[B],y:$[B+1]});if(!this.appearance){const B=this.color?Array.from(this.color).map(z=>z/255):[0,0,0],W=E.dict.get("CA"),V=this.borderStyle.width||1,J=2*V,Y=[1/0,1/0,-1/0,-1/0];for(const z of this.data.vertices)Y[0]=Math.min(Y[0],z.x-J),Y[1]=Math.min(Y[1],z.y-J),Y[2]=Math.max(Y[2],z.x+J),Y[3]=Math.max(Y[3],z.y+J);t.Util.intersect(this.rectangle,Y)||(this.rectangle=Y),this._setDefaultAppearance({xref:E.xref,extra:`${V} w`,strokeColor:B,strokeAlpha:W,pointsCallback:(z,Q)=>{const re=this.data.vertices;for(let te=0,ae=re.length;te<ae;te++)z.push(`${re[te].x} ${re[te].y} ${0===te?"m":"l"}`);return z.push("S"),[Q[0].x,Q[1].x,Q[3].y,Q[1].y]}})}}}}class C extends O{constructor(E){super(E),this.data.annotationType=t.AnnotationType.POLYGON}}class N extends m{constructor(E){super(E),this.data.annotationType=t.AnnotationType.CARET}}class X extends m{constructor(E){super(E),this.data.annotationType=t.AnnotationType.INK,this.data.inkLists=[];const $=E.dict.getArray("InkList");if(!Array.isArray($))return;const B=E.xref;for(let W=0,V=$.length;W<V;++W){this.data.inkLists.push([]);for(let J=0,Y=$[W].length;J<Y;J+=2)this.data.inkLists[W].push({x:B.fetchIfRef($[W][J]),y:B.fetchIfRef($[W][J+1])})}if(!this.appearance){const W=this.color?Array.from(this.color).map(Q=>Q/255):[0,0,0],V=E.dict.get("CA"),J=this.borderStyle.width||1,Y=2*J,z=[1/0,1/0,-1/0,-1/0];for(const Q of this.data.inkLists)for(const re of Q)z[0]=Math.min(z[0],re.x-Y),z[1]=Math.min(z[1],re.y-Y),z[2]=Math.max(z[2],re.x+Y),z[3]=Math.max(z[3],re.y+Y);t.Util.intersect(this.rectangle,z)||(this.rectangle=z),this._setDefaultAppearance({xref:E.xref,extra:`${J} w`,strokeColor:W,strokeAlpha:V,pointsCallback:(Q,re)=>{for(const te of this.data.inkLists){for(let ae=0,se=te.length;ae<se;ae++)Q.push(`${te[ae].x} ${te[ae].y} ${0===ae?"m":"l"}`);Q.push("S")}return[re[0].x,re[1].x,re[3].y,re[1].y]}})}}}class H extends m{constructor(E){if(super(E),this.data.annotationType=t.AnnotationType.HIGHLIGHT,this.data.quadPoints=n(E.dict,null)){const $=this.appearance&&this.appearance.dict.get("Resources");if(!this.appearance||!$||!$.has("ExtGState")){this.appearance&&(0,t.warn)("HighlightAnnotation - ignoring built-in appearance stream.");const B=this.color?Array.from(this.color).map(V=>V/255):[1,1,0],W=E.dict.get("CA");this._setDefaultAppearance({xref:E.xref,fillColor:B,blendMode:"Multiply",fillAlpha:W,pointsCallback:(V,J)=>(V.push(`${J[0].x} ${J[0].y} m`,`${J[1].x} ${J[1].y} l`,`${J[3].x} ${J[3].y} l`,`${J[2].x} ${J[2].y} l`,"f"),[J[0].x,J[1].x,J[3].y,J[1].y])})}}else this.data.hasPopup=!1}}class D extends m{constructor(E){if(super(E),this.data.annotationType=t.AnnotationType.UNDERLINE,this.data.quadPoints=n(E.dict,null)){if(!this.appearance){const $=this.color?Array.from(this.color).map(W=>W/255):[0,0,0],B=E.dict.get("CA");this._setDefaultAppearance({xref:E.xref,extra:"[] 0 d 1 w",strokeColor:$,strokeAlpha:B,pointsCallback:(W,V)=>(W.push(`${V[2].x} ${V[2].y} m`,`${V[3].x} ${V[3].y} l`,"S"),[V[0].x,V[1].x,V[3].y,V[1].y])})}}else this.data.hasPopup=!1}}class j extends m{constructor(E){if(super(E),this.data.annotationType=t.AnnotationType.SQUIGGLY,this.data.quadPoints=n(E.dict,null)){if(!this.appearance){const $=this.color?Array.from(this.color).map(W=>W/255):[0,0,0],B=E.dict.get("CA");this._setDefaultAppearance({xref:E.xref,extra:"[] 0 d 1 w",strokeColor:$,strokeAlpha:B,pointsCallback:(W,V)=>{const J=(V[0].y-V[2].y)/6;let Y=J,z=V[2].x;const Q=V[2].y,re=V[3].x;W.push(`${z} ${Q+Y} m`);do{z+=2,Y=0===Y?J:0,W.push(`${z} ${Q+Y} l`)}while(z<re);return W.push("S"),[V[2].x,re,Q-2*J,Q+2*J]}})}}else this.data.hasPopup=!1}}class _ extends m{constructor(E){if(super(E),this.data.annotationType=t.AnnotationType.STRIKEOUT,this.data.quadPoints=n(E.dict,null)){if(!this.appearance){const $=this.color?Array.from(this.color).map(W=>W/255):[0,0,0],B=E.dict.get("CA");this._setDefaultAppearance({xref:E.xref,extra:"[] 0 d 1 w",strokeColor:$,strokeAlpha:B,pointsCallback:(W,V)=>(W.push((V[0].x+V[2].x)/2+" "+(V[0].y+V[2].y)/2+" m",(V[1].x+V[3].x)/2+" "+(V[1].y+V[3].y)/2+" l","S"),[V[0].x,V[1].x,V[3].y,V[1].y])})}}else this.data.hasPopup=!1}}class T extends m{constructor(E){super(E),this.data.annotationType=t.AnnotationType.STAMP}}class U extends m{constructor(E){super(E);const $=new P.FileSpec(E.dict.get("FS"),E.xref);this.data.annotationType=t.AnnotationType.FILEATTACHMENT,this.data.file=$.serializable}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.createDefaultAppearance=function({fontSize:r,fontName:w,fontColor:o}){let h;return h=o.every(n=>0===n)?"0 g":Array.from(o).map(n=>(n/255).toFixed(2)).join(" ")+" rg",`/${(0,R.escapePDFName)(w)} ${r} Tf ${h}`},I.parseDefaultAppearance=function(r){return new P(r).parse()};var t=G(2),F=G(14),R=G(9),e=G(15),x=G(5),L=G(10);class P extends e.EvaluatorPreprocessor{constructor(r){super(new L.StringStream(r))}parse(){const r={fn:0,args:[]},w={fontSize:0,fontName:"",fontColor:new Uint8ClampedArray(3)};try{for(;r.args.length=0,this.read(r);){if(0!==this.savedStatesDepth)continue;const{fn:o,args:h}=r;switch(0|o){case t.OPS.setFont:const[n,a]=h;n instanceof x.Name&&(w.fontName=n.name),"number"==typeof a&&a>0&&(w.fontSize=a);break;case t.OPS.setFillRGBColor:F.ColorSpace.singletons.rgb.getRgbItem(h,0,w.fontColor,0);break;case t.OPS.setFillGray:F.ColorSpace.singletons.gray.getRgbItem(h,0,w.fontColor,0);break;case t.OPS.setFillColorSpace:F.ColorSpace.singletons.cmyk.getRgbItem(h,0,w.fontColor,0)}}}catch(o){(0,t.warn)(`parseDefaultAppearance - ignoring errors: "${o}".`)}return w}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.ColorSpace=void 0;var t=G(2),F=G(5),R=G(9);class e{constructor(p,v){this.constructor===e&&(0,t.unreachable)("Cannot initialize ColorSpace."),this.name=p,this.numComps=v}getRgb(p,v){const m=new Uint8ClampedArray(3);return this.getRgbItem(p,v,m,0),m}getRgbItem(p,v,m,c){(0,t.unreachable)("Should not call ColorSpace.getRgbItem")}getRgbBuffer(p,v,m,c,f,y,i){(0,t.unreachable)("Should not call ColorSpace.getRgbBuffer")}getOutputLength(p,v){(0,t.unreachable)("Should not call ColorSpace.getOutputLength")}isPassthrough(p){return!1}isDefaultDecode(p,v){return e.isDefaultDecode(p,this.numComps)}fillRgb(p,v,m,c,f,y,i,d,S){const s=v*m;let l=null;const A=1<<i,k=m!==f||v!==c;if(this.isPassthrough(i))l=d;else if(1===this.numComps&&s>A&&"DeviceGray"!==this.name&&"DeviceRGB"!==this.name){const u=i<=8?new Uint8Array(A):new Uint16Array(A);for(let O=0;O<A;O++)u[O]=O;const M=new Uint8ClampedArray(3*A);if(this.getRgbBuffer(u,0,A,M,0,i,0),k){l=new Uint8Array(3*s);let O=0;for(let C=0;C<s;++C){const N=3*d[C];l[O++]=M[N],l[O++]=M[N+1],l[O++]=M[N+2]}}else{let O=0;for(let C=0;C<s;++C){const N=3*d[C];p[O++]=M[N],p[O++]=M[N+1],p[O++]=M[N+2],O+=S}}}else k?(l=new Uint8ClampedArray(3*s),this.getRgbBuffer(d,0,s,l,0,i,0)):this.getRgbBuffer(d,0,c*y,p,0,i,S);if(l)if(k)!function(M,O,C,N,X,H,D){D=1!==D?0:D;const j=C/X,_=N/H;let T,U=0;const q=new Uint16Array(X),E=3*C;for(let $=0;$<X;$++)q[$]=3*Math.floor($*j);for(let $=0;$<H;$++){const B=Math.floor($*_)*E;for(let W=0;W<X;W++)T=B+q[W],O[U++]=M[T++],O[U++]=M[T++],O[U++]=M[T++],U+=D}}(l,p,v,m,c,f,S);else{let u=0,M=0;for(let O=0,C=c*y;O<C;O++)p[u++]=l[M++],p[u++]=l[M++],p[u++]=l[M++],u+=S}}get usesZeroToOneRange(){return(0,t.shadow)(this,"usesZeroToOneRange",!0)}static _cache(p,v,m,c){if(!m)throw new Error('ColorSpace._cache - expected "localColorSpaceCache" argument.');if(!c)throw new Error('ColorSpace._cache - expected "parsedColorSpace" argument.');let f,y;p instanceof F.Ref&&(y=p,p=v.fetch(p)),p instanceof F.Name&&(f=p.name),(f||y)&&m.set(f,y,c)}static getCached(p,v,m){if(!m)throw new Error('ColorSpace.getCached - expected "localColorSpaceCache" argument.');if(p instanceof F.Ref){const c=m.getByRef(p);if(c)return c;try{p=v.fetch(p)}catch(f){if(f instanceof R.MissingDataException)throw f}}if(p instanceof F.Name){const c=m.getByName(p.name);if(c)return c}return null}static async parseAsync({cs:p,xref:v,resources:m=null,pdfFunctionFactory:c,localColorSpaceCache:f}){const y=this._parse(p,v,m,c);return this._cache(p,v,f,y),y}static parse({cs:p,xref:v,resources:m=null,pdfFunctionFactory:c,localColorSpaceCache:f}){const y=this.getCached(p,v,f);if(y)return y;const i=this._parse(p,v,m,c);return this._cache(p,v,f,i),i}static _parse(p,v,m=null,c){if(p=v.fetchIfRef(p),(0,F.isName)(p))switch(p.name){case"DeviceGray":case"G":return this.singletons.gray;case"DeviceRGB":case"RGB":return this.singletons.rgb;case"DeviceCMYK":case"CMYK":return this.singletons.cmyk;case"Pattern":return new L(null);default:if((0,F.isDict)(m)){const f=m.get("ColorSpace");if((0,F.isDict)(f)){const y=f.get(p.name);if(y){if((0,F.isName)(y))return this._parse(y,v,m,c);p=y;break}}}throw new t.FormatError(`Unrecognized ColorSpace: ${p.name}`)}if(Array.isArray(p)){const f=v.fetchIfRef(p[0]).name;let y,i,d,S,s,l;switch(f){case"DeviceGray":case"G":return this.singletons.gray;case"DeviceRGB":case"RGB":return this.singletons.rgb;case"DeviceCMYK":case"CMYK":return this.singletons.cmyk;case"CalGray":return y=v.fetchIfRef(p[1]),S=y.getArray("WhitePoint"),s=y.getArray("BlackPoint"),l=y.get("Gamma"),new o(S,s,l);case"CalRGB":y=v.fetchIfRef(p[1]),S=y.getArray("WhitePoint"),s=y.getArray("BlackPoint"),l=y.getArray("Gamma");const A=y.getArray("Matrix");return new h(S,s,l,A);case"ICCBased":const k=v.fetchIfRef(p[1]).dict;i=k.get("N");const u=k.get("Alternate");if(u){const H=this._parse(u,v,m,c);if(H.numComps===i)return H;(0,t.warn)("ICCBased color space: Ignoring incorrect /Alternate entry.")}if(1===i)return this.singletons.gray;if(3===i)return this.singletons.rgb;if(4===i)return this.singletons.cmyk;break;case"Pattern":return d=p[1]||null,d&&(d=this._parse(d,v,m,c)),new L(d);case"Indexed":case"I":d=this._parse(p[1],v,m,c);const M=v.fetchIfRef(p[2])+1,O=v.fetchIfRef(p[3]);return new P(d,M,O);case"Separation":case"DeviceN":const C=v.fetchIfRef(p[1]);i=Array.isArray(C)?C.length:1,d=this._parse(p[2],v,m,c);const N=c.create(p[3]);return new x(i,d,N);case"Lab":y=v.fetchIfRef(p[1]),S=y.getArray("WhitePoint"),s=y.getArray("BlackPoint");const X=y.getArray("Range");return new n(S,s,X);default:throw new t.FormatError(`Unimplemented ColorSpace object: ${f}`)}}throw new t.FormatError(`Unrecognized ColorSpace object: ${p}`)}static isDefaultDecode(p,v){if(!Array.isArray(p))return!0;if(2*v!==p.length)return(0,t.warn)("The decode map is not the correct length"),!0;for(let m=0,c=p.length;m<c;m+=2)if(0!==p[m]||1!==p[m+1])return!1;return!0}static get singletons(){return(0,t.shadow)(this,"singletons",{get gray(){return(0,t.shadow)(this,"gray",new b)},get rgb(){return(0,t.shadow)(this,"rgb",new r)},get cmyk(){return(0,t.shadow)(this,"cmyk",new w)}})}}I.ColorSpace=e;class x extends e{constructor(p,v,m){super("Alternate",p),this.base=v,this.tintFn=m,this.tmpBuf=new Float32Array(v.numComps)}getRgbItem(p,v,m,c){const f=this.tmpBuf;this.tintFn(p,v,f,0),this.base.getRgbItem(f,0,m,c)}getRgbBuffer(p,v,m,c,f,y,i){const d=this.tintFn,S=this.base,s=1/((1<<y)-1),l=S.numComps,A=S.usesZeroToOneRange,k=(S.isPassthrough(8)||!A)&&0===i;let u=k?f:0;const M=k?c:new Uint8ClampedArray(l*m),O=this.numComps,C=new Float32Array(O),N=new Float32Array(l);let X,H;for(X=0;X<m;X++){for(H=0;H<O;H++)C[H]=p[v++]*s;if(d(C,0,N,0),A)for(H=0;H<l;H++)M[u++]=255*N[H];else S.getRgbItem(N,0,M,u),u+=l}k||S.getRgbBuffer(M,0,m,c,f,8,i)}getOutputLength(p,v){return this.base.getOutputLength(p*this.base.numComps/this.numComps,v)}}class L extends e{constructor(p){super("Pattern",null),this.base=p}isDefaultDecode(p,v){(0,t.unreachable)("Should not call PatternCS.isDefaultDecode")}}class P extends e{constructor(p,v,m){super("Indexed",1),this.base=p,this.highVal=v;const c=p.numComps*v;if(this.lookup=new Uint8Array(c),(0,F.isStream)(m)){const f=m.getBytes(c);this.lookup.set(f)}else{if("string"!=typeof m)throw new t.FormatError(`IndexedCS - unrecognized lookup table: ${m}`);for(let f=0;f<c;++f)this.lookup[f]=255&m.charCodeAt(f)}}getRgbItem(p,v,m,c){this.base.getRgbBuffer(this.lookup,p[v]*this.base.numComps,1,m,c,8,0)}getRgbBuffer(p,v,m,c,f,y,i){const d=this.base,S=d.numComps,s=d.getOutputLength(S,i),l=this.lookup;for(let A=0;A<m;++A){const k=p[v++]*S;d.getRgbBuffer(l,k,1,c,f,8,i),f+=s}}getOutputLength(p,v){return this.base.getOutputLength(p*this.base.numComps,v)}isDefaultDecode(p,v){return!Array.isArray(p)||(2!==p.length?((0,t.warn)("Decode map length is not correct"),!0):!Number.isInteger(v)||v<1?((0,t.warn)("Bits per component is not correct"),!0):0===p[0]&&p[1]===(1<<v)-1)}}class b extends e{constructor(){super("DeviceGray",1)}getRgbItem(p,v,m,c){m[c]=m[c+1]=m[c+2]=255*p[v]}getRgbBuffer(p,v,m,c,f,y,i){const d=255/((1<<y)-1);let S=v,s=f;for(let l=0;l<m;++l){const A=d*p[S++];c[s++]=A,c[s++]=A,c[s++]=A,s+=i}}getOutputLength(p,v){return p*(3+v)}}class r extends e{constructor(){super("DeviceRGB",3)}getRgbItem(p,v,m,c){m[c]=255*p[v],m[c+1]=255*p[v+1],m[c+2]=255*p[v+2]}getRgbBuffer(p,v,m,c,f,y,i){if(8===y&&0===i)return void c.set(p.subarray(v,v+3*m),f);const d=255/((1<<y)-1);let S=v,s=f;for(let l=0;l<m;++l)c[s++]=d*p[S++],c[s++]=d*p[S++],c[s++]=d*p[S++],s+=i}getOutputLength(p,v){return p*(3+v)/3|0}isPassthrough(p){return 8===p}}const w=function(){function p(v,m,c,f,y){const i=v[m]*c,d=v[m+1]*c,S=v[m+2]*c,s=v[m+3]*c;f[y]=255+i*(-4.387332384609988*i+54.48615194189176*d+18.82290502165302*S+212.25662451639585*s-285.2331026137004)+d*(1.7149763477362134*d-5.6096736904047315*S+-17.873870861415444*s-5.497006427196366)+S*(-2.5217340131683033*S-21.248923337353073*s+17.5119270841813)+s*(-21.86122147463605*s-189.48180835922747),f[y+1]=255+i*(8.841041422036149*i+60.118027045597366*d+6.871425592049007*S+31.159100130055922*s-79.2970844816548)+d*(-15.310361306967817*d+17.575251261109482*S+131.35250912493976*s-190.9453302588951)+S*(4.444339102852739*S+9.8632861493405*s-24.86741582555878)+s*(-20.737325471181034*s-187.80453709719578),f[y+2]=255+i*(.8842522430003296*i+8.078677503112928*d+30.89978309703729*S-.23883238689178934*s-14.183576799673286)+d*(10.49593273432072*d+63.02378494754052*S+50.606957656360734*s-112.23884253719248)+S*(.03296041114873217*S+115.60384449646641*s-193.58209356861505)+s*(-22.33816807309886*s-180.12613974708367)}return class extends e{constructor(){super("DeviceCMYK",4)}getRgbItem(m,c,f,y){p(m,c,1,f,y)}getRgbBuffer(m,c,f,y,i,d,S){const s=1/((1<<d)-1);for(let l=0;l<f;l++)p(m,c,s,y,i),c+=4,i+=3+S}getOutputLength(m,c){return m/4*(3+c)|0}}}(),o=function(){function p(v,m,c,f,y,i){const s=Math.max(295.8*(v.YW*(m[c]*i)**v.G)**.3333333333333333-40.8,0);f[y]=s,f[y+1]=s,f[y+2]=s}return class extends e{constructor(m,c,f){if(super("CalGray",1),!m)throw new t.FormatError("WhitePoint missing - required for color space CalGray");if(c=c||[0,0,0],f=f||1,this.XW=m[0],this.YW=m[1],this.ZW=m[2],this.XB=c[0],this.YB=c[1],this.ZB=c[2],this.G=f,this.XW<0||this.ZW<0||1!==this.YW)throw new t.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(this.XB<0||this.YB<0||this.ZB<0)&&((0,t.info)(`Invalid BlackPoint for ${this.name}, falling back to default.`),this.XB=this.YB=this.ZB=0),0===this.XB&&0===this.YB&&0===this.ZB||(0,t.warn)(`${this.name}, BlackPoint: XB: ${this.XB}, YB: ${this.YB}, ZB: ${this.ZB}, only default values are supported.`),this.G<1&&((0,t.info)(`Invalid Gamma: ${this.G} for ${this.name}, falling back to default.`),this.G=1)}getRgbItem(m,c,f,y){p(this,m,c,f,y,1)}getRgbBuffer(m,c,f,y,i,d,S){const s=1/((1<<d)-1);for(let l=0;l<f;++l)p(this,m,c,y,i,s),c+=1,i+=3+S}getOutputLength(m,c){return m*(3+c)}}}(),h=function(){const p=new Float32Array([.8951,.2664,-.1614,-.7502,1.7135,.0367,.0389,-.0685,1.0296]),v=new Float32Array([.9869929,-.1470543,.1599627,.4323053,.5183603,.0492912,-.0085287,.0400428,.9684867]),m=new Float32Array([3.2404542,-1.5371385,-.4985314,-.969266,1.8760108,.041556,.0556434,-.2040259,1.0572252]),c=new Float32Array([1,1,1]),f=new Float32Array(3),y=new Float32Array(3),i=new Float32Array(3);function d(k,u,M){M[0]=k[0]*u[0]+k[1]*u[1]+k[2]*u[2],M[1]=k[3]*u[0]+k[4]*u[1]+k[5]*u[2],M[2]=k[6]*u[0]+k[7]*u[1]+k[8]*u[2]}function S(k){return k<=.0031308?s(0,1,12.92*k):k>=.99554525?1:s(0,1,1.055*k**(1/2.4)-.055)}function s(k,u,M){return Math.max(k,Math.min(u,M))}function l(k){return k<0?-l(-k):k>8?((k+16)/116)**3:.0011070564598794539*k}function A(k,u,M,O,C,N){const X=s(0,1,u[M]*N),H=s(0,1,u[M+1]*N),D=s(0,1,u[M+2]*N),j=1===X?1:X**k.GR,_=1===H?1:H**k.GG,T=1===D?1:D**k.GB,q=k.MYA*j+k.MYB*_+k.MYC*T,E=k.MZA*j+k.MZB*_+k.MZC*T,$=y;$[0]=k.MXA*j+k.MXB*_+k.MXC*T,$[1]=q,$[2]=E;const B=i;!function(z,Q,re){if(1===z[0]&&1===z[2])return re[0]=Q[0],re[1]=Q[1],void(re[2]=Q[2]);const te=re;d(p,Q,te);const ae=f;var le,ue,oe;(oe=ae)[0]=1*(ue=te)[0]/(le=z)[0],oe[1]=1*ue[1]/le[1],oe[2]=1*ue[2]/le[2],d(v,ae,re)}(k.whitePoint,$,B);const W=y;!function(z,Q,re){if(0===z[0]&&0===z[1]&&0===z[2])return re[0]=Q[0],re[1]=Q[1],void(re[2]=Q[2]);const te=l(0),ae=(1-te)/(1-l(z[0])),se=1-ae,le=(1-te)/(1-l(z[1])),ue=1-le,oe=(1-te)/(1-l(z[2])),me=1-oe;re[0]=Q[0]*ae+se,re[1]=Q[1]*le+ue,re[2]=Q[2]*oe+me}(k.blackPoint,B,W);const V=i;!function(z,Q,re){const te=re;d(p,Q,te);const ae=f;var le,ue,oe;(oe=ae)[0]=.95047*(ue=te)[0]/(le=z)[0],oe[1]=1*ue[1]/le[1],oe[2]=1.08883*ue[2]/le[2],d(v,ae,re)}(c,W,V);const J=y;d(m,V,J),O[C]=255*S(J[0]),O[C+1]=255*S(J[1]),O[C+2]=255*S(J[2])}return class extends e{constructor(u,M,O,C){if(super("CalRGB",3),!u)throw new t.FormatError("WhitePoint missing - required for color space CalRGB");M=M||new Float32Array(3),O=O||new Float32Array([1,1,1]),C=C||new Float32Array([1,0,0,0,1,0,0,0,1]);const N=u[0],X=u[1],H=u[2];this.whitePoint=u;const D=M[0],j=M[1],_=M[2];if(this.blackPoint=M,this.GR=O[0],this.GG=O[1],this.GB=O[2],this.MXA=C[0],this.MYA=C[1],this.MZA=C[2],this.MXB=C[3],this.MYB=C[4],this.MZB=C[5],this.MXC=C[6],this.MYC=C[7],this.MZC=C[8],N<0||H<0||1!==X)throw new t.FormatError(`Invalid WhitePoint components for ${this.name}, no fallback available`);(D<0||j<0||_<0)&&((0,t.info)(`Invalid BlackPoint for ${this.name} [${D}, ${j}, ${_}], falling back to default.`),this.blackPoint=new Float32Array(3)),(this.GR<0||this.GG<0||this.GB<0)&&((0,t.info)(`Invalid Gamma [${this.GR}, ${this.GG}, ${this.GB}] for ${this.name}, falling back to default.`),this.GR=this.GG=this.GB=1)}getRgbItem(u,M,O,C){A(this,u,M,O,C,1)}getRgbBuffer(u,M,O,C,N,X,H){const D=1/((1<<X)-1);for(let j=0;j<O;++j)A(this,u,M,C,N,D),M+=3,N+=3+H}getOutputLength(u,M){return u*(3+M)/3|0}}}(),n=function(){function p(c){let f;return f=c>=6/29?c**3:108/841*(c-4/29),f}function v(c,f,y,i){return y+c*(i-y)/f}function m(c,f,y,i,d,S){let s=f[y],l=f[y+1],A=f[y+2];!1!==i&&(s=v(s,i,0,100),l=v(l,i,c.amin,c.amax),A=v(A,i,c.bmin,c.bmax)),l>c.amax?l=c.amax:l<c.amin&&(l=c.amin),A>c.bmax?A=c.bmax:A<c.bmin&&(A=c.bmin);const k=(s+16)/116,M=k-A/200,O=c.XW*p(k+l/500),C=c.YW*p(k),N=c.ZW*p(M);let X,H,D;c.ZW<1?(X=3.1339*O+-1.617*C+-.4906*N,H=-.9785*O+1.916*C+.0333*N,D=.072*O+-.229*C+1.4057*N):(X=3.2406*O+-1.5372*C+-.4986*N,H=-.9689*O+1.8758*C+.0415*N,D=.0557*O+-.204*C+1.057*N),d[S]=255*Math.sqrt(X),d[S+1]=255*Math.sqrt(H),d[S+2]=255*Math.sqrt(D)}return class extends e{constructor(f,y,i){if(super("Lab",3),!f)throw new t.FormatError("WhitePoint missing - required for color space Lab");if(y=y||[0,0,0],i=i||[-100,100,-100,100],this.XW=f[0],this.YW=f[1],this.ZW=f[2],this.amin=i[0],this.amax=i[1],this.bmin=i[2],this.bmax=i[3],this.XB=y[0],this.YB=y[1],this.ZB=y[2],this.XW<0||this.ZW<0||1!==this.YW)throw new t.FormatError("Invalid WhitePoint components, no fallback available");(this.XB<0||this.YB<0||this.ZB<0)&&((0,t.info)("Invalid BlackPoint, falling back to default"),this.XB=this.YB=this.ZB=0),(this.amin>this.amax||this.bmin>this.bmax)&&((0,t.info)("Invalid Range, falling back to defaults"),this.amin=-100,this.amax=100,this.bmin=-100,this.bmax=100)}getRgbItem(f,y,i,d){m(this,f,y,!1,i,d)}getRgbBuffer(f,y,i,d,S,s,l){const A=(1<<s)-1;for(let k=0;k<i;k++)m(this,f,y,A,d,S),y+=3,S+=3+l}getOutputLength(f,y){return f*(3+y)/3|0}isDefaultDecode(f,y){return!0}get usesZeroToOneRange(){return(0,t.shadow)(this,"usesZeroToOneRange",!1)}}}()},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PartialEvaluator=I.EvaluatorPreprocessor=void 0;var t=G(2),F=G(16),R=G(5),e=G(34),x=G(38),L=G(37),P=G(40),b=G(41),r=G(48),w=G(42),o=G(49),h=G(17),n=G(51),a=G(52),p=G(14),v=G(19),m=G(39),c=G(9),f=G(53),y=G(54),i=G(10),d=G(55),S=G(56);const s=Object.freeze({maxImageSize:-1,disableFontFace:!1,ignoreErrors:!1,isEvalSupported:!0,fontExtraProperties:!1}),k=Promise.resolve();function u(j,_=!1){if(Array.isArray(j)){for(let T=0,U=j.length;T<U;T++){const q=u(j[T],!0);if(q)return q}return(0,t.warn)(`Unsupported blend mode Array: ${j}`),"source-over"}if(!(0,R.isName)(j))return _?null:"source-over";switch(j.name){case"Normal":case"Compatible":return"source-over";case"Multiply":return"multiply";case"Screen":return"screen";case"Overlay":return"overlay";case"Darken":return"darken";case"Lighten":return"lighten";case"ColorDodge":return"color-dodge";case"ColorBurn":return"color-burn";case"HardLight":return"hard-light";case"SoftLight":return"soft-light";case"Difference":return"difference";case"Exclusion":return"exclusion";case"Hue":return"hue";case"Saturation":return"saturation";case"Color":return"color";case"Luminosity":return"luminosity"}return _?null:((0,t.warn)(`Unsupported blend mode: ${j.name}`),"source-over")}class M{static get TIME_SLOT_DURATION_MS(){return(0,t.shadow)(this,"TIME_SLOT_DURATION_MS",20)}static get CHECK_TIME_EVERY(){return(0,t.shadow)(this,"CHECK_TIME_EVERY",100)}constructor(){this.reset()}check(){return!(++this.checked<M.CHECK_TIME_EVERY)&&(this.checked=0,this.endTime<=Date.now())}reset(){this.endTime=Date.now()+M.TIME_SLOT_DURATION_MS,this.checked=0}}class O{constructor({xref:_,handler:T,pageIndex:U,idFactory:q,fontCache:E,builtInCMapCache:$,globalImageCache:B,options:W=null}){this.xref=_,this.handler=T,this.pageIndex=U,this.idFactory=q,this.fontCache=E,this.builtInCMapCache=$,this.globalImageCache=B,this.options=W||s,this.parsingType3Font=!1,this._fetchBuiltInCMapBound=this.fetchBuiltInCMap.bind(this)}get _pdfFunctionFactory(){const _=new o.PDFFunctionFactory({xref:this.xref,isEvalSupported:this.options.isEvalSupported});return(0,t.shadow)(this,"_pdfFunctionFactory",_)}clone(_=s){const T=Object.create(this);return T.options=_,T}hasBlendModes(_,T){if(!(_ instanceof R.Dict)||_.objId&&T.has(_.objId))return!1;const U=new R.RefSet(T);_.objId&&U.put(_.objId);const q=[_],E=this.xref;for(;q.length;){const $=q.shift(),B=$.get("ExtGState");if(B instanceof R.Dict)for(let V of B.getRawValues()){if(V instanceof R.Ref){if(U.has(V))continue;try{V=E.fetch(V)}catch(Y){U.put(V),(0,t.info)(`hasBlendModes - ignoring ExtGState: "${Y}".`);continue}}if(!(V instanceof R.Dict))continue;V.objId&&U.put(V.objId);const J=V.get("BM");if(J instanceof R.Name){if("Normal"!==J.name)return!0}else if(void 0!==J&&Array.isArray(J))for(const Y of J)if(Y instanceof R.Name&&"Normal"!==Y.name)return!0}const W=$.get("XObject");if(W instanceof R.Dict)for(let V of W.getRawValues()){if(V instanceof R.Ref){if(U.has(V))continue;try{V=E.fetch(V)}catch(Y){U.put(V),(0,t.info)(`hasBlendModes - ignoring XObject: "${Y}".`);continue}}if(!(0,R.isStream)(V))continue;V.dict.objId&&U.put(V.dict.objId);const J=V.dict.get("Resources");J instanceof R.Dict&&(!J.objId||!U.has(J.objId))&&(q.push(J),J.objId&&U.put(J.objId))}}return U.forEach($=>{T.put($)}),!1}async fetchBuiltInCMap(_){const T=this.builtInCMapCache.get(_);if(T)return T;const U=this.handler.sendWithStream("FetchBuiltInCMap",{name:_}).getReader(),q=await new Promise(function(E,$){!function B(){U.read().then(function({value:W,done:V}){V||(E(W),B())},$)}()});return q.compressionType!==t.CMapCompressionType.NONE&&this.builtInCMapCache.set(_,q),q}async buildFormXObject(_,T,U,q,E,$,B){const W=T.dict,V=W.getArray("Matrix");let J=W.getArray("BBox");J=Array.isArray(J)&&4===J.length?t.Util.normalizeRect(J):null;let Y,z=null;W.has("OC")&&(z=await this.parseMarkedContentProps(W.get("OC"),_),q.addOp(t.OPS.beginMarkedContentProps,["OC",z]));const Q=W.get("Group");if(Q){Y={matrix:V,bbox:J,smask:U,isolated:!1,knockout:!1};const re=Q.get("S");let te=null;if((0,R.isName)(re,"Transparency")&&(Y.isolated=Q.get("I")||!1,Y.knockout=Q.get("K")||!1,Q.has("CS"))){const ae=Q.getRaw("CS");te=p.ColorSpace.getCached(ae,this.xref,B)||await this.parseColorSpace({cs:ae,resources:_,localColorSpaceCache:B})}U&&U.backdrop&&(te=te||p.ColorSpace.singletons.rgb,U.backdrop=te.getRgb(U.backdrop,0)),q.addOp(t.OPS.beginGroup,[Y])}return q.addOp(t.OPS.paintFormXObjectBegin,[V,J]),this.getOperatorList({stream:T,task:E,resources:W.get("Resources")||_,operatorList:q,initialState:$}).then(function(){q.addOp(t.OPS.paintFormXObjectEnd,[]),Q&&q.addOp(t.OPS.endGroup,[Y]),z&&q.addOp(t.OPS.endMarkedContent,[])})}_sendImgData(_,T,U=!1){const q=T?[T.data.buffer]:null;return this.parsingType3Font||U?this.handler.send("commonobj",[_,"Image",T],q):this.handler.send("obj",[_,this.pageIndex,"Image",T],q)}async buildPaintImageXObject({resources:_,image:T,isInline:U=!1,operatorList:q,cacheKey:E,localImageCache:$,localColorSpaceCache:B}){const W=T.dict,V=W.objId,J=W.get("Width","W"),Y=W.get("Height","H");if(!(J&&(0,t.isNum)(J)&&Y&&(0,t.isNum)(Y)))return void(0,t.warn)("Image dimensions are missing, or not numbers.");const z=this.options.maxImageSize;if(-1!==z&&J*Y>z)return void(0,t.warn)("Image exceeded maximum allowed size and was removed.");let Q,re;if(W.get("ImageMask","IM")){const ue=W.get("Width","W"),oe=W.get("Height","H"),de=T.getBytes((ue+7>>3)*oe,!0),Ae=W.getArray("Decode","D");return Q=S.PDFImage.createMask({imgArray:de,width:ue,height:oe,imageIsFromDecodeStream:T instanceof v.DecodeStream,inverseDecode:!!Ae&&Ae[0]>0}),Q.cached=!!E,re=[Q],q.addOp(t.OPS.paintImageMaskXObject,re),void(E&&$.set(E,V,{fn:t.OPS.paintImageMaskXObject,args:re}))}const te=W.get("SMask","SM")||!1,ae=W.get("Mask")||!1;if(U&&!te&&!ae&&J+Y<200)return Q=new S.PDFImage({xref:this.xref,res:_,image:T,isInline:U,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:B}).createImageData(!0),void q.addOp(t.OPS.paintInlineImageXObject,[Q]);let se=`img_${this.idFactory.createObjId()}`,le=!1;this.parsingType3Font?se=`${this.idFactory.getDocId()}_type3_${se}`:V&&(le=this.globalImageCache.shouldCache(V,this.pageIndex),le&&(se=`${this.idFactory.getDocId()}_${se}`)),q.addDependency(se),re=[se,J,Y],S.PDFImage.buildImage({xref:this.xref,res:_,image:T,isInline:U,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:B}).then(ue=>(Q=ue.createImageData(!1),E&&V&&le&&this.globalImageCache.addByteSize(V,Q.data.length),this._sendImgData(se,Q,le))).catch(ue=>((0,t.warn)(`Unable to decode image "${se}": "${ue}".`),this._sendImgData(se,null,le))),q.addOp(t.OPS.paintImageXObject,re),E&&($.set(E,V,{fn:t.OPS.paintImageXObject,args:re}),V&&((0,t.assert)(!U,"Cannot cache an inline image globally."),this.globalImageCache.addPageIndex(V,this.pageIndex),le&&this.globalImageCache.setData(V,{objId:se,fn:t.OPS.paintImageXObject,args:re,byteSize:0})))}handleSMask(_,T,U,q,E,$){const B=_.get("G"),W={subtype:_.get("S").name,backdrop:_.get("BC")},V=_.get("TR");if((0,o.isPDFFunction)(V)){const J=this._pdfFunctionFactory.create(V),Y=new Uint8Array(256),z=new Float32Array(1);for(let Q=0;Q<256;Q++)z[0]=Q/255,J(z,0,z,0),Y[Q]=255*z[0]|0;W.transferMap=Y}return this.buildFormXObject(T,B,W,U,q,E.state.clone(),$)}handleTransferFunction(_){let T;if(Array.isArray(_))T=_;else{if(!(0,o.isPDFFunction)(_))return null;T=[_]}const U=[];let q=0,E=0;for(const $ of T){const B=this.xref.fetchIfRef($);if(q++,(0,R.isName)(B,"Identity")){U.push(null);continue}if(!(0,o.isPDFFunction)(B))return null;const W=this._pdfFunctionFactory.create(B),V=new Uint8Array(256),J=new Float32Array(1);for(let Y=0;Y<256;Y++)J[0]=Y/255,W(J,0,J,0),V[Y]=255*J[0]|0;U.push(V),E++}return 1!==q&&4!==q||0===E?null:U}handleTilingType(_,T,U,q,E,$,B,W,V){const J=new d.OperatorList,Y=R.Dict.merge({xref:this.xref,dictArray:[E.get("Resources"),U]});return this.getOperatorList({stream:q,task:B,resources:Y,operatorList:J}).then(function(){const z=J.getIR(),Q=(0,r.getTilingPatternIR)(z,E,T);$.addDependencies(J.dependencies),$.addOp(_,Q),W&&V.set(W,E.objId,{operatorListIR:z,dict:E})}).catch(z=>{if(!(z instanceof t.AbortException)){if(!this.options.ignoreErrors)throw z;this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorTilingPattern}),(0,t.warn)(`handleTilingType - ignoring pattern: "${z}".`)}})}handleSetFont(_,T,U,q,E,$,B=null,W=null){return this.loadFont(T&&T[0]instanceof R.Name?T[0].name:null,U,_,B,W).then(J=>J.font.isType3Font?J.loadType3Data(this,_,E).then(function(){return q.addDependencies(J.type3Dependencies),J}).catch(Y=>(this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontLoadType3}),new C({loadedName:"g_font_error",font:new e.ErrorFont(`Type3 font load error: ${Y}`),dict:J.font,evaluatorOptions:this.options}))):J).then(J=>($.font=J.font,J.send(this.handler),J.loadedName))}handleText(_,T){const U=T.font,q=U.charsToGlyphs(_);return U.data&&(T.textRenderingMode&t.TextRenderingMode.ADD_TO_PATH_FLAG||"Pattern"===T.fillColorSpace.name||U.disableFontFace||this.options.disableFontFace)&&O.buildFontPaths(U,q,this.handler,this.options),q}ensureStateFont(_){if(_.font)return;const T=new t.FormatError("Missing setFont (Tf) operator before text rendering operator.");if(!this.options.ignoreErrors)throw T;this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontState}),(0,t.warn)(`ensureStateFont: "${T}".`)}async setGState({resources:_,gState:T,operatorList:U,cacheKey:q,task:E,stateManager:$,localGStateCache:B,localColorSpaceCache:W}){const V=T.objId;let J=!0;const Y=[],z=T.getKeys();let Q=Promise.resolve();for(let re=0,te=z.length;re<te;re++){const ae=z[re],se=T.get(ae);switch(ae){case"Type":break;case"LW":case"LC":case"LJ":case"ML":case"D":case"RI":case"FL":case"CA":case"ca":Y.push([ae,se]);break;case"Font":J=!1,Q=Q.then(()=>this.handleSetFont(_,null,se[0],U,E,$.state).then(function(ue){U.addDependency(ue),Y.push([ae,[ue,se[1]]])}));break;case"BM":Y.push([ae,u(se)]);break;case"SMask":if((0,R.isName)(se,"None")){Y.push([ae,!1]);break}(0,R.isDict)(se)?(J=!1,Q=Q.then(()=>this.handleSMask(se,_,U,E,$,W)),Y.push([ae,!0])):(0,t.warn)("Unsupported SMask type");break;case"TR":const le=this.handleTransferFunction(se);Y.push([ae,le]);break;case"OP":case"op":case"OPM":case"BG":case"BG2":case"UCR":case"UCR2":case"TR2":case"HT":case"SM":case"SA":case"AIS":case"TK":(0,t.info)("graphic state operator "+ae);break;default:(0,t.info)("Unknown graphic state operator "+ae)}}return Q.then(function(){Y.length>0&&U.addOp(t.OPS.setGState,[Y]),J&&B.set(q,V,Y)})}loadFont(_,T,U,q=null,E=null){const $=async()=>new C({loadedName:"g_font_error",font:new e.ErrorFont(`Font "${_}" is not available.`),dict:T,evaluatorOptions:this.options}),B=this.xref;let W;if(T){if(!(0,R.isRef)(T))throw new t.FormatError('The "font" object should be a reference.');W=T}else{const te=U.get("Font");te&&(W=te.getRaw(_))}if(!W){const te=`Font "${_||T&&T.toString()}" is not available`;if(!this.options.ignoreErrors&&!this.parsingType3Font)return(0,t.warn)(`${te}.`),$();this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontMissing}),(0,t.warn)(`${te} -- attempting to fallback to a default font.`),W=q||O.fallbackFontDict}if(this.fontCache.has(W))return this.fontCache.get(W);if(T=B.fetchIfRef(W),!(0,R.isDict)(T))return $();if(T.cacheKey&&this.fontCache.has(T.cacheKey))return this.fontCache.get(T.cacheKey);const V=(0,t.createPromiseCapability)();let J;try{J=this.preEvaluateFont(T),J.cssFontInfo=E}catch(te){return(0,t.warn)(`loadFont - preEvaluateFont failed: "${te}".`),$()}const{descriptor:Y,hash:z}=J,Q=(0,R.isRef)(W);let re;if(Q&&(re=`f${W.toString()}`),z&&(0,R.isDict)(Y)){Y.fontAliases||(Y.fontAliases=Object.create(null));const te=Y.fontAliases;if(te[z]){const ae=te[z].aliasRef;if(Q&&ae&&this.fontCache.has(ae))return this.fontCache.putAlias(W,ae),this.fontCache.get(W)}else te[z]={fontID:this.idFactory.createFontId()};Q&&(te[z].aliasRef=W),re=te[z].fontID}return Q?this.fontCache.put(W,V.promise):(re||(re=this.idFactory.createFontId()),T.cacheKey=`cacheKey_${re}`,this.fontCache.put(T.cacheKey,V.promise)),(0,t.assert)(re&&re.startsWith("f"),'The "fontID" must be (correctly) defined.'),T.loadedName=`${this.idFactory.getDocId()}_${re}`,this.translateFont(J).then(te=>{void 0!==te.fontType&&(B.stats.fontTypes[te.fontType]=!0),V.resolve(new C({loadedName:T.loadedName,font:te,dict:T,evaluatorOptions:this.options}))}).catch(te=>{this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontTranslate}),(0,t.warn)(`loadFont - translateFont failed: "${te}".`);try{const ae=Y&&Y.get("FontFile3"),se=ae&&ae.get("Subtype"),le=(0,x.getFontType)(J.type,se&&se.name);B.stats.fontTypes[le]=!0}catch{}V.resolve(new C({loadedName:T.loadedName,font:new e.ErrorFont(te instanceof Error?te.message:te),dict:T,evaluatorOptions:this.options}))}),V.promise}buildPath(_,T,U,q=!1){const E=_.length-1;if(U||(U=[]),E<0||_.fnArray[E]!==t.OPS.constructPath)q&&((0,t.warn)(`Encountered path operator "${T}" inside of a text object.`),_.addOp(t.OPS.save,null)),_.addOp(t.OPS.constructPath,[[T],U]),q&&_.addOp(t.OPS.restore,null);else{const $=_.argsArray[E];$[0].push(T),Array.prototype.push.apply($[1],U)}}parseColorSpace({cs:_,resources:T,localColorSpaceCache:U}){return p.ColorSpace.parseAsync({cs:_,xref:this.xref,resources:T,pdfFunctionFactory:this._pdfFunctionFactory,localColorSpaceCache:U}).catch(q=>{if(q instanceof t.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorColorSpace}),(0,t.warn)(`parseColorSpace - ignoring ColorSpace: "${q}".`),null;throw q})}handleColorN(_,T,U,q,E,$,B,W,V){const J=U.pop();if(J instanceof R.Name){const Y=J.name,z=V.getByName(Y);if(z)try{const re=q.base?q.base.getRgb(U,0):null,te=(0,r.getTilingPatternIR)(z.operatorListIR,z.dict,re);return void _.addOp(T,te)}catch{}let Q=E.get(Y);if(Q){const re=(0,R.isStream)(Q)?Q.dict:Q,te=re.get("PatternType");if(1===te){const ae=q.base?q.base.getRgb(U,0):null;return this.handleTilingType(T,ae,$,Q,re,_,B,Y,V)}if(2===te){const ae=re.get("Shading"),se=re.getArray("Matrix");return Q=r.Pattern.parseShading(ae,se,this.xref,$,this.handler,this._pdfFunctionFactory,W),void _.addOp(T,Q.getIR())}throw new t.FormatError(`Unknown PatternType: ${te}`)}}throw new t.FormatError(`Unknown PatternName: ${J}`)}_parseVisibilityExpression(_,T,U){if(++T>10)return void(0,t.warn)("Visibility expression is too deeply nested");const q=_.length,E=this.xref.fetchIfRef(_[0]);if(q<2||!(0,R.isName)(E))(0,t.warn)("Invalid visibility expression");else{switch(E.name){case"And":case"Or":case"Not":U.push(E.name);break;default:return void(0,t.warn)(`Invalid operator ${E.name} in visibility expression`)}for(let $=1;$<q;$++){const B=_[$],W=this.xref.fetchIfRef(B);if(Array.isArray(W)){const V=[];U.push(V),this._parseVisibilityExpression(W,T,V)}else(0,R.isRef)(B)&&U.push(B.toString())}}}async parseMarkedContentProps(_,T){let U;if((0,R.isName)(_))U=T.get("Properties").get(_.name);else{if(!(0,R.isDict)(_))throw new t.FormatError("Optional content properties malformed.");U=_}const q=U.get("Type").name;if("OCG"===q)return{type:q,id:U.objId};if("OCMD"===q){const E=U.get("VE");if(Array.isArray(E)){const B=[];if(this._parseVisibilityExpression(E,0,B),B.length>0)return{type:"OCMD",expression:B}}const $=U.get("OCGs");if(Array.isArray($)||(0,R.isDict)($)){const B=[];if(Array.isArray($))for(const W of $)B.push(W.toString());else B.push($.objId);return{type:q,ids:B,policy:(0,R.isName)(U.get("P"))?U.get("P").name:null,expression:null}}if((0,R.isRef)($))return{type:q,id:$.toString()}}return null}getOperatorList({stream:_,task:T,resources:U,operatorList:q,initialState:E=null,fallbackFontDict:$=null}){if(U=U||R.Dict.empty,E=E||new H,!q)throw new Error('getOperatorList: missing "operatorList" parameter');const B=this,W=this.xref;let V=!1;const J=new n.LocalImageCache,Y=new n.LocalColorSpaceCache,z=new n.LocalGStateCache,Q=new n.LocalTilingPatternCache,re=U.get("XObject")||R.Dict.empty,te=U.get("Pattern")||R.Dict.empty,ae=new N(E),se=new D(_,W,ae),le=new M;function ue(oe){for(let me=0,de=se.savedStatesDepth;me<de;me++)q.addOp(t.OPS.restore,[])}return new Promise(function oe(me,de){const Ae=function(fe){Promise.all([fe,q.ready]).then(function(){try{oe(me,de)}catch(Pe){de(Pe)}},de)};T.ensureNotTerminated(),le.reset();const Ne={};let Ee,Re,qe,Ue,Se;for(;!(Ee=le.check())&&(Ne.args=null,se.read(Ne));){let fe=Ne.args,Pe=Ne.fn;switch(0|Pe){case t.OPS.paintXObject:if(Se=fe[0].name,Se){const ke=J.getByName(Se);if(ke){q.addOp(ke.fn,ke.args),fe=null;continue}}return void Ae(new Promise(function(ke,He){if(!Se)throw new t.FormatError("XObject must be referred to by name.");let Xe=re.getRaw(Se);if(Xe instanceof R.Ref){const ge=J.getByRef(Xe);if(ge)return q.addOp(ge.fn,ge.args),void ke();const we=B.globalImageCache.getData(Xe,B.pageIndex);if(we)return q.addDependency(we.objId),q.addOp(we.fn,we.args),void ke();Xe=W.fetch(Xe)}if(!(0,R.isStream)(Xe))throw new t.FormatError("XObject should be a stream");const ce=Xe.dict.get("Subtype");if(!(0,R.isName)(ce))throw new t.FormatError("XObject should have a Name subtype");if("Form"!==ce.name)if("Image"!==ce.name){if("PS"!==ce.name)throw new t.FormatError(`Unhandled XObject subtype ${ce.name}`);(0,t.info)("Ignored XObject subtype PS"),ke()}else B.buildPaintImageXObject({resources:U,image:Xe,operatorList:q,cacheKey:Se,localImageCache:J,localColorSpaceCache:Y}).then(ke,He);else ae.save(),B.buildFormXObject(U,Xe,null,q,T,ae.state.clone(),Y).then(function(){ae.restore(),ke()},He)}).catch(function(ke){if(!(ke instanceof t.AbortException)){if(!B.options.ignoreErrors)throw ke;B.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorXObject}),(0,t.warn)(`getOperatorList - ignoring XObject: "${ke}".`)}}));case t.OPS.setFont:var Ce=fe[1];return void Ae(B.handleSetFont(U,fe,null,q,T,ae.state,$).then(function(ke){q.addDependency(ke),q.addOp(t.OPS.setFont,[ke,Ce])}));case t.OPS.beginText:V=!0;break;case t.OPS.endText:V=!1;break;case t.OPS.endInlineImage:var Oe=fe[0].cacheKey;if(Oe){const ke=J.getByName(Oe);if(ke){q.addOp(ke.fn,ke.args),fe=null;continue}}return void Ae(B.buildPaintImageXObject({resources:U,image:fe[0],isInline:!0,operatorList:q,cacheKey:Oe,localImageCache:J,localColorSpaceCache:Y}));case t.OPS.showText:if(!ae.state.font){B.ensureStateFont(ae.state);continue}fe[0]=B.handleText(fe[0],ae.state);break;case t.OPS.showSpacedText:if(!ae.state.font){B.ensureStateFont(ae.state);continue}var pe=fe[0],ve=[],Ie=pe.length,Te=ae.state;for(Re=0;Re<Ie;++Re){const ke=pe[Re];(0,t.isString)(ke)?Array.prototype.push.apply(ve,B.handleText(ke,Te)):(0,t.isNum)(ke)&&ve.push(ke)}fe[0]=ve,Pe=t.OPS.showText;break;case t.OPS.nextLineShowText:if(!ae.state.font){B.ensureStateFont(ae.state);continue}q.addOp(t.OPS.nextLine),fe[0]=B.handleText(fe[0],ae.state),Pe=t.OPS.showText;break;case t.OPS.nextLineSetSpacingShowText:if(!ae.state.font){B.ensureStateFont(ae.state);continue}q.addOp(t.OPS.nextLine),q.addOp(t.OPS.setWordSpacing,[fe.shift()]),q.addOp(t.OPS.setCharSpacing,[fe.shift()]),fe[0]=B.handleText(fe[0],ae.state),Pe=t.OPS.showText;break;case t.OPS.setTextRenderingMode:ae.state.textRenderingMode=fe[0];break;case t.OPS.setFillColorSpace:{const ke=p.ColorSpace.getCached(fe[0],W,Y);if(ke){ae.state.fillColorSpace=ke;continue}return void Ae(B.parseColorSpace({cs:fe[0],resources:U,localColorSpaceCache:Y}).then(function(He){He&&(ae.state.fillColorSpace=He)}))}case t.OPS.setStrokeColorSpace:{const ke=p.ColorSpace.getCached(fe[0],W,Y);if(ke){ae.state.strokeColorSpace=ke;continue}return void Ae(B.parseColorSpace({cs:fe[0],resources:U,localColorSpaceCache:Y}).then(function(He){He&&(ae.state.strokeColorSpace=He)}))}case t.OPS.setFillColor:Ue=ae.state.fillColorSpace,fe=Ue.getRgb(fe,0),Pe=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeColor:Ue=ae.state.strokeColorSpace,fe=Ue.getRgb(fe,0),Pe=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillGray:ae.state.fillColorSpace=p.ColorSpace.singletons.gray,fe=p.ColorSpace.singletons.gray.getRgb(fe,0),Pe=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeGray:ae.state.strokeColorSpace=p.ColorSpace.singletons.gray,fe=p.ColorSpace.singletons.gray.getRgb(fe,0),Pe=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillCMYKColor:ae.state.fillColorSpace=p.ColorSpace.singletons.cmyk,fe=p.ColorSpace.singletons.cmyk.getRgb(fe,0),Pe=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeCMYKColor:ae.state.strokeColorSpace=p.ColorSpace.singletons.cmyk,fe=p.ColorSpace.singletons.cmyk.getRgb(fe,0),Pe=t.OPS.setStrokeRGBColor;break;case t.OPS.setFillRGBColor:ae.state.fillColorSpace=p.ColorSpace.singletons.rgb,fe=p.ColorSpace.singletons.rgb.getRgb(fe,0);break;case t.OPS.setStrokeRGBColor:ae.state.strokeColorSpace=p.ColorSpace.singletons.rgb,fe=p.ColorSpace.singletons.rgb.getRgb(fe,0);break;case t.OPS.setFillColorN:if(Ue=ae.state.fillColorSpace,"Pattern"===Ue.name)return void Ae(B.handleColorN(q,t.OPS.setFillColorN,fe,Ue,te,U,T,Y,Q));fe=Ue.getRgb(fe,0),Pe=t.OPS.setFillRGBColor;break;case t.OPS.setStrokeColorN:if(Ue=ae.state.strokeColorSpace,"Pattern"===Ue.name)return void Ae(B.handleColorN(q,t.OPS.setStrokeColorN,fe,Ue,te,U,T,Y,Q));fe=Ue.getRgb(fe,0),Pe=t.OPS.setStrokeRGBColor;break;case t.OPS.shadingFill:var be=U.get("Shading");if(!be)throw new t.FormatError("No shading resource found");var ye=be.get(fe[0].name);if(!ye)throw new t.FormatError("No shading object found");fe=[r.Pattern.parseShading(ye,null,W,U,B.handler,B._pdfFunctionFactory,Y).getIR()],Pe=t.OPS.shadingFill;break;case t.OPS.setGState:if(Se=fe[0].name,Se){const ke=z.getByName(Se);if(ke){ke.length>0&&q.addOp(t.OPS.setGState,[ke]),fe=null;continue}}return void Ae(new Promise(function(ke,He){if(!Se)throw new t.FormatError("GState must be referred to by name.");const Xe=U.get("ExtGState");if(!(Xe instanceof R.Dict))throw new t.FormatError("ExtGState should be a dictionary.");const ce=Xe.get(Se);if(!(ce instanceof R.Dict))throw new t.FormatError("GState should be a dictionary.");B.setGState({resources:U,gState:ce,operatorList:q,cacheKey:Se,task:T,stateManager:ae,localGStateCache:z,localColorSpaceCache:Y}).then(ke,He)}).catch(function(ke){if(!(ke instanceof t.AbortException)){if(!B.options.ignoreErrors)throw ke;B.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorExtGState}),(0,t.warn)(`getOperatorList - ignoring ExtGState: "${ke}".`)}}));case t.OPS.moveTo:case t.OPS.lineTo:case t.OPS.curveTo:case t.OPS.curveTo2:case t.OPS.curveTo3:case t.OPS.closePath:case t.OPS.rectangle:B.buildPath(q,Pe,fe,V);continue;case t.OPS.markPoint:case t.OPS.markPointProps:case t.OPS.beginCompat:case t.OPS.endCompat:continue;case t.OPS.beginMarkedContentProps:if(!(0,R.isName)(fe[0])){(0,t.warn)(`Expected name for beginMarkedContentProps arg0=${fe[0]}`);continue}if("OC"===fe[0].name)return void Ae(B.parseMarkedContentProps(fe[1],U).then(ke=>{q.addOp(t.OPS.beginMarkedContentProps,["OC",ke])}).catch(ke=>{if(!(ke instanceof t.AbortException)){if(!B.options.ignoreErrors)throw ke;B.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorMarkedContent}),(0,t.warn)(`getOperatorList - ignoring beginMarkedContentProps: "${ke}".`)}}));fe=[fe[0].name,fe[1]instanceof R.Dict?fe[1].get("MCID"):null];break;default:if(null!==fe){for(Re=0,qe=fe.length;Re<qe&&!(fe[Re]instanceof R.Dict);Re++);if(Re<qe){(0,t.warn)("getOperatorList - ignoring operator: "+Pe);continue}}}q.addOp(Pe,fe)}Ee?Ae(k):(ue(),me())}).catch(oe=>{if(!(oe instanceof t.AbortException)){if(!this.options.ignoreErrors)throw oe;this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorOperatorList}),(0,t.warn)(`getOperatorList - ignoring errors during "${T.name}" task: "${oe}".`),ue()}})}getTextContent({stream:_,task:T,resources:U,stateManager:q=null,normalizeWhitespace:E=!1,combineTextItems:$=!1,includeMarkedContent:B=!1,sink:W,seenStyles:V=new Set}){U=U||R.Dict.empty,q=q||new N(new X);const J=/\s/g,Y={items:[],styles:Object.create(null)},z={initialized:!1,str:[],totalWidth:0,totalHeight:0,width:0,height:0,vertical:!1,lastCharSize:0,prevTransform:null,textAdvanceScale:0,spaceWidth:0,spaceInFlowMin:0,spaceInFlowMax:0,trackingSpaceMin:1/0,transform:null,fontName:null,hasEOL:!1,isLastCharWhiteSpace:!1},Q=this,re=this.xref,te=[];let ae=null;const se=new n.LocalImageCache,le=new n.LocalGStateCache,ue=new D(_,re,q);let oe;function me(){const pe=oe.font,ve=[oe.fontSize*oe.textHScale,0,0,oe.fontSize,0,oe.textRise];if(pe.isType3Font&&oe.fontSize<=1&&!(0,t.isArrayEqual)(oe.fontMatrix,t.FONT_IDENTITY_MATRIX)){const Ie=pe.bbox[3]-pe.bbox[1];Ie>0&&(ve[3]*=Ie*oe.fontMatrix[3])}return t.Util.transform(oe.ctm,t.Util.transform(oe.textMatrix,ve))}function de(){if(z.initialized)return z;const pe=oe.font,ve=pe.loadedName;V.has(ve)||(V.add(ve),Y.styles[ve]={fontFamily:pe.fallbackName,ascent:pe.ascent,descent:pe.descent,vertical:pe.vertical}),z.fontName=ve;const Ie=z.transform=me();pe.vertical?(z.width=z.totalWidth=Math.hypot(Ie[0],Ie[1]),z.height=z.totalHeight=0,z.vertical=!0):(z.width=z.totalWidth=0,z.height=z.totalHeight=Math.hypot(Ie[2],Ie[3]),z.vertical=!1);const Te=Math.hypot(oe.textLineMatrix[0],oe.textLineMatrix[1]),be=Math.hypot(oe.ctm[0],oe.ctm[1]);z.textAdvanceScale=be*Te,z.lastCharSize=z.lastCharSize||0;const ye=pe.spaceWidth/1e3*oe.fontSize;return ye?(z.spaceWidth=ye,z.trackingSpaceMin=.3*ye,z.spaceInFlowMin=.3*ye,z.spaceInFlowMax=1.3*ye):(z.spaceWidth=0,z.trackingSpaceMin=1/0),z.hasEOL=!1,z.initialized=!0,z}function Ae(){if(!z.initialized)return;const pe=Math.hypot(oe.textLineMatrix[0],oe.textLineMatrix[1]),ve=Math.hypot(oe.ctm[0],oe.ctm[1])*pe;ve!==z.textAdvanceScale&&(z.vertical?(z.totalHeight+=z.height*z.textAdvanceScale,z.height=0):(z.totalWidth+=z.width*z.textAdvanceScale,z.width=0),z.textAdvanceScale=ve)}function Ee(pe,ve){return Q.loadFont(pe,ve,U).then(function(Ie){oe.font=Ie.font,oe.fontMatrix=Ie.font.fontMatrix||t.FONT_IDENTITY_MATRIX})}function Re({chars:pe,extraSpacing:ve,isFirstChunk:Ie}){const Te=oe.font;if(!pe){const Xe=oe.charSpacing+ve;return void(Xe&&(Te.vertical?oe.translateTextMatrix(0,Xe):oe.translateTextMatrix(Xe*oe.textHScale,0)))}const be=(0,P.getNormalizedUnicodes)(),ye=Te.charsToGlyphs(pe),fe=oe.fontMatrix[0]*oe.fontSize;Ie&&function(ce){if(!$||!oe.font||!z.prevTransform)return;const ge=me(),we=ge[4],_e=ge[5],Me=z.prevTransform[4],ze=z.prevTransform[5];if(Me===we&&ze===_e)return;const je=(we-Me)/z.textAdvanceScale,Be=(_e-ze)/z.textAdvanceScale,Ze=-.5*z.lastCharSize;if(oe.font.vertical){if(Math.abs(je)>z.width/z.textAdvanceScale)return void qe();if(Ze>Be)return;Be>z.trackingSpaceMin?z.height+=Be:Ue(Be,0,z.prevTransform)||(0===z.str.length?(Y.items.push({str:" ",dir:"ltr",width:0,height:Be,transform:z.prevTransform,fontName:z.fontName,hasEOL:!1}),z.isLastCharWhiteSpace=!0):z.height+=Be)}else Math.abs(Be)>z.height/z.textAdvanceScale?qe():Ze>je||(je<=z.trackingSpaceMin?z.width+=je:Ue(je,0,z.prevTransform)||(0===z.str.length?(Y.items.push({str:" ",dir:"ltr",width:je,height:0,transform:z.prevTransform,fontName:z.fontName,hasEOL:!1}),z.isLastCharWhiteSpace=!0):z.width+=je))}();let Pe=de(),ke=0,He=0;for(let Xe=0,ce=ye.length;Xe<ce;Xe++){const ge=ye[Xe];let we=oe.charSpacing+(Xe===ce-1?ve:0),_e=ge.unicode;ge.isSpace?(we+=oe.wordSpacing,Pe.isLastCharWhiteSpace=!0):(_e=be[_e]||_e,_e=(0,P.reverseIfRtl)(_e),Pe.isLastCharWhiteSpace=!1),Pe.str.push(_e);let Me=(Te.vertical&&ge.vmetric?ge.vmetric[0]:ge.width)*fe;if(Te.vertical?(oe.translateTextMatrix(0,Me),Me=Math.abs(Me)):(Me*=oe.textHScale,oe.translateTextMatrix(Me,0)),ke+=Me,we){Te.vertical||(we*=oe.textHScale),Me+=we;const ze=we>z.trackingSpaceMin&&Ue(we,ke);Te.vertical?oe.translateTextMatrix(0,we):oe.translateTextMatrix(we,0),ze?(Pe=de(),ke=0):ke+=we}He=Me}Pe.lastCharSize=He,Te.vertical?Pe.height+=ke:Pe.width+=ke,Pe.prevTransform=me()}function qe(){z.initialized?(z.hasEOL=!0,Se()):Y.items.length>0?Y.items[Y.items.length-1].hasEOL=!0:Y.items.push({str:"",dir:"ltr",width:0,height:0,transform:me(),fontName:oe.font.loadedName,hasEOL:!0}),z.isLastCharWhiteSpace=!1,z.lastCharSize=0}function Ue(pe,ve,Ie=null){if(z.spaceInFlowMin<=pe&&pe<=z.spaceInFlowMax)return z.initialized&&(z.str.push(" "),z.isLastCharWhiteSpace=!0),!1;const Te=z.fontName;let be=0;return pe*=z.textAdvanceScale,z.vertical?(z.height+=ve,be=pe,pe=0):z.width+=ve,Se(),z.isLastCharWhiteSpace||(z.isLastCharWhiteSpace=!0,Y.items.push({str:" ",dir:"ltr",width:pe,height:be,transform:Ie||me(),fontName:Te,hasEOL:!1})),!0}function Se(){z.initialized&&z.str&&(z.vertical?z.totalHeight+=z.height*z.textAdvanceScale:z.totalWidth+=z.width*z.textAdvanceScale,Y.items.push(function Ne(pe){const ve=pe.str.join(""),Ie=(0,a.bidi)(ve,-1,pe.vertical);return{str:E?function(be){const ye=be.length;let fe,Pe=0;for(;Pe<ye&&(fe=be.charCodeAt(Pe))>=32&&fe<=127;)Pe++;return Pe<ye?be.replace(J," "):be}(Ie.str):Ie.str,dir:Ie.dir,width:pe.totalWidth,height:pe.totalHeight,transform:pe.transform,fontName:pe.fontName,hasEOL:pe.hasEOL}}(z)),z.initialized=!1,z.str.length=0)}function Ce(){const pe=Y.items.length;pe>0&&(W.enqueue(Y,pe),Y.items=[],Y.styles=Object.create(null))}const Oe=new M;return new Promise(function pe(ve,Ie){const Te=function(Xe){Ce(),Promise.all([Xe,W.ready]).then(function(){try{pe(ve,Ie)}catch(ce){Ie(ce)}},Ie)};T.ensureNotTerminated(),Oe.reset();const be={};let ye,fe=[];for(;!(ye=Oe.check())&&(fe.length=0,be.args=fe,ue.read(be));){switch(oe=q.state,fe=be.args,0|be.fn){case t.OPS.setFont:var Pe=fe[0].name,ke=fe[1];if(oe.font&&Pe===oe.fontName&&ke===oe.fontSize)break;return Se(),oe.fontName=Pe,oe.fontSize=ke,void Te(Ee(Pe,null));case t.OPS.setTextRise:Se(),oe.textRise=fe[0];break;case t.OPS.setHScale:Se(),oe.textHScale=fe[0]/100;break;case t.OPS.setLeading:Se(),oe.leading=fe[0];break;case t.OPS.moveText:oe.translateTextLineMatrix(fe[0],fe[1]),oe.textMatrix=oe.textLineMatrix.slice();break;case t.OPS.setLeadingMoveText:Se(),oe.leading=-fe[1],oe.translateTextLineMatrix(fe[0],fe[1]),oe.textMatrix=oe.textLineMatrix.slice();break;case t.OPS.nextLine:qe(),oe.carriageReturn();break;case t.OPS.setTextMatrix:oe.setTextMatrix(fe[0],fe[1],fe[2],fe[3],fe[4],fe[5]),oe.setTextLineMatrix(fe[0],fe[1],fe[2],fe[3],fe[4],fe[5]),Ae();break;case t.OPS.setCharSpacing:oe.charSpacing=fe[0];break;case t.OPS.setWordSpacing:oe.wordSpacing=fe[0];break;case t.OPS.beginText:Se(),oe.textMatrix=t.IDENTITY_MATRIX.slice(),oe.textLineMatrix=t.IDENTITY_MATRIX.slice();break;case t.OPS.showSpacedText:if(!q.state.font){Q.ensureStateFont(q.state);continue}const ce=(oe.font.vertical?1:-1)*oe.fontSize/1e3,ge=fe[0];let we=!0;for(let Me=0,ze=ge.length;Me<ze-1;Me++){const je=ge[Me];if("string"==typeof je)te.push(je);else if("number"==typeof je&&0!==je){const Be=te.join("");te.length=0,Re({chars:Be,extraSpacing:je*ce,isFirstChunk:we}),Be&&we&&(we=!1)}}const _e=ge[ge.length-1];if("string"==typeof _e&&te.push(_e),te.length>0){const Me=te.join("");te.length=0,Re({chars:Me,extraSpacing:0,isFirstChunk:we})}break;case t.OPS.showText:if(!q.state.font){Q.ensureStateFont(q.state);continue}Re({chars:fe[0],extraSpacing:0,isFirstChunk:!0});break;case t.OPS.nextLineShowText:if(!q.state.font){Q.ensureStateFont(q.state);continue}z.hasEOL=!0,Se(),oe.carriageReturn(),Re({chars:fe[0],extraSpacing:0,isFirstChunk:!0});break;case t.OPS.nextLineSetSpacingShowText:if(!q.state.font){Q.ensureStateFont(q.state);continue}z.hasEOL=!0,Se(),oe.wordSpacing=fe[0],oe.charSpacing=fe[1],oe.carriageReturn(),Re({chars:fe[2],extraSpacing:0,isFirstChunk:!0});break;case t.OPS.paintXObject:Se(),ae||(ae=U.get("XObject")||R.Dict.empty);var He=fe[0].name;if(He&&se.getByName(He))break;return void Te(new Promise(function(Me,ze){if(!He)throw new t.FormatError("XObject must be referred to by name.");let je=ae.getRaw(He);if(je instanceof R.Ref){if(se.getByRef(je))return void Me();if(Q.globalImageCache.getData(je,Q.pageIndex))return void Me();je=re.fetch(je)}if(!(0,R.isStream)(je))throw new t.FormatError("XObject should be a stream");const Be=je.dict.get("Subtype");if(!(0,R.isName)(Be))throw new t.FormatError("XObject should have a Name subtype");if("Form"!==Be.name)return se.set(He,je.dict.objId,!0),void Me();const Ze=q.state.clone(),Ve=new N(Ze),Je=je.dict.getArray("Matrix");Array.isArray(Je)&&6===Je.length&&Ve.transform(Je),Ce();const Qe={enqueueInvoked:!1,enqueue(nt,st){this.enqueueInvoked=!0,W.enqueue(nt,st)},get desiredSize(){return W.desiredSize},get ready(){return W.ready}};Q.getTextContent({stream:je,task:T,resources:je.dict.get("Resources")||U,stateManager:Ve,normalizeWhitespace:E,combineTextItems:$,includeMarkedContent:B,sink:Qe,seenStyles:V}).then(function(){Qe.enqueueInvoked||se.set(He,je.dict.objId,!0),Me()},ze)}).catch(function(Me){if(!(Me instanceof t.AbortException)){if(!Q.options.ignoreErrors)throw Me;(0,t.warn)(`getTextContent - ignoring XObject: "${Me}".`)}}));case t.OPS.setGState:if((He=fe[0].name)&&le.getByName(He))break;return void Te(new Promise(function(Me,ze){if(!He)throw new t.FormatError("GState must be referred to by name.");const je=U.get("ExtGState");if(!(je instanceof R.Dict))throw new t.FormatError("ExtGState should be a dictionary.");const Be=je.get(He);if(!(Be instanceof R.Dict))throw new t.FormatError("GState should be a dictionary.");const Ze=Be.get("Font");Ze?(Se(),oe.fontName=null,oe.fontSize=Ze[1],Ee(null,Ze[0]).then(Me,ze)):(le.set(He,Be.objId,!0),Me())}).catch(function(Me){if(!(Me instanceof t.AbortException)){if(!Q.options.ignoreErrors)throw Me;(0,t.warn)(`getTextContent - ignoring ExtGState: "${Me}".`)}}));case t.OPS.beginMarkedContent:B&&Y.items.push({type:"beginMarkedContent",tag:(0,R.isName)(fe[0])?fe[0].name:null});break;case t.OPS.beginMarkedContentProps:if(B){Se();let Me=null;(0,R.isDict)(fe[1])&&(Me=fe[1].get("MCID")),Y.items.push({type:"beginMarkedContentProps",id:Number.isInteger(Me)?`${Q.idFactory.getPageObjId()}_mcid${Me}`:null,tag:(0,R.isName)(fe[0])?fe[0].name:null})}break;case t.OPS.endMarkedContent:B&&(Se(),Y.items.push({type:"endMarkedContent"}))}if(Y.items.length>=W.desiredSize){ye=!0;break}}ye?Te(k):(Se(),Ce(),ve())}).catch(pe=>{if(!(pe instanceof t.AbortException)){if(!this.options.ignoreErrors)throw pe;(0,t.warn)(`getTextContent - ignoring errors during "${T.name}" task: "${pe}".`),Se(),Ce()}})}extractDataStructures(_,T,U){const q=this.xref;let E;const $=this.readToUnicode(U.toUnicode||_.get("ToUnicode")||T.get("ToUnicode"));if(U.composite){const J=_.get("CIDSystemInfo");(0,R.isDict)(J)&&(U.cidSystemInfo={registry:(0,t.stringToPDFString)(J.get("Registry")),ordering:(0,t.stringToPDFString)(J.get("Ordering")),supplement:J.get("Supplement")});const Y=_.get("CIDToGIDMap");(0,R.isStream)(Y)&&(E=Y.getBytes())}const B=[];let W,V=null;if(_.has("Encoding")){if(W=_.get("Encoding"),(0,R.isDict)(W)){if(V=W.get("BaseEncoding"),V=(0,R.isName)(V)?V.name:null,W.has("Differences")){const J=W.get("Differences");let Y=0;for(let z=0,Q=J.length;z<Q;z++){const re=q.fetchIfRef(J[z]);if((0,t.isNum)(re))Y=re;else{if(!(0,R.isName)(re))throw new t.FormatError(`Invalid entry in 'Differences' array: ${re}`);B[Y++]=re.name}}}}else{if(!(0,R.isName)(W))throw new t.FormatError("Encoding is not a Name nor a Dict");V=W.name}"MacRomanEncoding"!==V&&"MacExpertEncoding"!==V&&"WinAnsiEncoding"!==V&&(V=null)}return V?U.defaultEncoding=(0,L.getEncoding)(V):(W=L.StandardEncoding,"TrueType"!==U.type||!!(U.flags&x.FontFlags.Nonsymbolic)||(W=L.WinAnsiEncoding),!!(U.flags&x.FontFlags.Symbolic)&&(W=L.MacRomanEncoding,U.file||(/Symbol/i.test(U.name)?W=L.SymbolSetEncoding:/Dingbats|Wingdings/i.test(U.name)&&(W=L.ZapfDingbatsEncoding))),U.defaultEncoding=W),U.differences=B,U.baseEncodingName=V,U.hasEncoding=!!V||B.length>0,U.dict=_,$.then(J=>(U.toUnicode=J,this.buildToUnicode(U))).then(J=>(U.toUnicode=J,E&&(U.cidToGidMap=this.readCidToGidMap(E,J)),U))}_buildSimpleFontToUnicode(_,T=!1){(0,t.assert)(!_.composite,"Must be a simple font.");const U=[],q=_.defaultEncoding.slice(),E=_.baseEncodingName,$=_.differences;for(const W in $){const V=$[W];".notdef"!==V&&(q[W]=V)}const B=(0,m.getGlyphsUnicode)();for(const W in q){let V=q[W];if(""!==V)if(void 0!==B[V])U[W]=String.fromCharCode(B[V]);else{let J=0;switch(V[0]){case"G":3===V.length&&(J=parseInt(V.substring(1),16));break;case"g":5===V.length&&(J=parseInt(V.substring(1),16));break;case"C":case"c":if(V.length>=3&&V.length<=4){const z=V.substring(1);if(T){J=parseInt(z,16);break}if(J=+z,Number.isNaN(J)&&Number.isInteger(parseInt(z,16)))return this._buildSimpleFontToUnicode(_,!0)}break;default:const Y=(0,P.getUnicodeForGlyph)(V,B);-1!==Y&&(J=Y)}if(J>0&&J<=1114111&&Number.isInteger(J)){if(E&&J===+W){const Y=(0,L.getEncoding)(E);if(Y&&(V=Y[W])){U[W]=String.fromCharCode(B[V]);continue}}U[W]=String.fromCodePoint(J)}}}return new w.ToUnicodeMap(U)}buildToUnicode(_){if(_.hasIncludedToUnicodeMap=!!_.toUnicode&&_.toUnicode.length>0,_.hasIncludedToUnicodeMap)return!_.composite&&_.hasEncoding&&(_.fallbackToUnicode=this._buildSimpleFontToUnicode(_)),Promise.resolve(_.toUnicode);if(!_.composite)return Promise.resolve(this._buildSimpleFontToUnicode(_));if(_.composite&&(_.cMap.builtInCMap&&!(_.cMap instanceof F.IdentityCMap)||"Adobe"===_.cidSystemInfo.registry&&("GB1"===_.cidSystemInfo.ordering||"CNS1"===_.cidSystemInfo.ordering||"Japan1"===_.cidSystemInfo.ordering||"Korea1"===_.cidSystemInfo.ordering))){const q=R.Name.get(_.cidSystemInfo.registry+"-"+_.cidSystemInfo.ordering+"-UCS2");return F.CMapFactory.create({encoding:q,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(E){const B=[];return _.cMap.forEach(function(W,V){if(V>65535)throw new t.FormatError("Max size of CID is 65,535");const J=E.lookup(V);J&&(B[W]=String.fromCharCode((J.charCodeAt(0)<<8)+J.charCodeAt(1)))}),new w.ToUnicodeMap(B)})}return Promise.resolve(new w.IdentityToUnicodeMap(_.firstChar,_.lastChar))}readToUnicode(_){return _?(0,R.isName)(_)?F.CMapFactory.create({encoding:_,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(T){return T instanceof F.IdentityCMap?new w.IdentityToUnicodeMap(0,65535):new w.ToUnicodeMap(T.getMap())}):(0,R.isStream)(_)?F.CMapFactory.create({encoding:_,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null}).then(function(T){if(T instanceof F.IdentityCMap)return new w.IdentityToUnicodeMap(0,65535);const U=new Array(T.length);return T.forEach(function(q,E){const $=[];for(let B=0;B<E.length;B+=2){const W=E.charCodeAt(B)<<8|E.charCodeAt(B+1);if(55296!=(63488&W)){$.push(W);continue}B+=2;const V=E.charCodeAt(B)<<8|E.charCodeAt(B+1);$.push(((1023&W)<<10)+(1023&V)+65536)}U[q]=String.fromCodePoint.apply(String,$)}),new w.ToUnicodeMap(U)},T=>{if(T instanceof t.AbortException)return null;if(this.options.ignoreErrors)return this.handler.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontToUnicode}),(0,t.warn)(`readToUnicode - ignoring ToUnicode data: "${T}".`),null;throw T}):Promise.resolve(null):Promise.resolve(null)}readCidToGidMap(_,T){const U=[];for(let q=0,E=_.length;q<E;q++){const $=_[q++]<<8|_[q],B=q>>1;(0!==$||T.has(B))&&(U[B]=$)}return U}extractWidths(_,T,U){const q=this.xref;let E=[],$=0;const B=[];let W,V,J,Y,z,Q,re,te;if(U.composite){if($=_.has("DW")?_.get("DW"):1e3,te=_.get("W"),te)for(V=0,J=te.length;V<J;V++)if(Q=q.fetchIfRef(te[V++]),re=q.fetchIfRef(te[V]),Array.isArray(re))for(Y=0,z=re.length;Y<z;Y++)E[Q++]=q.fetchIfRef(re[Y]);else{const le=q.fetchIfRef(te[++V]);for(Y=Q;Y<=re;Y++)E[Y]=le}if(U.vertical){let le=_.getArray("DW2")||[880,-1e3];if(W=[le[1],.5*$,le[0]],le=_.get("W2"),le)for(V=0,J=le.length;V<J;V++)if(Q=q.fetchIfRef(le[V++]),re=q.fetchIfRef(le[V]),Array.isArray(re))for(Y=0,z=re.length;Y<z;Y++)B[Q++]=[q.fetchIfRef(re[Y++]),q.fetchIfRef(re[Y++]),q.fetchIfRef(re[Y])];else{const ue=[q.fetchIfRef(le[++V]),q.fetchIfRef(le[++V]),q.fetchIfRef(le[++V])];for(Y=Q;Y<=re;Y++)B[Y]=ue}}}else{const le=U.firstChar;if(te=_.get("Widths"),te){for(Y=le,V=0,J=te.length;V<J;V++)E[Y++]=q.fetchIfRef(te[V]);$=parseFloat(T.get("MissingWidth"))||0}else{const ue=_.get("BaseFont");if((0,R.isName)(ue)){const oe=this.getBaseFontMetrics(ue.name);E=this.buildCharCodeToWidth(oe.widths,U),$=oe.defaultWidth}}}let ae=!0,se=$;for(const le in E){const ue=E[le];if(ue)if(se){if(se!==ue){ae=!1;break}}else se=ue}ae&&(U.flags|=x.FontFlags.FixedPitch),U.defaultWidth=$,U.widths=E,U.defaultVMetrics=W,U.vmetrics=B}isSerifFont(_){const T=_.split("-")[0];return T in(0,b.getSerifFonts)()||-1!==T.search(/serif/gi)}getBaseFontMetrics(_){let T=0,U=Object.create(null),q=!1,E=(0,b.getStdFontMap)()[_]||_;const $=(0,f.getMetrics)();E in $||(E=this.isSerifFont(_)?"Times-Roman":"Helvetica");const B=$[E];return(0,t.isNum)(B)?(T=B,q=!0):U=B(),{defaultWidth:T,monospace:q,widths:U}}buildCharCodeToWidth(_,T){const U=Object.create(null),q=T.differences,E=T.defaultEncoding;for(let $=0;$<256;$++)$ in q&&_[q[$]]?U[$]=_[q[$]]:$ in E&&_[E[$]]&&(U[$]=_[E[$]]);return U}preEvaluateFont(_){const T=_;let U=_.get("Subtype");if(!(0,R.isName)(U))throw new t.FormatError("invalid font Subtype");let q,E,$=!1;if("Type0"===U.name){const J=_.get("DescendantFonts");if(!J)throw new t.FormatError("Descendant fonts are not specified");if(!((_=Array.isArray(J)?this.xref.fetchIfRef(J[0]):J)instanceof R.Dict))throw new t.FormatError("Descendant font is not a dictionary.");if(U=_.get("Subtype"),!(0,R.isName)(U))throw new t.FormatError("invalid font Subtype");$=!0}const B=_.get("FirstChar")||0,W=_.get("LastChar")||($?65535:255),V=_.get("FontDescriptor");if(V){q=new y.MurmurHash3_64;const J=T.getRaw("Encoding");if((0,R.isName)(J))q.update(J.name);else if((0,R.isRef)(J))q.update(J.toString());else if((0,R.isDict)(J))for(const z of J.getRawValues())if((0,R.isName)(z))q.update(z.name);else if((0,R.isRef)(z))q.update(z.toString());else if(Array.isArray(z)){const Q=z.length,re=new Array(Q);for(let te=0;te<Q;te++){const ae=z[te];(0,R.isName)(ae)?re[te]=ae.name:((0,t.isNum)(ae)||(0,R.isRef)(ae))&&(re[te]=ae.toString())}q.update(re.join())}if(q.update(`${B}-${W}`),E=_.get("ToUnicode")||T.get("ToUnicode"),(0,R.isStream)(E)){const z=E.str||E,Q=z.buffer?new Uint8Array(z.buffer.buffer,0,z.bufferLength):new Uint8Array(z.bytes.buffer,z.start,z.end-z.start);q.update(Q)}else(0,R.isName)(E)&&q.update(E.name);const Y=_.get("Widths")||T.get("Widths");if(Array.isArray(Y)){const z=[];for(const Q of Y)((0,t.isNum)(Q)||(0,R.isRef)(Q))&&z.push(Q.toString());q.update(z.join())}if($){q.update("compositeFont");const z=_.get("W")||T.get("W");if(Array.isArray(z)){const Q=[];for(const re of z)if((0,t.isNum)(re)||(0,R.isRef)(re))Q.push(re.toString());else if(Array.isArray(re)){const te=[];for(const ae of re)((0,t.isNum)(ae)||(0,R.isRef)(ae))&&te.push(ae.toString());Q.push(`[${te.join()}]`)}q.update(Q.join())}}}return{descriptor:V,dict:_,baseDict:T,composite:$,type:U.name,firstChar:B,lastChar:W,toUnicode:E,hash:q?q.hexdigest():""}}async translateFont({descriptor:_,dict:T,baseDict:U,composite:q,type:E,firstChar:$,lastChar:B,toUnicode:W,cssFontInfo:V}){const J="Type3"===E;let Y;if(!_){if(!J){let ue=T.get("BaseFont");if(!(0,R.isName)(ue))throw new t.FormatError("Base font is not specified");ue=ue.name.replace(/[,_]/g,"-");const oe=this.getBaseFontMetrics(ue),me=ue.split("-")[0],de=(this.isSerifFont(me)?x.FontFlags.Serif:0)|(oe.monospace?x.FontFlags.FixedPitch:0)|((0,b.getSymbolsFonts)()[me]?x.FontFlags.Symbolic:x.FontFlags.Nonsymbolic);Y={type:E,name:ue,widths:oe.widths,defaultWidth:oe.defaultWidth,flags:de,firstChar:$,lastChar:B,toUnicode:W,isType3Font:J};const Ae=T.get("Widths");return this.extractDataStructures(T,T,Y).then(Ne=>{if(Ae){const Ee=[];let Re=$;for(let qe=0,Ue=Ae.length;qe<Ue;qe++)Ee[Re++]=this.xref.fetchIfRef(Ae[qe]);Ne.widths=Ee}else Ne.widths=this.buildCharCodeToWidth(oe.widths,Ne);return new e.Font(ue,null,Ne)})}(_=new R.Dict(null)).set("FontName",R.Name.get(E)),_.set("FontBBox",T.getArray("FontBBox")||[0,0,0,0])}let z,Q,re,te,ae,se=_.get("FontName"),le=T.get("BaseFont");if((0,t.isString)(se)&&(se=R.Name.get(se)),(0,t.isString)(le)&&(le=R.Name.get(le)),!J){const ue=se&&se.name,oe=le&&le.name;ue!==oe&&((0,t.info)(`The FontDescriptor's FontName is "${ue}" but should be the same as the Font's BaseFont "${oe}".`),ue&&oe&&oe.startsWith(ue)&&(se=le))}if(se=se||le,!(0,R.isName)(se))throw new t.FormatError("invalid font name");try{z=_.get("FontFile","FontFile2","FontFile3")}catch(ue){if(!this.options.ignoreErrors)throw ue;(0,t.warn)(`translateFont - fetching "${se.name}" font file: "${ue}".`),z=new i.NullStream}if(z&&z.dict){const ue=z.dict.get("Subtype");ue instanceof R.Name&&(Q=ue.name),re=z.dict.get("Length1"),te=z.dict.get("Length2"),ae=z.dict.get("Length3")}if(Y={type:E,name:se.name,subtype:Q,file:z,length1:re,length2:te,length3:ae,loadedName:U.loadedName,composite:q,fixedPitch:!1,fontMatrix:T.getArray("FontMatrix")||t.FONT_IDENTITY_MATRIX,firstChar:$,lastChar:B,toUnicode:W,bbox:_.getArray("FontBBox"),ascent:_.get("Ascent"),descent:_.get("Descent"),xHeight:_.get("XHeight"),capHeight:_.get("CapHeight"),flags:_.get("Flags"),italicAngle:_.get("ItalicAngle"),isType3Font:J,cssFontInfo:V},q){const ue=U.get("Encoding");(0,R.isName)(ue)&&(Y.cidEncoding=ue.name);const oe=await F.CMapFactory.create({encoding:ue,fetchBuiltInCMap:this._fetchBuiltInCMapBound,useCMap:null});Y.cMap=oe,Y.vertical=Y.cMap.vertical}return this.extractDataStructures(T,U,Y).then(ue=>(this.extractWidths(T,_,ue),new e.Font(se.name,z,ue)))}static buildFontPaths(_,T,U,q){function E($){const B=`${_.loadedName}_path_${$}`;try{if(_.renderer.hasBuiltPath($))return;U.send("commonobj",[B,"FontPath",_.renderer.getPathJs($)])}catch(W){if(q.ignoreErrors)return U.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.errorFontBuildPath}),void(0,t.warn)(`buildFontPaths - ignoring ${B} glyph: "${W}".`);throw W}}for(const $ of T){E($.fontChar);const B=$.accent;B&&B.fontChar&&E(B.fontChar)}}static get fallbackFontDict(){const _=new R.Dict;return _.set("BaseFont",R.Name.get("PDFJS-FallbackFont")),_.set("Type",R.Name.get("FallbackType")),_.set("Subtype",R.Name.get("FallbackType")),_.set("Encoding",R.Name.get("WinAnsiEncoding")),(0,t.shadow)(this,"fallbackFontDict",_)}}I.PartialEvaluator=O;class C{constructor({loadedName:_,font:T,dict:U,evaluatorOptions:q}){this.loadedName=_,this.font=T,this.dict=U,this._evaluatorOptions=q||s,this.type3Loaded=null,this.type3Dependencies=T.isType3Font?new Set:null,this.sent=!1}send(_){this.sent||(this.sent=!0,_.send("commonobj",[this.loadedName,"Font",this.font.exportData(this._evaluatorOptions.fontExtraProperties)]))}fallback(_){this.font.data&&(this.font.disableFontFace=!0,O.buildFontPaths(this.font,this.font.glyphCacheValues,_,this._evaluatorOptions))}loadType3Data(_,T,U){if(this.type3Loaded)return this.type3Loaded;if(!this.font.isType3Font)throw new Error("Must be a Type3 font.");const q=Object.create(_.options);q.ignoreErrors=!1;const E=_.clone(q);E.parsingType3Font=!0;const $=this.font,B=this.type3Dependencies;let W=Promise.resolve();const V=this.dict.get("CharProcs"),J=this.dict.get("Resources")||T,Y=Object.create(null);for(const z of V.getKeys())W=W.then(()=>{const Q=V.get(z),re=new d.OperatorList;return E.getOperatorList({stream:Q,task:U,resources:J,operatorList:re}).then(()=>{re.fnArray[0]===t.OPS.setCharWidthAndBounds&&this._removeType3ColorOperators(re),Y[z]=re.getIR();for(const te of re.dependencies)B.add(te)}).catch(function(te){(0,t.warn)(`Type3 font resource "${z}" is not available.`);const ae=new d.OperatorList;Y[z]=ae.getIR()})});return this.type3Loaded=W.then(function(){$.charProcOperatorList=Y}),this.type3Loaded}_removeType3ColorOperators(_){let T=1,U=_.length;for(;T<U;){switch(_.fnArray[T]){case t.OPS.setStrokeColorSpace:case t.OPS.setFillColorSpace:case t.OPS.setStrokeColor:case t.OPS.setStrokeColorN:case t.OPS.setFillColor:case t.OPS.setFillColorN:case t.OPS.setStrokeGray:case t.OPS.setFillGray:case t.OPS.setStrokeRGBColor:case t.OPS.setFillRGBColor:case t.OPS.setStrokeCMYKColor:case t.OPS.setFillCMYKColor:case t.OPS.shadingFill:case t.OPS.setRenderingIntent:_.fnArray.splice(T,1),_.argsArray.splice(T,1),U--;continue;case t.OPS.setGState:const[q]=_.argsArray[T];let E=0,$=q.length;for(;E<$;){const[B]=q[E];switch(B){case"TR":case"TR2":case"HT":case"BG":case"BG2":case"UCR":case"UCR2":q.splice(E,1),$--;continue}E++}}T++}}}class N{constructor(_=new H){this.state=_,this.stateStack=[]}save(){const _=this.state;this.stateStack.push(this.state),this.state=_.clone()}restore(){const _=this.stateStack.pop();_&&(this.state=_)}transform(_){this.state.ctm=t.Util.transform(this.state.ctm,_)}}class X{constructor(){this.ctm=new Float32Array(t.IDENTITY_MATRIX),this.fontName=null,this.fontSize=0,this.font=null,this.fontMatrix=t.FONT_IDENTITY_MATRIX,this.textMatrix=t.IDENTITY_MATRIX.slice(),this.textLineMatrix=t.IDENTITY_MATRIX.slice(),this.charSpacing=0,this.wordSpacing=0,this.leading=0,this.textHScale=1,this.textRise=0}setTextMatrix(_,T,U,q,E,$){const B=this.textMatrix;B[0]=_,B[1]=T,B[2]=U,B[3]=q,B[4]=E,B[5]=$}setTextLineMatrix(_,T,U,q,E,$){const B=this.textLineMatrix;B[0]=_,B[1]=T,B[2]=U,B[3]=q,B[4]=E,B[5]=$}translateTextMatrix(_,T){const U=this.textMatrix;U[4]=U[0]*_+U[2]*T+U[4],U[5]=U[1]*_+U[3]*T+U[5]}translateTextLineMatrix(_,T){const U=this.textLineMatrix;U[4]=U[0]*_+U[2]*T+U[4],U[5]=U[1]*_+U[3]*T+U[5]}carriageReturn(){this.translateTextLineMatrix(0,-this.leading),this.textMatrix=this.textLineMatrix.slice()}clone(){const _=Object.create(this);return _.textMatrix=this.textMatrix.slice(),_.textLineMatrix=this.textLineMatrix.slice(),_.fontMatrix=this.fontMatrix.slice(),_}}class H{constructor(){this.ctm=new Float32Array(t.IDENTITY_MATRIX),this.font=null,this.textRenderingMode=t.TextRenderingMode.FILL,this.fillColorSpace=p.ColorSpace.singletons.gray,this.strokeColorSpace=p.ColorSpace.singletons.gray}clone(){return Object.create(this)}}class D{static get opMap(){const _=(0,c.getLookupTableFactory)(function(T){T.w={id:t.OPS.setLineWidth,numArgs:1,variableArgs:!1},T.J={id:t.OPS.setLineCap,numArgs:1,variableArgs:!1},T.j={id:t.OPS.setLineJoin,numArgs:1,variableArgs:!1},T.M={id:t.OPS.setMiterLimit,numArgs:1,variableArgs:!1},T.d={id:t.OPS.setDash,numArgs:2,variableArgs:!1},T.ri={id:t.OPS.setRenderingIntent,numArgs:1,variableArgs:!1},T.i={id:t.OPS.setFlatness,numArgs:1,variableArgs:!1},T.gs={id:t.OPS.setGState,numArgs:1,variableArgs:!1},T.q={id:t.OPS.save,numArgs:0,variableArgs:!1},T.Q={id:t.OPS.restore,numArgs:0,variableArgs:!1},T.cm={id:t.OPS.transform,numArgs:6,variableArgs:!1},T.m={id:t.OPS.moveTo,numArgs:2,variableArgs:!1},T.l={id:t.OPS.lineTo,numArgs:2,variableArgs:!1},T.c={id:t.OPS.curveTo,numArgs:6,variableArgs:!1},T.v={id:t.OPS.curveTo2,numArgs:4,variableArgs:!1},T.y={id:t.OPS.curveTo3,numArgs:4,variableArgs:!1},T.h={id:t.OPS.closePath,numArgs:0,variableArgs:!1},T.re={id:t.OPS.rectangle,numArgs:4,variableArgs:!1},T.S={id:t.OPS.stroke,numArgs:0,variableArgs:!1},T.s={id:t.OPS.closeStroke,numArgs:0,variableArgs:!1},T.f={id:t.OPS.fill,numArgs:0,variableArgs:!1},T.F={id:t.OPS.fill,numArgs:0,variableArgs:!1},T["f*"]={id:t.OPS.eoFill,numArgs:0,variableArgs:!1},T.B={id:t.OPS.fillStroke,numArgs:0,variableArgs:!1},T["B*"]={id:t.OPS.eoFillStroke,numArgs:0,variableArgs:!1},T.b={id:t.OPS.closeFillStroke,numArgs:0,variableArgs:!1},T["b*"]={id:t.OPS.closeEOFillStroke,numArgs:0,variableArgs:!1},T.n={id:t.OPS.endPath,numArgs:0,variableArgs:!1},T.W={id:t.OPS.clip,numArgs:0,variableArgs:!1},T["W*"]={id:t.OPS.eoClip,numArgs:0,variableArgs:!1},T.BT={id:t.OPS.beginText,numArgs:0,variableArgs:!1},T.ET={id:t.OPS.endText,numArgs:0,variableArgs:!1},T.Tc={id:t.OPS.setCharSpacing,numArgs:1,variableArgs:!1},T.Tw={id:t.OPS.setWordSpacing,numArgs:1,variableArgs:!1},T.Tz={id:t.OPS.setHScale,numArgs:1,variableArgs:!1},T.TL={id:t.OPS.setLeading,numArgs:1,variableArgs:!1},T.Tf={id:t.OPS.setFont,numArgs:2,variableArgs:!1},T.Tr={id:t.OPS.setTextRenderingMode,numArgs:1,variableArgs:!1},T.Ts={id:t.OPS.setTextRise,numArgs:1,variableArgs:!1},T.Td={id:t.OPS.moveText,numArgs:2,variableArgs:!1},T.TD={id:t.OPS.setLeadingMoveText,numArgs:2,variableArgs:!1},T.Tm={id:t.OPS.setTextMatrix,numArgs:6,variableArgs:!1},T["T*"]={id:t.OPS.nextLine,numArgs:0,variableArgs:!1},T.Tj={id:t.OPS.showText,numArgs:1,variableArgs:!1},T.TJ={id:t.OPS.showSpacedText,numArgs:1,variableArgs:!1},T["'"]={id:t.OPS.nextLineShowText,numArgs:1,variableArgs:!1},T['"']={id:t.OPS.nextLineSetSpacingShowText,numArgs:3,variableArgs:!1},T.d0={id:t.OPS.setCharWidth,numArgs:2,variableArgs:!1},T.d1={id:t.OPS.setCharWidthAndBounds,numArgs:6,variableArgs:!1},T.CS={id:t.OPS.setStrokeColorSpace,numArgs:1,variableArgs:!1},T.cs={id:t.OPS.setFillColorSpace,numArgs:1,variableArgs:!1},T.SC={id:t.OPS.setStrokeColor,numArgs:4,variableArgs:!0},T.SCN={id:t.OPS.setStrokeColorN,numArgs:33,variableArgs:!0},T.sc={id:t.OPS.setFillColor,numArgs:4,variableArgs:!0},T.scn={id:t.OPS.setFillColorN,numArgs:33,variableArgs:!0},T.G={id:t.OPS.setStrokeGray,numArgs:1,variableArgs:!1},T.g={id:t.OPS.setFillGray,numArgs:1,variableArgs:!1},T.RG={id:t.OPS.setStrokeRGBColor,numArgs:3,variableArgs:!1},T.rg={id:t.OPS.setFillRGBColor,numArgs:3,variableArgs:!1},T.K={id:t.OPS.setStrokeCMYKColor,numArgs:4,variableArgs:!1},T.k={id:t.OPS.setFillCMYKColor,numArgs:4,variableArgs:!1},T.sh={id:t.OPS.shadingFill,numArgs:1,variableArgs:!1},T.BI={id:t.OPS.beginInlineImage,numArgs:0,variableArgs:!1},T.ID={id:t.OPS.beginImageData,numArgs:0,variableArgs:!1},T.EI={id:t.OPS.endInlineImage,numArgs:1,variableArgs:!1},T.Do={id:t.OPS.paintXObject,numArgs:1,variableArgs:!1},T.MP={id:t.OPS.markPoint,numArgs:1,variableArgs:!1},T.DP={id:t.OPS.markPointProps,numArgs:2,variableArgs:!1},T.BMC={id:t.OPS.beginMarkedContent,numArgs:1,variableArgs:!1},T.BDC={id:t.OPS.beginMarkedContentProps,numArgs:2,variableArgs:!1},T.EMC={id:t.OPS.endMarkedContent,numArgs:0,variableArgs:!1},T.BX={id:t.OPS.beginCompat,numArgs:0,variableArgs:!1},T.EX={id:t.OPS.endCompat,numArgs:0,variableArgs:!1},T.BM=null,T.BD=null,T.true=null,T.fa=null,T.fal=null,T.fals=null,T.false=null,T.nu=null,T.nul=null,T.null=null});return(0,t.shadow)(this,"opMap",_())}static get MAX_INVALID_PATH_OPS(){return(0,t.shadow)(this,"MAX_INVALID_PATH_OPS",20)}constructor(_,T,U=new N){this.parser=new h.Parser({lexer:new h.Lexer(_,D.opMap),xref:T}),this.stateManager=U,this.nonProcessedArgs=[],this._numInvalidPathOPS=0}get savedStatesDepth(){return this.stateManager.stateStack.length}read(_){let T=_.args;for(;;){const U=this.parser.getObj();if(U instanceof R.Cmd){const q=U.cmd,E=D.opMap[q];if(!E){(0,t.warn)(`Unknown command "${q}".`);continue}const $=E.id,B=E.numArgs;let W=null!==T?T.length:0;if(E.variableArgs)W>B&&(0,t.info)(`Command ${q}: expected [0, ${B}] args, but received ${W} args.`);else{if(W!==B){const V=this.nonProcessedArgs;for(;W>B;)V.push(T.shift()),W--;for(;W<B&&0!==V.length;)null===T&&(T=[]),T.unshift(V.pop()),W++}if(W<B){const V=`command ${q}: expected ${B} args, but received ${W} args.`;if($>=t.OPS.moveTo&&$<=t.OPS.endPath&&++this._numInvalidPathOPS>D.MAX_INVALID_PATH_OPS)throw new t.FormatError(`Invalid ${V}`);(0,t.warn)(`Skipping ${V}`),null!==T&&(T.length=0);continue}}return this.preprocessCommand($,T),_.fn=$,_.args=T,!0}if(U===R.EOF)return!1;if(null!==U&&(null===T&&(T=[]),T.push(U),T.length>33))throw new t.FormatError("Too many arguments")}}preprocessCommand(_,T){switch(0|_){case t.OPS.save:this.stateManager.save();break;case t.OPS.restore:this.stateManager.restore();break;case t.OPS.transform:this.stateManager.transform(T)}}}I.EvaluatorPreprocessor=D},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.IdentityCMap=I.CMapFactory=I.CMap=void 0;var t=G(2),F=G(5),R=G(17),e=G(9),x=G(10);const L=["Adobe-GB1-UCS2","Adobe-CNS1-UCS2","Adobe-Japan1-UCS2","Adobe-Korea1-UCS2","78-EUC-H","78-EUC-V","78-H","78-RKSJ-H","78-RKSJ-V","78-V","78ms-RKSJ-H","78ms-RKSJ-V","83pv-RKSJ-H","90ms-RKSJ-H","90ms-RKSJ-V","90msp-RKSJ-H","90msp-RKSJ-V","90pv-RKSJ-H","90pv-RKSJ-V","Add-H","Add-RKSJ-H","Add-RKSJ-V","Add-V","Adobe-CNS1-0","Adobe-CNS1-1","Adobe-CNS1-2","Adobe-CNS1-3","Adobe-CNS1-4","Adobe-CNS1-5","Adobe-CNS1-6","Adobe-GB1-0","Adobe-GB1-1","Adobe-GB1-2","Adobe-GB1-3","Adobe-GB1-4","Adobe-GB1-5","Adobe-Japan1-0","Adobe-Japan1-1","Adobe-Japan1-2","Adobe-Japan1-3","Adobe-Japan1-4","Adobe-Japan1-5","Adobe-Japan1-6","Adobe-Korea1-0","Adobe-Korea1-1","Adobe-Korea1-2","B5-H","B5-V","B5pc-H","B5pc-V","CNS-EUC-H","CNS-EUC-V","CNS1-H","CNS1-V","CNS2-H","CNS2-V","ETHK-B5-H","ETHK-B5-V","ETen-B5-H","ETen-B5-V","ETenms-B5-H","ETenms-B5-V","EUC-H","EUC-V","Ext-H","Ext-RKSJ-H","Ext-RKSJ-V","Ext-V","GB-EUC-H","GB-EUC-V","GB-H","GB-V","GBK-EUC-H","GBK-EUC-V","GBK2K-H","GBK2K-V","GBKp-EUC-H","GBKp-EUC-V","GBT-EUC-H","GBT-EUC-V","GBT-H","GBT-V","GBTpc-EUC-H","GBTpc-EUC-V","GBpc-EUC-H","GBpc-EUC-V","H","HKdla-B5-H","HKdla-B5-V","HKdlb-B5-H","HKdlb-B5-V","HKgccs-B5-H","HKgccs-B5-V","HKm314-B5-H","HKm314-B5-V","HKm471-B5-H","HKm471-B5-V","HKscs-B5-H","HKscs-B5-V","Hankaku","Hiragana","KSC-EUC-H","KSC-EUC-V","KSC-H","KSC-Johab-H","KSC-Johab-V","KSC-V","KSCms-UHC-H","KSCms-UHC-HW-H","KSCms-UHC-HW-V","KSCms-UHC-V","KSCpc-EUC-H","KSCpc-EUC-V","Katakana","NWP-H","NWP-V","RKSJ-H","RKSJ-V","Roman","UniCNS-UCS2-H","UniCNS-UCS2-V","UniCNS-UTF16-H","UniCNS-UTF16-V","UniCNS-UTF32-H","UniCNS-UTF32-V","UniCNS-UTF8-H","UniCNS-UTF8-V","UniGB-UCS2-H","UniGB-UCS2-V","UniGB-UTF16-H","UniGB-UTF16-V","UniGB-UTF32-H","UniGB-UTF32-V","UniGB-UTF8-H","UniGB-UTF8-V","UniJIS-UCS2-H","UniJIS-UCS2-HW-H","UniJIS-UCS2-HW-V","UniJIS-UCS2-V","UniJIS-UTF16-H","UniJIS-UTF16-V","UniJIS-UTF32-H","UniJIS-UTF32-V","UniJIS-UTF8-H","UniJIS-UTF8-V","UniJIS2004-UTF16-H","UniJIS2004-UTF16-V","UniJIS2004-UTF32-H","UniJIS2004-UTF32-V","UniJIS2004-UTF8-H","UniJIS2004-UTF8-V","UniJISPro-UCS2-HW-V","UniJISPro-UCS2-V","UniJISPro-UTF8-V","UniJISX0213-UTF32-H","UniJISX0213-UTF32-V","UniJISX02132004-UTF32-H","UniJISX02132004-UTF32-V","UniKS-UCS2-H","UniKS-UCS2-V","UniKS-UTF16-H","UniKS-UTF16-V","UniKS-UTF32-H","UniKS-UTF32-V","UniKS-UTF8-H","UniKS-UTF8-V","V","WP-Symbol"],P=2**24-1;class b{constructor(n=!1){this.codespaceRanges=[[],[],[],[]],this.numCodespaceRanges=0,this._map=[],this.name="",this.vertical=!1,this.useCMap=null,this.builtInCMap=n}addCodespaceRange(n,a,p){this.codespaceRanges[n-1].push(a,p),this.numCodespaceRanges++}mapCidRange(n,a,p){if(a-n>P)throw new Error("mapCidRange - ignoring data above MAX_MAP_RANGE.");for(;n<=a;)this._map[n++]=p++}mapBfRange(n,a,p){if(a-n>P)throw new Error("mapBfRange - ignoring data above MAX_MAP_RANGE.");const v=p.length-1;for(;n<=a;)this._map[n++]=p,p=p.substring(0,v)+String.fromCharCode(p.charCodeAt(v)+1)}mapBfRangeToArray(n,a,p){if(a-n>P)throw new Error("mapBfRangeToArray - ignoring data above MAX_MAP_RANGE.");const v=p.length;let m=0;for(;n<=a&&m<v;)this._map[n]=p[m++],++n}mapOne(n,a){this._map[n]=a}lookup(n){return this._map[n]}contains(n){return void 0!==this._map[n]}forEach(n){const a=this._map,p=a.length;if(p<=65536)for(let v=0;v<p;v++)void 0!==a[v]&&n(v,a[v]);else for(const v in a)n(v,a[v])}charCodeOf(n){const a=this._map;if(a.length<=65536)return a.indexOf(n);for(const p in a)if(a[p]===n)return 0|p;return-1}getMap(){return this._map}readCharCode(n,a,p){let v=0;const m=this.codespaceRanges;for(let c=0,f=m.length;c<f;c++){v=(v<<8|n.charCodeAt(a+c))>>>0;const y=m[c];for(let i=0,d=y.length;i<d;){const S=y[i++],s=y[i++];if(v>=S&&v<=s)return p.charcode=v,void(p.length=c+1)}}p.charcode=0,p.length=1}getCharCodeLength(n){const a=this.codespaceRanges;for(let p=0,v=a.length;p<v;p++){const m=a[p];for(let c=0,f=m.length;c<f;){const y=m[c++],i=m[c++];if(n>=y&&n<=i)return p+1}}return 1}get length(){return this._map.length}get isIdentityCMap(){if("Identity-H"!==this.name&&"Identity-V"!==this.name||65536!==this._map.length)return!1;for(let n=0;n<65536;n++)if(this._map[n]!==n)return!1;return!0}}I.CMap=b;class r extends b{constructor(n,a){super(),this.vertical=n,this.addCodespaceRange(a,0,65535)}mapCidRange(n,a,p){(0,t.unreachable)("should not call mapCidRange")}mapBfRange(n,a,p){(0,t.unreachable)("should not call mapBfRange")}mapBfRangeToArray(n,a,p){(0,t.unreachable)("should not call mapBfRangeToArray")}mapOne(n,a){(0,t.unreachable)("should not call mapCidOne")}lookup(n){return Number.isInteger(n)&&n<=65535?n:void 0}contains(n){return Number.isInteger(n)&&n<=65535}forEach(n){for(let a=0;a<=65535;a++)n(a,a)}charCodeOf(n){return Number.isInteger(n)&&n<=65535?n:-1}getMap(){const n=new Array(65536);for(let a=0;a<=65535;a++)n[a]=a;return n}get length(){return 65536}get isIdentityCMap(){(0,t.unreachable)("should not access .isIdentityCMap")}}I.IdentityCMap=r;const w=function(){function n(f,y){let i=0;for(let d=0;d<=y;d++)i=i<<8|f[d];return i>>>0}function a(f,y){return 1===y?String.fromCharCode(f[0],f[1]):3===y?String.fromCharCode(f[0],f[1],f[2],f[3]):String.fromCharCode.apply(null,f.subarray(0,y+1))}function p(f,y,i){let d=0;for(let S=i;S>=0;S--)d+=f[S]+y[S],f[S]=255&d,d>>=8}function v(f,y){let i=1;for(let d=y;d>=0&&i>0;d--)i+=f[d],f[d]=255&i,i>>=8}const m=16;class c{constructor(y){this.buffer=y,this.pos=0,this.end=y.length,this.tmpBuf=new Uint8Array(19)}readByte(){return this.pos>=this.end?-1:this.buffer[this.pos++]}readNumber(){let y,i=0;do{const d=this.readByte();if(d<0)throw new t.FormatError("unexpected EOF in bcmap");y=!(128&d),i=i<<7|127&d}while(!y);return i}readSigned(){const y=this.readNumber();return 1&y?~(y>>>1):y>>>1}readHex(y,i){y.set(this.buffer.subarray(this.pos,this.pos+i+1)),this.pos+=i+1}readHexNumber(y,i){let d;const S=this.tmpBuf;let s=0;do{const u=this.readByte();if(u<0)throw new t.FormatError("unexpected EOF in bcmap");d=!(128&u),S[s++]=127&u}while(!d);let l=i,A=0,k=0;for(;l>=0;){for(;k<8&&S.length>0;)A=S[--s]<<k|A,k+=7;y[l]=255&A,l--,A>>=8,k-=8}}readHexSigned(y,i){this.readHexNumber(y,i);const d=1&y[i]?255:0;let S=0;for(let s=0;s<=i;s++)S=(1&S)<<8|y[s],y[s]=S>>1^d}readString(){const y=this.readNumber();let i="";for(let d=0;d<y;d++)i+=String.fromCharCode(this.readNumber());return i}}return class{async process(y,i,d){const S=new c(y),s=S.readByte();i.vertical=!!(1&s);let l=null;const A=new Uint8Array(m),k=new Uint8Array(m),u=new Uint8Array(m),M=new Uint8Array(m),O=new Uint8Array(m);let C,N;for(;(N=S.readByte())>=0;){const X=N>>5;if(7===X){switch(31&N){case 0:S.readString();break;case 1:l=S.readString()}continue}const H=!!(16&N),D=15&N;if(D+1>m)throw new Error("BinaryCMapReader.process: Invalid dataSize.");const j=1,_=S.readNumber();switch(X){case 0:S.readHex(A,D),S.readHexNumber(k,D),p(k,A,D),i.addCodespaceRange(D+1,n(A,D),n(k,D));for(let T=1;T<_;T++)v(k,D),S.readHexNumber(A,D),p(A,k,D),S.readHexNumber(k,D),p(k,A,D),i.addCodespaceRange(D+1,n(A,D),n(k,D));break;case 1:S.readHex(A,D),S.readHexNumber(k,D),p(k,A,D),S.readNumber();for(let T=1;T<_;T++)v(k,D),S.readHexNumber(A,D),p(A,k,D),S.readHexNumber(k,D),p(k,A,D),S.readNumber();break;case 2:S.readHex(u,D),C=S.readNumber(),i.mapOne(n(u,D),C);for(let T=1;T<_;T++)v(u,D),H||(S.readHexNumber(O,D),p(u,O,D)),C=S.readSigned()+(C+1),i.mapOne(n(u,D),C);break;case 3:S.readHex(A,D),S.readHexNumber(k,D),p(k,A,D),C=S.readNumber(),i.mapCidRange(n(A,D),n(k,D),C);for(let T=1;T<_;T++)v(k,D),H?A.set(k):(S.readHexNumber(A,D),p(A,k,D)),S.readHexNumber(k,D),p(k,A,D),C=S.readNumber(),i.mapCidRange(n(A,D),n(k,D),C);break;case 4:S.readHex(u,j),S.readHex(M,D),i.mapOne(n(u,j),a(M,D));for(let T=1;T<_;T++)v(u,j),H||(S.readHexNumber(O,j),p(u,O,j)),v(M,D),S.readHexSigned(O,D),p(M,O,D),i.mapOne(n(u,j),a(M,D));break;case 5:S.readHex(A,j),S.readHexNumber(k,j),p(k,A,j),S.readHex(M,D),i.mapBfRange(n(A,j),n(k,j),a(M,D));for(let T=1;T<_;T++)v(k,j),H?A.set(k):(S.readHexNumber(A,j),p(A,k,j)),S.readHexNumber(k,j),p(k,A,j),S.readHex(M,D),i.mapBfRange(n(A,j),n(k,j),a(M,D));break;default:throw new Error(`BinaryCMapReader.process - unknown type: ${X}`)}}return l?d(l):i}}}(),o=function(){function n(A){let k=0;for(let u=0;u<A.length;u++)k=k<<8|A.charCodeAt(u);return k>>>0}function a(A){if(!(0,t.isString)(A))throw new t.FormatError("Malformed CMap: expected string.")}function p(A){if(!Number.isInteger(A))throw new t.FormatError("Malformed CMap: expected int.")}function v(A,k){for(;;){let u=k.getObj();if((0,F.isEOF)(u))break;if((0,F.isCmd)(u,"endbfchar"))return;a(u);const M=n(u);u=k.getObj(),a(u),A.mapOne(M,u)}}function m(A,k){for(;;){let u=k.getObj();if((0,F.isEOF)(u))break;if((0,F.isCmd)(u,"endbfrange"))return;a(u);const M=n(u);u=k.getObj(),a(u);const O=n(u);if(u=k.getObj(),Number.isInteger(u)||(0,t.isString)(u)){const C=Number.isInteger(u)?String.fromCharCode(u):u;A.mapBfRange(M,O,C)}else{if(!(0,F.isCmd)(u,"["))break;{u=k.getObj();const C=[];for(;!(0,F.isCmd)(u,"]")&&!(0,F.isEOF)(u);)C.push(u),u=k.getObj();A.mapBfRangeToArray(M,O,C)}}}throw new t.FormatError("Invalid bf range.")}function c(A,k){for(;;){let u=k.getObj();if((0,F.isEOF)(u))break;if((0,F.isCmd)(u,"endcidchar"))return;a(u);const M=n(u);u=k.getObj(),p(u),A.mapOne(M,u)}}function f(A,k){for(;;){let u=k.getObj();if((0,F.isEOF)(u))break;if((0,F.isCmd)(u,"endcidrange"))return;a(u);const M=n(u);u=k.getObj(),a(u);const O=n(u);u=k.getObj(),p(u),A.mapCidRange(M,O,u)}}function y(A,k){for(;;){let u=k.getObj();if((0,F.isEOF)(u))break;if((0,F.isCmd)(u,"endcodespacerange"))return;if(!(0,t.isString)(u))break;const M=n(u);if(u=k.getObj(),!(0,t.isString)(u))break;const O=n(u);A.addCodespaceRange(u.length,M,O)}throw new t.FormatError("Invalid codespace range.")}function i(A,k){const u=k.getObj();Number.isInteger(u)&&(A.vertical=!!u)}function d(A,k){const u=k.getObj();(0,F.isName)(u)&&(0,t.isString)(u.name)&&(A.name=u.name)}async function S(A,k,u,M){let O,C;e:for(;;)try{const N=k.getObj();if((0,F.isEOF)(N))break;if((0,F.isName)(N))"WMode"===N.name?i(A,k):"CMapName"===N.name&&d(A,k),O=N;else if((0,F.isCmd)(N))switch(N.cmd){case"endcmap":break e;case"usecmap":(0,F.isName)(O)&&(C=O.name);break;case"begincodespacerange":y(A,k);break;case"beginbfchar":v(A,k);break;case"begincidchar":c(A,k);break;case"beginbfrange":m(A,k);break;case"begincidrange":f(A,k)}}catch(N){if(N instanceof e.MissingDataException)throw N;(0,t.warn)("Invalid cMap data: "+N);continue}return!M&&C&&(M=C),M?s(A,u,M):A}async function s(A,k,u){if(A.useCMap=await l(u,k),0===A.numCodespaceRanges){const M=A.useCMap.codespaceRanges;for(let O=0;O<M.length;O++)A.codespaceRanges[O]=M[O].slice();A.numCodespaceRanges=A.useCMap.numCodespaceRanges}return A.useCMap.forEach(function(M,O){A.contains(M)||A.mapOne(M,A.useCMap.lookup(M))}),A}async function l(A,k){if("Identity-H"===A)return new r(!1,2);if("Identity-V"===A)return new r(!0,2);if(!L.includes(A))throw new Error("Unknown CMap name: "+A);if(!k)throw new Error("Built-in CMap parameters are not provided.");const{cMapData:u,compressionType:M}=await k(A),O=new b(!0);if(M===t.CMapCompressionType.BINARY)return(new w).process(u,O,C=>s(O,k,C));if(M===t.CMapCompressionType.NONE){const C=new R.Lexer(new x.Stream(u));return S(O,C,k,null)}throw new Error("TODO: Only BINARY/NONE CMap compression is currently supported.")}return{async create(A){const k=A.encoding,u=A.fetchBuiltInCMap,M=A.useCMap;if((0,F.isName)(k))return l(k.name,u);if((0,F.isStream)(k)){const O=await S(new b,new R.Lexer(k),u,M);return O.isIdentityCMap?l(O.name,u):O}throw new Error("Encoding required.")}}}();I.CMapFactory=o},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Parser=I.Linearization=I.Lexer=void 0;var t=G(2),F=G(5),R=G(9),e=G(18),x=G(20),L=G(21),P=G(23),b=G(24),r=G(27),w=G(29),o=G(31),h=G(10),n=G(32),a=G(33);function p(y){const i=y.length;let d=1,S=0;for(let s=0;s<i;++s)d+=255&y[s],S+=d;return S%65521<<16|d%65521}class v{constructor({lexer:i,xref:d,allowStreams:S=!1,recoveryMode:s=!1}){this.lexer=i,this.xref=d,this.allowStreams=S,this.recoveryMode=s,this.imageCache=Object.create(null),this.refill()}refill(){this.buf1=this.lexer.getObj(),this.buf2=this.lexer.getObj()}shift(){this.buf2 instanceof F.Cmd&&"ID"===this.buf2.cmd?(this.buf1=this.buf2,this.buf2=null):(this.buf1=this.buf2,this.buf2=this.lexer.getObj())}tryShift(){try{return this.shift(),!0}catch(i){if(i instanceof R.MissingDataException)throw i;return!1}}getObj(i=null){const d=this.buf1;if(this.shift(),d instanceof F.Cmd)switch(d.cmd){case"BI":return this.makeInlineImage(i);case"[":const S=[];for(;!(0,F.isCmd)(this.buf1,"]")&&!(0,F.isEOF)(this.buf1);)S.push(this.getObj(i));if((0,F.isEOF)(this.buf1)){if(!this.recoveryMode)throw new t.FormatError("End of file inside array");return S}return this.shift(),S;case"<<":const s=new F.Dict(this.xref);for(;!(0,F.isCmd)(this.buf1,">>")&&!(0,F.isEOF)(this.buf1);){if(!(0,F.isName)(this.buf1)){(0,t.info)("Malformed dictionary: key must be a name object"),this.shift();continue}const l=this.buf1.name;if(this.shift(),(0,F.isEOF)(this.buf1))break;s.set(l,this.getObj(i))}if((0,F.isEOF)(this.buf1)){if(!this.recoveryMode)throw new t.FormatError("End of file inside dictionary");return s}return(0,F.isCmd)(this.buf2,"stream")?this.allowStreams?this.makeStream(s,i):s:(this.shift(),s);default:return d}if(Number.isInteger(d)){if(Number.isInteger(this.buf1)&&(0,F.isCmd)(this.buf2,"R")){const S=F.Ref.get(d,this.buf1);return this.shift(),this.shift(),S}return d}return"string"==typeof d&&i?i.decryptString(d):d}findDefaultInlineStreamEnd(i){const d=this.lexer,S=i.pos;let s,l,A=0;for(;-1!==(s=i.getByte());)if(0===A)A=69===s?1:0;else if(1===A)A=73===s?2:0;else if((0,t.assert)(2===A,"findDefaultInlineStreamEnd - invalid state."),32===s||10===s||13===s){l=i.pos;const u=i.peekBytes(10);for(let M=0,O=u.length;M<O;M++)if(s=u[M],(0!==s||0===u[M+1])&&10!==s&&13!==s&&(s<32||s>127)){A=0;break}if(2!==A)continue;if(d.knownCommands){const M=d.peekObj();M instanceof F.Cmd&&!d.knownCommands[M.cmd]&&(A=0)}else(0,t.warn)("findDefaultInlineStreamEnd - `lexer.knownCommands` is undefined.");if(2===A)break}else A=0;-1===s&&((0,t.warn)("findDefaultInlineStreamEnd: Reached the end of the stream without finding a valid EI marker"),l&&((0,t.warn)('... trying to recover by using the last "EI" occurrence.'),i.skip(-(i.pos-l))));let k=4;return i.skip(-k),s=i.peekByte(),i.skip(k),(0,R.isWhiteSpace)(s)||k--,i.pos-k-S}findDCTDecodeInlineStreamEnd(i){const d=i.pos;let S,s,l=!1;for(;-1!==(S=i.getByte());)if(255===S){switch(i.getByte()){case 0:break;case 255:i.skip(-1);break;case 217:l=!0;break;case 192:case 193:case 194:case 195:case 197:case 198:case 199:case 201:case 202:case 203:case 205:case 206:case 207:case 196:case 204:case 218:case 219:case 220:case 221:case 222:case 223:case 224:case 225:case 226:case 227:case 228:case 229:case 230:case 231:case 232:case 233:case 234:case 235:case 236:case 237:case 238:case 239:case 254:s=i.getUint16(),i.skip(s>2?s-2:-2)}if(l)break}const A=i.pos-d;return-1===S?((0,t.warn)("Inline DCTDecode image stream: EOI marker not found, searching for /EI/ instead."),i.skip(-A),this.findDefaultInlineStreamEnd(i)):(this.inlineStreamSkipEI(i),A)}findASCII85DecodeInlineStreamEnd(i){const d=i.pos;let S;for(;-1!==(S=i.getByte());)if(126===S){const l=i.pos;for(S=i.peekByte();(0,R.isWhiteSpace)(S);)i.skip(),S=i.peekByte();if(62===S){i.skip();break}if(i.pos>l){const A=i.peekBytes(2);if(69===A[0]&&73===A[1])break}}const s=i.pos-d;return-1===S?((0,t.warn)("Inline ASCII85Decode image stream: EOD marker not found, searching for /EI/ instead."),i.skip(-s),this.findDefaultInlineStreamEnd(i)):(this.inlineStreamSkipEI(i),s)}findASCIIHexDecodeInlineStreamEnd(i){const d=i.pos;let S;for(;-1!==(S=i.getByte())&&62!==S;);const s=i.pos-d;return-1===S?((0,t.warn)("Inline ASCIIHexDecode image stream: EOD marker not found, searching for /EI/ instead."),i.skip(-s),this.findDefaultInlineStreamEnd(i)):(this.inlineStreamSkipEI(i),s)}inlineStreamSkipEI(i){let d,S=0;for(;-1!==(d=i.getByte());)if(0===S)S=69===d?1:0;else if(1===S)S=73===d?2:0;else if(2===S)break}makeInlineImage(i){const d=this.lexer,S=d.stream,s=new F.Dict(this.xref);let l;for(;!(0,F.isCmd)(this.buf1,"ID")&&!(0,F.isEOF)(this.buf1);){if(!(0,F.isName)(this.buf1))throw new t.FormatError("Dictionary key must be a name object");const N=this.buf1.name;if(this.shift(),(0,F.isEOF)(this.buf1))break;s.set(N,this.getObj(i))}-1!==d.beginInlineImagePos&&(l=S.pos-d.beginInlineImagePos);const A=s.get("Filter","F");let k;if((0,F.isName)(A))k=A.name;else if(Array.isArray(A)){const N=this.xref.fetchIfRef(A[0]);(0,F.isName)(N)&&(k=N.name)}const u=S.pos;let M;M="DCTDecode"===k||"DCT"===k?this.findDCTDecodeInlineStreamEnd(S):"ASCII85Decode"===k||"A85"===k?this.findASCII85DecodeInlineStreamEnd(S):"ASCIIHexDecode"===k||"AHx"===k?this.findASCIIHexDecodeInlineStreamEnd(S):this.findDefaultInlineStreamEnd(S);let O,C=S.makeSubStream(u,M,s);if(M<1e3&&l<5552){const N=C.getBytes();C.reset();const X=S.pos;S.pos=d.beginInlineImagePos;const H=S.getBytes(l);S.pos=X,O=p(N)+"_"+p(H);const D=this.imageCache[O];if(void 0!==D)return this.buf2=F.Cmd.get("EI"),this.shift(),D.reset(),D}return i&&(C=i.createStream(C,M)),C=this.filter(C,s,M),C.dict=s,void 0!==O&&(C.cacheKey=`inline_${M}_${O}`,this.imageCache[O]=C),this.buf2=F.Cmd.get("EI"),this.shift(),C}_findStreamLength(i,d){const{stream:S}=this.lexer;S.pos=i;const s=d.length;for(;S.pos<S.end;){const l=S.peekBytes(2048),A=l.length-s;if(A<=0)break;let k=0;for(;k<A;){let u=0;for(;u<s&&l[k+u]===d[u];)u++;if(u>=s)return S.pos+=k,S.pos-i;k++}S.pos+=A}return-1}makeStream(i,d){const S=this.lexer;let s=S.stream;S.skipToNextLine();const l=s.pos-1;let A=i.get("Length");if(Number.isInteger(A)||((0,t.info)(`Bad length "${A}" in stream`),A=0),s.pos=l+A,S.nextChar(),this.tryShift()&&(0,F.isCmd)(this.buf2,"endstream"))this.shift();else{const k=new Uint8Array([101,110,100,115,116,114,101,97,109]);let u=this._findStreamLength(l,k);if(u<0){for(let O=1;O<=1;O++){const C=k.length-O,N=k.slice(0,C),X=this._findStreamLength(l,N);if(X>=0){const H=s.peekBytes(C+1)[C];if(!(0,R.isWhiteSpace)(H))break;(0,t.info)(`Found "${(0,t.bytesToString)(N)}" when searching for endstream command.`),u=X;break}}if(u<0)throw new t.FormatError("Missing endstream command.")}A=u,S.nextChar(),this.shift(),this.shift()}return this.shift(),s=s.makeSubStream(l,A,i),d&&(s=d.createStream(s,A)),s=this.filter(s,i,A),s.dict=i,s}filter(i,d,S){let s=d.get("Filter","F"),l=d.get("DecodeParms","DP");if((0,F.isName)(s))return Array.isArray(l)&&(0,t.warn)("/DecodeParms should not contain an Array, when /Filter contains a Name."),this.makeFilter(i,s.name,S,l);let A=S;if(Array.isArray(s)){const k=s,u=l;for(let M=0,O=k.length;M<O;++M){if(s=this.xref.fetchIfRef(k[M]),!(0,F.isName)(s))throw new t.FormatError(`Bad filter name "${s}"`);l=null,Array.isArray(u)&&M in u&&(l=this.xref.fetchIfRef(u[M])),i=this.makeFilter(i,s.name,A,l),A=null}}return i}makeFilter(i,d,S,s){if(0===S)return(0,t.warn)(`Empty "${d}" stream.`),new h.NullStream;try{const l=this.xref.stats.streamTypes;if("FlateDecode"===d||"Fl"===d)return l[t.StreamType.FLATE]=!0,s?new n.PredictorStream(new P.FlateStream(i,S),S,s):new P.FlateStream(i,S);if("LZWDecode"===d||"LZW"===d){l[t.StreamType.LZW]=!0;let A=1;return s?(s.has("EarlyChange")&&(A=s.get("EarlyChange")),new n.PredictorStream(new o.LZWStream(i,S,A),S,s)):new o.LZWStream(i,S,A)}return"DCTDecode"===d||"DCT"===d?(l[t.StreamType.DCT]=!0,new r.JpegStream(i,S,s)):"JPXDecode"===d||"JPX"===d?(l[t.StreamType.JPX]=!0,new w.JpxStream(i,S,s)):"ASCII85Decode"===d||"A85"===d?(l[t.StreamType.A85]=!0,new e.Ascii85Stream(i,S)):"ASCIIHexDecode"===d||"AHx"===d?(l[t.StreamType.AHX]=!0,new x.AsciiHexStream(i,S)):"CCITTFaxDecode"===d||"CCF"===d?(l[t.StreamType.CCF]=!0,new L.CCITTFaxStream(i,S,s)):"RunLengthDecode"===d||"RL"===d?(l[t.StreamType.RLX]=!0,new a.RunLengthStream(i,S)):"JBIG2Decode"===d?(l[t.StreamType.JBIG]=!0,new b.Jbig2Stream(i,S,s)):((0,t.warn)(`Filter "${d}" is not supported.`),i)}catch(l){if(l instanceof R.MissingDataException)throw l;return(0,t.warn)(`Invalid stream: "${l}"`),new h.NullStream}}}I.Parser=v;const m=[1,0,0,0,0,0,0,0,0,1,1,0,1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,2,0,0,2,2,0,0,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,0,2,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];function c(y){return y>=48&&y<=57?15&y:y>=65&&y<=70||y>=97&&y<=102?9+(15&y):-1}class f{constructor(i,d=null){this.stream=i,this.nextChar(),this.strBuf=[],this.knownCommands=d,this._hexStringNumWarn=0,this.beginInlineImagePos=-1}nextChar(){return this.currentChar=this.stream.getByte()}peekChar(){return this.stream.peekByte()}getNumber(){let i=this.currentChar,d=!1,S=0,s=0;if(45===i?(s=-1,i=this.nextChar(),45===i&&(i=this.nextChar())):43===i&&(s=1,i=this.nextChar()),10===i||13===i)do{i=this.nextChar()}while(10===i||13===i);if(46===i&&(S=10,i=this.nextChar()),i<48||i>57){if(10===S&&0===s&&((0,R.isWhiteSpace)(i)||-1===i))return(0,t.warn)("Lexer.getNumber - treating a single decimal point as zero."),0;throw new t.FormatError(`Invalid number: ${String.fromCharCode(i)} (charCode ${i})`)}s=s||1;let l=i-48,A=0,k=1;for(;(i=this.nextChar())>=0;)if(i>=48&&i<=57){const u=i-48;d?A=10*A+u:(0!==S&&(S*=10),l=10*l+u)}else if(46===i){if(0!==S)break;S=1}else if(45===i)(0,t.warn)("Badly formatted number: minus sign in the middle");else{if(69!==i&&101!==i)break;if(i=this.peekChar(),43===i||45===i)k=45===i?-1:1,this.nextChar();else if(i<48||i>57)break;d=!0}return 0!==S&&(l/=S),d&&(l*=10**(k*A)),s*l}getString(){let i=1,d=!1;const S=this.strBuf;S.length=0;let s=this.nextChar();for(;;){let l=!1;switch(0|s){case-1:(0,t.warn)("Unterminated string"),d=!0;break;case 40:++i,S.push("(");break;case 41:0==--i?(this.nextChar(),d=!0):S.push(")");break;case 92:switch(s=this.nextChar(),s){case-1:(0,t.warn)("Unterminated string"),d=!0;break;case 110:S.push("\n");break;case 114:S.push("\r");break;case 116:S.push("\t");break;case 98:S.push("\b");break;case 102:S.push("\f");break;case 92:case 40:case 41:S.push(String.fromCharCode(s));break;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:let A=15&s;s=this.nextChar(),l=!0,s>=48&&s<=55&&(A=(A<<3)+(15&s),s=this.nextChar(),s>=48&&s<=55&&(l=!1,A=(A<<3)+(15&s))),S.push(String.fromCharCode(A));break;case 13:10===this.peekChar()&&this.nextChar();break;case 10:break;default:S.push(String.fromCharCode(s))}break;default:S.push(String.fromCharCode(s))}if(d)break;l||(s=this.nextChar())}return S.join("")}getName(){let i,d;const S=this.strBuf;for(S.length=0;(i=this.nextChar())>=0&&!m[i];)if(35===i){if(i=this.nextChar(),m[i]){(0,t.warn)("Lexer_getName: NUMBER SIGN (#) should be followed by a hexadecimal number."),S.push("#");break}const s=c(i);if(-1!==s){d=i,i=this.nextChar();const l=c(i);if(-1===l){if((0,t.warn)(`Lexer_getName: Illegal digit (${String.fromCharCode(i)}) in hexadecimal number.`),S.push("#",String.fromCharCode(d)),m[i])break;S.push(String.fromCharCode(i));continue}S.push(String.fromCharCode(s<<4|l))}else S.push("#",String.fromCharCode(i))}else S.push(String.fromCharCode(i));return S.length>127&&(0,t.warn)(`Name token is longer than allowed by the spec: ${S.length}`),F.Name.get(S.join(""))}_hexStringWarn(i){5!=this._hexStringNumWarn++?this._hexStringNumWarn>5||(0,t.warn)(`getHexString - ignoring invalid character: ${i}`):(0,t.warn)("getHexString - ignoring additional invalid characters.")}getHexString(){const i=this.strBuf;i.length=0;let d,S,s=this.currentChar,l=!0;for(this._hexStringNumWarn=0;;){if(s<0){(0,t.warn)("Unterminated hex string");break}if(62===s){this.nextChar();break}if(1!==m[s]){if(l){if(d=c(s),-1===d){this._hexStringWarn(s),s=this.nextChar();continue}}else{if(S=c(s),-1===S){this._hexStringWarn(s),s=this.nextChar();continue}i.push(String.fromCharCode(d<<4|S))}l=!l,s=this.nextChar()}else s=this.nextChar()}return i.join("")}getObj(){let i=!1,d=this.currentChar;for(;;){if(d<0)return F.EOF;if(i)10!==d&&13!==d||(i=!1);else if(37===d)i=!0;else if(1!==m[d])break;d=this.nextChar()}switch(0|d){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return this.getNumber();case 40:return this.getString();case 47:return this.getName();case 91:return this.nextChar(),F.Cmd.get("[");case 93:return this.nextChar(),F.Cmd.get("]");case 60:return d=this.nextChar(),60===d?(this.nextChar(),F.Cmd.get("<<")):this.getHexString();case 62:return d=this.nextChar(),62===d?(this.nextChar(),F.Cmd.get(">>")):F.Cmd.get(">");case 123:return this.nextChar(),F.Cmd.get("{");case 125:return this.nextChar(),F.Cmd.get("}");case 41:throw this.nextChar(),new t.FormatError(`Illegal character: ${d}`)}let S=String.fromCharCode(d);const s=this.knownCommands;let l=s&&void 0!==s[S];for(;(d=this.nextChar())>=0&&!m[d];){const A=S+String.fromCharCode(d);if(l&&void 0===s[A])break;if(128===S.length)throw new t.FormatError(`Command token too long: ${S.length}`);S=A,l=s&&void 0!==s[S]}return"true"===S||"false"!==S&&("null"===S?null:("BI"===S&&(this.beginInlineImagePos=this.stream.pos),F.Cmd.get(S)))}peekObj(){const i=this.stream.pos,d=this.currentChar,S=this.beginInlineImagePos;let s;try{s=this.getObj()}catch(l){if(l instanceof R.MissingDataException)throw l;(0,t.warn)(`peekObj: ${l}`)}return this.stream.pos=i,this.currentChar=d,this.beginInlineImagePos=S,s}skipToNextLine(){let i=this.currentChar;for(;i>=0;){if(13===i){i=this.nextChar(),10===i&&this.nextChar();break}if(10===i){this.nextChar();break}i=this.nextChar()}}}I.Lexer=f,I.Linearization=class{static create(i){function d(O,C,N=!1){const X=O.get(C);if(Number.isInteger(X)&&(N?X>=0:X>0))return X;throw new Error(`The "${C}" parameter in the linearization dictionary is invalid.`)}const S=new v({lexer:new f(i),xref:null}),s=S.getObj(),l=S.getObj(),A=S.getObj(),k=S.getObj();let u,M;if(!(Number.isInteger(s)&&Number.isInteger(l)&&(0,F.isCmd)(A,"obj")&&(0,F.isDict)(k)&&(0,t.isNum)(u=k.get("Linearized"))&&u>0))return null;if((M=d(k,"L"))!==i.length)throw new Error('The "L" parameter in the linearization dictionary does not equal the stream length.');return{length:M,hints:function(C){const N=C.get("H");let X;if(Array.isArray(N)&&(2===(X=N.length)||4===X)){for(let H=0;H<X;H++){const D=N[H];if(!(Number.isInteger(D)&&D>0))throw new Error(`Hint (${H}) in the linearization dictionary is invalid.`)}return N}throw new Error("Hint array in the linearization dictionary is invalid.")}(k),objectNumberFirst:d(k,"O"),endFirst:d(k,"E"),numPages:d(k,"N"),mainXRefEntriesOffset:d(k,"T"),pageFirst:k.has("P")?d(k,"P",!0):0}}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Ascii85Stream=void 0;var t=G(19),F=G(9);I.Ascii85Stream=class R extends t.DecodeStream{constructor(x,L){L&&(L*=.8),super(L),this.str=x,this.dict=x.dict,this.input=new Uint8Array(5)}readBlock(){const x=this.str;let L=x.getByte();for(;(0,F.isWhiteSpace)(L);)L=x.getByte();if(-1===L||126===L)return void(this.eof=!0);const P=this.bufferLength;let b,r;if(122===L){for(b=this.ensureBuffer(P+4),r=0;r<4;++r)b[P+r]=0;this.bufferLength+=4}else{const w=this.input;for(w[0]=L,r=1;r<5;++r){for(L=x.getByte();(0,F.isWhiteSpace)(L);)L=x.getByte();if(w[r]=L,-1===L||126===L)break}if(b=this.ensureBuffer(P+r-1),this.bufferLength+=r-1,r<5){for(;r<5;++r)w[r]=117;this.eof=!0}let o=0;for(r=0;r<5;++r)o=85*o+(w[r]-33);for(r=3;r>=0;--r)b[P+r]=255&o,o>>=8}}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.StreamsSequenceStream=I.DecodeStream=void 0;var t=G(6),F=G(10);const R=new Uint8Array(0);class e extends t.BaseStream{constructor(L){if(super(),this._rawMinBufferLength=L||0,this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=R,this.minBufferLength=512,L)for(;this.minBufferLength<L;)this.minBufferLength*=2}get isEmpty(){for(;!this.eof&&0===this.bufferLength;)this.readBlock();return 0===this.bufferLength}ensureBuffer(L){const P=this.buffer;if(L<=P.byteLength)return P;let b=this.minBufferLength;for(;b<L;)b*=2;const r=new Uint8Array(b);return r.set(P),this.buffer=r}getByte(){const L=this.pos;for(;this.bufferLength<=L;){if(this.eof)return-1;this.readBlock()}return this.buffer[this.pos++]}getBytes(L,P=!1){const b=this.pos;let r;if(L){for(this.ensureBuffer(b+L),r=b+L;!this.eof&&this.bufferLength<r;)this.readBlock();const o=this.bufferLength;r>o&&(r=o)}else{for(;!this.eof;)this.readBlock();r=this.bufferLength}this.pos=r;const w=this.buffer.subarray(b,r);return!P||w instanceof Uint8ClampedArray?w:new Uint8ClampedArray(w)}reset(){this.pos=0}makeSubStream(L,P,b=null){if(void 0===P)for(;!this.eof;)this.readBlock();else{const r=L+P;for(;this.bufferLength<=r&&!this.eof;)this.readBlock()}return new F.Stream(this.buffer,L,P,b)}getBaseStreams(){return this.str?this.str.getBaseStreams():null}}I.DecodeStream=e,I.StreamsSequenceStream=class extends e{constructor(L){let P=0;for(const b of L)P+=b instanceof e?b._rawMinBufferLength:b.length;super(P),this.streams=L}readBlock(){const L=this.streams;if(0===L.length)return void(this.eof=!0);const P=L.shift().getBytes(),b=this.bufferLength,r=b+P.length;this.ensureBuffer(r).set(P,b),this.bufferLength=r}getBaseStreams(){const L=[];for(const P of this.streams){const b=P.getBaseStreams();b&&L.push(...b)}return L.length>0?L:null}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.AsciiHexStream=void 0;var t=G(19);I.AsciiHexStream=class F extends t.DecodeStream{constructor(e,x){x&&(x*=.5),super(x),this.str=e,this.dict=e.dict,this.firstDigit=-1}readBlock(){const e=this.str.getBytes(8e3);if(!e.length)return void(this.eof=!0);const L=this.ensureBuffer(this.bufferLength+(e.length+1>>1));let P=this.bufferLength,b=this.firstDigit;for(const r of e){let w;if(r>=48&&r<=57)w=15&r;else{if(!(r>=65&&r<=70||r>=97&&r<=102)){if(62===r){this.eof=!0;break}continue}w=9+(15&r)}b<0?b=w:(L[P++]=b<<4|w,b=-1)}b>=0&&this.eof&&(L[P++]=b<<4,b=-1),this.firstDigit=b,this.bufferLength=P}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.CCITTFaxStream=void 0;var t=G(5),F=G(22),R=G(19);I.CCITTFaxStream=class e extends R.DecodeStream{constructor(L,P,b){super(P),this.str=L,this.dict=L.dict,(0,t.isDict)(b)||(b=t.Dict.empty),this.ccittFaxDecoder=new F.CCITTFaxDecoder({next:()=>L.getByte()},{K:b.get("K"),EndOfLine:b.get("EndOfLine"),EncodedByteAlign:b.get("EncodedByteAlign"),Columns:b.get("Columns"),Rows:b.get("Rows"),EndOfBlock:b.get("EndOfBlock"),BlackIs1:b.get("BlackIs1")})}readBlock(){for(;!this.eof;){const L=this.ccittFaxDecoder.readNextChar();if(-1===L)return void(this.eof=!0);this.ensureBuffer(this.bufferLength+1),this.buffer[this.bufferLength++]=L}}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.CCITTFaxDecoder=void 0;var t=G(2);const F=-1,R=[[-1,-1],[-1,-1],[7,8],[7,7],[6,6],[6,6],[6,5],[6,5],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[4,0],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[3,3],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2],[1,2]],e=[[-1,-1],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[12,1984],[12,2048],[12,2112],[12,2176],[12,2240],[12,2304],[11,1856],[11,1856],[11,1920],[11,1920],[12,2368],[12,2432],[12,2496],[12,2560]],x=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[8,29],[8,29],[8,30],[8,30],[8,45],[8,45],[8,46],[8,46],[7,22],[7,22],[7,22],[7,22],[7,23],[7,23],[7,23],[7,23],[8,47],[8,47],[8,48],[8,48],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[6,13],[7,20],[7,20],[7,20],[7,20],[8,33],[8,33],[8,34],[8,34],[8,35],[8,35],[8,36],[8,36],[8,37],[8,37],[8,38],[8,38],[7,19],[7,19],[7,19],[7,19],[8,31],[8,31],[8,32],[8,32],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[6,12],[8,53],[8,53],[8,54],[8,54],[7,26],[7,26],[7,26],[7,26],[8,39],[8,39],[8,40],[8,40],[8,41],[8,41],[8,42],[8,42],[8,43],[8,43],[8,44],[8,44],[7,21],[7,21],[7,21],[7,21],[7,28],[7,28],[7,28],[7,28],[8,61],[8,61],[8,62],[8,62],[8,63],[8,63],[8,0],[8,0],[8,320],[8,320],[8,384],[8,384],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,10],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[5,11],[7,27],[7,27],[7,27],[7,27],[8,59],[8,59],[8,60],[8,60],[9,1472],[9,1536],[9,1600],[9,1728],[7,18],[7,18],[7,18],[7,18],[7,24],[7,24],[7,24],[7,24],[8,49],[8,49],[8,50],[8,50],[8,51],[8,51],[8,52],[8,52],[7,25],[7,25],[7,25],[7,25],[8,55],[8,55],[8,56],[8,56],[8,57],[8,57],[8,58],[8,58],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,192],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[6,1664],[8,448],[8,448],[8,512],[8,512],[9,704],[9,768],[8,640],[8,640],[8,576],[8,576],[9,832],[9,896],[9,960],[9,1024],[9,1088],[9,1152],[9,1216],[9,1280],[9,1344],[9,1408],[7,256],[7,256],[7,256],[7,256],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,2],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,128],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,8],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[5,9],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,16],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[6,17],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,4],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[4,5],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,14],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[6,15],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[5,64],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,6],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7],[4,7]],L=[[-1,-1],[-1,-1],[12,-2],[12,-2],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[-1,-1],[11,1792],[11,1792],[11,1792],[11,1792],[12,1984],[12,1984],[12,2048],[12,2048],[12,2112],[12,2112],[12,2176],[12,2176],[12,2240],[12,2240],[12,2304],[12,2304],[11,1856],[11,1856],[11,1856],[11,1856],[11,1920],[11,1920],[11,1920],[11,1920],[12,2368],[12,2368],[12,2432],[12,2432],[12,2496],[12,2496],[12,2560],[12,2560],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[10,18],[12,52],[12,52],[13,640],[13,704],[13,768],[13,832],[12,55],[12,55],[12,56],[12,56],[13,1280],[13,1344],[13,1408],[13,1472],[12,59],[12,59],[12,60],[12,60],[13,1536],[13,1600],[11,24],[11,24],[11,24],[11,24],[11,25],[11,25],[11,25],[11,25],[13,1664],[13,1728],[12,320],[12,320],[12,384],[12,384],[12,448],[12,448],[13,512],[13,576],[12,53],[12,53],[12,54],[12,54],[13,896],[13,960],[13,1024],[13,1088],[13,1152],[13,1216],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64],[10,64]],P=[[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[8,13],[11,23],[11,23],[12,50],[12,51],[12,44],[12,45],[12,46],[12,47],[12,57],[12,58],[12,61],[12,256],[10,16],[10,16],[10,16],[10,16],[10,17],[10,17],[10,17],[10,17],[12,48],[12,49],[12,62],[12,63],[12,30],[12,31],[12,32],[12,33],[12,40],[12,41],[11,22],[11,22],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[8,14],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,10],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[7,11],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[9,15],[12,128],[12,192],[12,26],[12,27],[12,28],[12,29],[11,19],[11,19],[11,20],[11,20],[12,34],[12,35],[12,36],[12,37],[12,38],[12,39],[11,21],[11,21],[12,42],[12,43],[10,0],[10,0],[10,0],[10,0],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12],[7,12]],b=[[-1,-1],[-1,-1],[-1,-1],[-1,-1],[6,9],[6,8],[5,7],[5,7],[4,6],[4,6],[4,6],[4,6],[4,5],[4,5],[4,5],[4,5],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,1],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[3,4],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,3],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2],[2,2]];I.CCITTFaxDecoder=class{constructor(w,o={}){if(!w||"function"!=typeof w.next)throw new Error('CCITTFaxDecoder - invalid "source" parameter.');this.source=w,this.eof=!1,this.encoding=o.K||0,this.eoline=o.EndOfLine||!1,this.byteAlign=o.EncodedByteAlign||!1,this.columns=o.Columns||1728,this.rows=o.Rows||0;let h,n=o.EndOfBlock;for(null==n&&(n=!0),this.eoblock=n,this.black=o.BlackIs1||!1,this.codingLine=new Uint32Array(this.columns+1),this.refLine=new Uint32Array(this.columns+2),this.codingLine[0]=this.columns,this.codingPos=0,this.row=0,this.nextLine2D=this.encoding<0,this.inputBits=0,this.inputBuf=0,this.outputBits=0,this.rowsDone=!1;0===(h=this._lookBits(12));)this._eatBits(1);1===h&&this._eatBits(12),this.encoding>0&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1))}readNextChar(){if(this.eof)return-1;const w=this.refLine,o=this.codingLine,h=this.columns;let n,a,p,v,m;if(0===this.outputBits){if(this.rowsDone&&(this.eof=!0),this.eof)return-1;let c,f,y;if(this.err=!1,this.nextLine2D){for(v=0;o[v]<h;++v)w[v]=o[v];for(w[v++]=h,w[v]=h,o[0]=0,this.codingPos=0,n=0,a=0;o[this.codingPos]<h;)switch(c=this._getTwoDimCode(),c){case 0:this._addPixels(w[n+1],a),w[n+1]<h&&(n+=2);break;case 1:if(c=f=0,a){do{c+=y=this._getBlackCode()}while(y>=64);do{f+=y=this._getWhiteCode()}while(y>=64)}else{do{c+=y=this._getWhiteCode()}while(y>=64);do{f+=y=this._getBlackCode()}while(y>=64)}for(this._addPixels(o[this.codingPos]+c,a),o[this.codingPos]<h&&this._addPixels(o[this.codingPos]+f,1^a);w[n]<=o[this.codingPos]&&w[n]<h;)n+=2;break;case 7:if(this._addPixels(w[n]+3,a),a^=1,o[this.codingPos]<h)for(++n;w[n]<=o[this.codingPos]&&w[n]<h;)n+=2;break;case 5:if(this._addPixels(w[n]+2,a),a^=1,o[this.codingPos]<h)for(++n;w[n]<=o[this.codingPos]&&w[n]<h;)n+=2;break;case 3:if(this._addPixels(w[n]+1,a),a^=1,o[this.codingPos]<h)for(++n;w[n]<=o[this.codingPos]&&w[n]<h;)n+=2;break;case 2:if(this._addPixels(w[n],a),a^=1,o[this.codingPos]<h)for(++n;w[n]<=o[this.codingPos]&&w[n]<h;)n+=2;break;case 8:if(this._addPixelsNeg(w[n]-3,a),a^=1,o[this.codingPos]<h)for(n>0?--n:++n;w[n]<=o[this.codingPos]&&w[n]<h;)n+=2;break;case 6:if(this._addPixelsNeg(w[n]-2,a),a^=1,o[this.codingPos]<h)for(n>0?--n:++n;w[n]<=o[this.codingPos]&&w[n]<h;)n+=2;break;case 4:if(this._addPixelsNeg(w[n]-1,a),a^=1,o[this.codingPos]<h)for(n>0?--n:++n;w[n]<=o[this.codingPos]&&w[n]<h;)n+=2;break;case F:this._addPixels(h,0),this.eof=!0;break;default:(0,t.info)("bad 2d code"),this._addPixels(h,0),this.err=!0}}else for(o[0]=0,this.codingPos=0,a=0;o[this.codingPos]<h;){if(c=0,a)do{c+=y=this._getBlackCode()}while(y>=64);else do{c+=y=this._getWhiteCode()}while(y>=64);this._addPixels(o[this.codingPos]+c,a),a^=1}let i=!1;if(this.byteAlign&&(this.inputBits&=-8),this.eoblock||this.row!==this.rows-1){if(c=this._lookBits(12),this.eoline)for(;c!==F&&1!==c;)this._eatBits(1),c=this._lookBits(12);else for(;0===c;)this._eatBits(1),c=this._lookBits(12);1===c?(this._eatBits(12),i=!0):c===F&&(this.eof=!0)}else this.rowsDone=!0;if(!this.eof&&this.encoding>0&&!this.rowsDone&&(this.nextLine2D=!this._lookBits(1),this._eatBits(1)),this.eoblock&&i&&this.byteAlign){if(c=this._lookBits(12),1===c){if(this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1)),this.encoding>=0)for(v=0;v<4;++v)c=this._lookBits(12),1!==c&&(0,t.info)("bad rtc code: "+c),this._eatBits(12),this.encoding>0&&(this._lookBits(1),this._eatBits(1));this.eof=!0}}else if(this.err&&this.eoline){for(;;){if(c=this._lookBits(13),c===F)return this.eof=!0,-1;if(c>>1==1)break;this._eatBits(1)}this._eatBits(12),this.encoding>0&&(this._eatBits(1),this.nextLine2D=!(1&c))}this.outputBits=o[0]>0?o[this.codingPos=0]:o[this.codingPos=1],this.row++}if(this.outputBits>=8)m=1&this.codingPos?0:255,this.outputBits-=8,0===this.outputBits&&o[this.codingPos]<h&&(this.codingPos++,this.outputBits=o[this.codingPos]-o[this.codingPos-1]);else{p=8,m=0;do{this.outputBits>p?(m<<=p,1&this.codingPos||(m|=255>>8-p),this.outputBits-=p,p=0):(m<<=this.outputBits,1&this.codingPos||(m|=255>>8-this.outputBits),p-=this.outputBits,this.outputBits=0,o[this.codingPos]<h?(this.codingPos++,this.outputBits=o[this.codingPos]-o[this.codingPos-1]):p>0&&(m<<=p,p=0))}while(p)}return this.black&&(m^=255),m}_addPixels(w,o){const h=this.codingLine;let n=this.codingPos;w>h[n]&&(w>this.columns&&((0,t.info)("row is wrong length"),this.err=!0,w=this.columns),1&n^o&&++n,h[n]=w),this.codingPos=n}_addPixelsNeg(w,o){const h=this.codingLine;let n=this.codingPos;if(w>h[n])w>this.columns&&((0,t.info)("row is wrong length"),this.err=!0,w=this.columns),1&n^o&&++n,h[n]=w;else if(w<h[n]){for(w<0&&((0,t.info)("invalid code"),this.err=!0,w=0);n>0&&w<h[n-1];)--n;h[n]=w}this.codingPos=n}_findTableCode(w,o,h,n){const a=n||0;for(let p=w;p<=o;++p){let v=this._lookBits(p);if(v===F)return[!0,1,!1];if(p<o&&(v<<=o-p),!a||v>=a){const m=h[v-a];if(m[0]===p)return this._eatBits(p),[!0,m[1],!0]}}return[!1,0,!1]}_getTwoDimCode(){let w,o=0;if(this.eoblock){if(o=this._lookBits(7),w=R[o],w&&w[0]>0)return this._eatBits(w[0]),w[1]}else{const h=this._findTableCode(1,7,R);if(h[0]&&h[2])return h[1]}return(0,t.info)("Bad two dim code"),F}_getWhiteCode(){let w,o=0;if(this.eoblock){if(o=this._lookBits(12),o===F)return 1;if(w=o>>5?x[o>>3]:e[o],w[0]>0)return this._eatBits(w[0]),w[1]}else{let h=this._findTableCode(1,9,x);if(h[0]||(h=this._findTableCode(11,12,e),h[0]))return h[1]}return(0,t.info)("bad white code"),this._eatBits(1),1}_getBlackCode(){let w,o;if(this.eoblock){if(w=this._lookBits(13),w===F)return 1;if(o=w>>7?!(w>>9)&&w>>7?P[(w>>1)-64]:b[w>>7]:L[w],o[0]>0)return this._eatBits(o[0]),o[1]}else{let h=this._findTableCode(2,6,b);if(h[0]||(h=this._findTableCode(7,12,P,64),h[0])||(h=this._findTableCode(10,13,L),h[0]))return h[1]}return(0,t.info)("bad black code"),this._eatBits(1),1}_lookBits(w){let o;for(;this.inputBits<w;){if(-1===(o=this.source.next()))return 0===this.inputBits?F:this.inputBuf<<w-this.inputBits&65535>>16-w;this.inputBuf=this.inputBuf<<8|o,this.inputBits+=8}return this.inputBuf>>this.inputBits-w&65535>>16-w}_eatBits(w){(this.inputBits-=w)<0&&(this.inputBits=0)}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.FlateStream=void 0;var t=G(19),F=G(2);const R=new Int32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),e=new Int32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),x=new Int32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),L=[new Int32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],P=[new Int32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];I.FlateStream=class b extends t.DecodeStream{constructor(w,o){super(o),this.str=w,this.dict=w.dict;const h=w.getByte(),n=w.getByte();if(-1===h||-1===n)throw new F.FormatError(`Invalid header in flate stream: ${h}, ${n}`);if(8!=(15&h))throw new F.FormatError(`Unknown compression method in flate stream: ${h}, ${n}`);if(((h<<8)+n)%31!=0)throw new F.FormatError(`Bad FCHECK in flate stream: ${h}, ${n}`);if(32&n)throw new F.FormatError(`FDICT bit set in flate stream: ${h}, ${n}`);this.codeSize=0,this.codeBuf=0}getBits(w){const o=this.str;let h,n=this.codeSize,a=this.codeBuf;for(;n<w;){if(-1===(h=o.getByte()))throw new F.FormatError("Bad encoding in flate stream");a|=h<<n,n+=8}return h=a&(1<<w)-1,this.codeBuf=a>>w,this.codeSize=n-=w,h}getCode(w){const o=this.str,h=w[0],n=w[1];let a,p=this.codeSize,v=this.codeBuf;for(;p<n&&-1!==(a=o.getByte());)v|=a<<p,p+=8;const m=h[v&(1<<n)-1],c=m>>16,f=65535&m;if(c<1||p<c)throw new F.FormatError("Bad encoding in flate stream");return this.codeBuf=v>>c,this.codeSize=p-c,f}generateHuffmanTable(w){const o=w.length;let h,n=0;for(h=0;h<o;++h)w[h]>n&&(n=w[h]);const a=1<<n,p=new Int32Array(a);for(let v=1,m=0,c=2;v<=n;++v,m<<=1,c<<=1)for(let f=0;f<o;++f)if(w[f]===v){let y=0,i=m;for(h=0;h<v;++h)y=y<<1|1&i,i>>=1;for(h=y;h<a;h+=c)p[h]=v<<16|f;++m}return[p,n]}readBlock(){let w,o;const h=this.str;let n,a,p=this.getBits(3);if(1&p&&(this.eof=!0),p>>=1,0===p){let c;if(-1===(c=h.getByte()))throw new F.FormatError("Bad block header in flate stream");let f=c;if(-1===(c=h.getByte()))throw new F.FormatError("Bad block header in flate stream");if(f|=c<<8,-1===(c=h.getByte()))throw new F.FormatError("Bad block header in flate stream");let y=c;if(-1===(c=h.getByte()))throw new F.FormatError("Bad block header in flate stream");if(y|=c<<8,y!==(65535&~f)&&(0!==f||0!==y))throw new F.FormatError("Bad uncompressed block length in flate stream");this.codeBuf=0,this.codeSize=0;const i=this.bufferLength,d=i+f;if(w=this.ensureBuffer(d),this.bufferLength=d,0===f)-1===h.peekByte()&&(this.eof=!0);else{const S=h.getBytes(f);w.set(S,i),S.length<f&&(this.eof=!0)}return}if(1===p)n=L,a=P;else{if(2!==p)throw new F.FormatError("Unknown block type in flate stream");{const c=this.getBits(5)+257,f=this.getBits(5)+1,y=this.getBits(4)+4,i=new Uint8Array(R.length);let d;for(d=0;d<y;++d)i[R[d]]=this.getBits(3);const S=this.generateHuffmanTable(i);o=0,d=0;const s=c+f,l=new Uint8Array(s);let A,k,u;for(;d<s;){const M=this.getCode(S);if(16===M)A=2,k=3,u=o;else if(17===M)A=3,k=3,u=o=0;else{if(18!==M){l[d++]=o=M;continue}A=7,k=11,u=o=0}let O=this.getBits(A)+k;for(;O-- >0;)l[d++]=u}n=this.generateHuffmanTable(l.subarray(0,c)),a=this.generateHuffmanTable(l.subarray(c,s))}}w=this.buffer;let v=w?w.length:0,m=this.bufferLength;for(;;){let c=this.getCode(n);if(c<256){m+1>=v&&(w=this.ensureBuffer(m+1),v=w.length),w[m++]=c;continue}if(256===c)return void(this.bufferLength=m);c-=257,c=e[c];let f=c>>16;f>0&&(f=this.getBits(f)),o=(65535&c)+f,c=this.getCode(a),c=x[c],f=c>>16,f>0&&(f=this.getBits(f));const y=(65535&c)+f;m+o>=v&&(w=this.ensureBuffer(m+o),v=w.length);for(let i=0;i<o;++i,++m)w[m]=w[m-y]}}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Jbig2Stream=void 0;var t=G(5),F=G(19),R=G(25),e=G(2);I.Jbig2Stream=class x extends F.DecodeStream{constructor(P,b,r){super(b),this.stream=P,this.dict=P.dict,this.maybeLength=b,this.params=r}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(P){}readBlock(){if(this.eof)return;const P=new R.Jbig2Image,b=[];if((0,t.isDict)(this.params)){const o=this.params.get("JBIG2Globals");if((0,t.isStream)(o)){const h=o.getBytes();b.push({data:h,start:0,end:h.length})}}b.push({data:this.bytes,start:0,end:this.bytes.length});const r=P.parseChunks(b),w=r.length;for(let o=0;o<w;o++)r[o]^=255;this.buffer=r,this.bufferLength=w,this.eof=!0}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Jbig2Image=void 0;var t=G(2),F=G(9),R=G(26),e=G(22);class x extends t.BaseException{constructor(D){super(`JBIG2 error: ${D}`)}}class L{getContexts(D){return D in this?this[D]:this[D]=new Int8Array(65536)}}class P{constructor(D,j,_){this.data=D,this.start=j,this.end=_}get decoder(){const D=new R.ArithmeticDecoder(this.data,this.start,this.end);return(0,t.shadow)(this,"decoder",D)}get contextCache(){const D=new L;return(0,t.shadow)(this,"contextCache",D)}}function b(H,D,j){const _=H.getContexts(D);let T=1;function U($){let B=0;for(let W=0;W<$;W++){const V=j.readBit(_,T);T=T<256?T<<1|V:511&(T<<1|V)|256,B=B<<1|V}return B>>>0}const q=U(1),E=U(1)?U(1)?U(1)?U(1)?U(1)?U(32)+4436:U(12)+340:U(8)+84:U(6)+20:U(4)+4:U(2);return 0===q?E:E>0?-E:null}function r(H,D,j){const _=H.getContexts("IAID");let T=1;for(let U=0;U<j;U++)T=T<<1|D.readBit(_,T);return j<31?T&(1<<j)-1:2147483647&T}const w=["SymbolDictionary",null,null,null,"IntermediateTextRegion",null,"ImmediateTextRegion","ImmediateLosslessTextRegion",null,null,null,null,null,null,null,null,"PatternDictionary",null,null,null,"IntermediateHalftoneRegion",null,"ImmediateHalftoneRegion","ImmediateLosslessHalftoneRegion",null,null,null,null,null,null,null,null,null,null,null,null,"IntermediateGenericRegion",null,"ImmediateGenericRegion","ImmediateLosslessGenericRegion","IntermediateGenericRefinementRegion",null,"ImmediateGenericRefinementRegion","ImmediateLosslessGenericRefinementRegion",null,null,null,null,"PageInformation","EndOfPage","EndOfStripe","EndOfFile","Profiles","Tables",null,null,null,null,null,null,null,null,"Extension"],o=[[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:2,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:2,y:-1},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}],[{x:-1,y:-2},{x:0,y:-2},{x:1,y:-2},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-2,y:0},{x:-1,y:0}],[{x:-3,y:-1},{x:-2,y:-1},{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-4,y:0},{x:-3,y:0},{x:-2,y:0},{x:-1,y:0}]],h=[{coding:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:1,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:-1,y:1},{x:0,y:1},{x:1,y:1}]},{coding:[{x:-1,y:-1},{x:0,y:-1},{x:1,y:-1},{x:-1,y:0}],reference:[{x:0,y:-1},{x:-1,y:0},{x:0,y:0},{x:1,y:0},{x:0,y:1},{x:1,y:1}]}],n=[39717,1941,229,405],a=[32,8];function p(H,D,j,_,T,U,q,E){if(H)return X(new O(E.data,E.start,E.end),D,j,!1);if(0===_&&!U&&!T&&4===q.length&&3===q[0].x&&-1===q[0].y&&-3===q[1].x&&-1===q[1].y&&2===q[2].x&&-2===q[2].y&&-2===q[3].x&&-2===q[3].y)return function(fe,Pe,ke){const He=ke.decoder,Xe=ke.contextCache.getContexts("GB"),ce=[];let ge,we,_e,Me,ze,je,Be;for(we=0;we<Pe;we++)for(ze=ce[we]=new Uint8Array(fe),je=we<1?ze:ce[we-1],Be=we<2?ze:ce[we-2],ge=Be[0]<<13|Be[1]<<12|Be[2]<<11|je[0]<<7|je[1]<<6|je[2]<<5|je[3]<<4,_e=0;_e<fe;_e++)ze[_e]=Me=He.readBit(Xe,ge),ge=(31735&ge)<<1|(_e+3<fe?Be[_e+3]<<11:0)|(_e+4<fe?je[_e+4]<<4:0)|Me;return ce}(D,j,E);const $=!!U,B=o[_].concat(q);B.sort(function(ye,fe){return ye.y-fe.y||ye.x-fe.x});const W=B.length,V=new Int8Array(W),J=new Int8Array(W),Y=[];let z,Q,re=0,te=0,ae=0,se=0;for(Q=0;Q<W;Q++)V[Q]=B[Q].x,J[Q]=B[Q].y,te=Math.min(te,B[Q].x),ae=Math.max(ae,B[Q].x),se=Math.min(se,B[Q].y),Q<W-1&&B[Q].y===B[Q+1].y&&B[Q].x===B[Q+1].x-1?re|=1<<W-1-Q:Y.push(Q);const le=Y.length,ue=new Int8Array(le),oe=new Int8Array(le),me=new Uint16Array(le);for(z=0;z<le;z++)Q=Y[z],ue[z]=B[Q].x,oe[z]=B[Q].y,me[z]=1<<W-1-Q;const de=-te,Ae=-se,Ne=D-ae,Ee=n[_];let Re=new Uint8Array(D);const qe=[],Ue=E.decoder,Se=E.contextCache.getContexts("GB");let Ce,Oe,pe,ve,Ie,Te=0,be=0;for(let ye=0;ye<j;ye++)if(T&&(Te^=Ue.readBit(Se,Ee),Te))qe.push(Re);else for(Re=new Uint8Array(Re),qe.push(Re),Ce=0;Ce<D;Ce++){if($&&U[ye][Ce]){Re[Ce]=0;continue}if(Ce>=de&&Ce<Ne&&ye>=Ae)for(be=be<<1&re,Q=0;Q<le;Q++)Oe=ye+oe[Q],pe=Ce+ue[Q],ve=qe[Oe][pe],ve&&(ve=me[Q],be|=ve);else for(be=0,Ie=W-1,Q=0;Q<W;Q++,Ie--)pe=Ce+V[Q],pe>=0&&pe<D&&(Oe=ye+J[Q],Oe>=0&&(ve=qe[Oe][pe],ve&&(be|=ve<<Ie)));const fe=Ue.readBit(Se,be);Re[Ce]=fe}return qe}function v(H,D,j,_,T,U,q,E,$){let B=h[j].coding;0===j&&(B=B.concat([E[0]]));const W=B.length,V=new Int32Array(W),J=new Int32Array(W);let Y;for(Y=0;Y<W;Y++)V[Y]=B[Y].x,J[Y]=B[Y].y;let z=h[j].reference;0===j&&(z=z.concat([E[1]]));const Q=z.length,re=new Int32Array(Q),te=new Int32Array(Q);for(Y=0;Y<Q;Y++)re[Y]=z[Y].x,te[Y]=z[Y].y;const ae=_[0].length,se=_.length,le=a[j],ue=[],oe=$.decoder,me=$.contextCache.getContexts("GR");let de=0;for(let Ae=0;Ae<D;Ae++){if(q&&(de^=oe.readBit(me,le),de))throw new x("prediction is not supported");const Ne=new Uint8Array(H);ue.push(Ne);for(let Ee=0;Ee<H;Ee++){let Re,qe,Ue=0;for(Y=0;Y<W;Y++)Re=Ae+J[Y],qe=Ee+V[Y],Re<0||qe<0||qe>=H?Ue<<=1:Ue=Ue<<1|ue[Re][qe];for(Y=0;Y<Q;Y++)Re=Ae+te[Y]-U,qe=Ee+re[Y]-T,Re<0||Re>=se||qe<0||qe>=ae?Ue<<=1:Ue=Ue<<1|_[Re][qe];const Se=oe.readBit(me,Ue);Ne[Ee]=Se}}return ue}function m(H,D,j,_,T,U,q,E,$,B,W,V,J,Y,z,Q,re,te,ae){if(H&&D)throw new x("refinement with Huffman is not supported");const se=[];let le,ue;for(le=0;le<_;le++){if(ue=new Uint8Array(j),T)for(let Ne=0;Ne<j;Ne++)ue[Ne]=T;se.push(ue)}const oe=re.decoder,me=re.contextCache;let de=H?-Y.tableDeltaT.decode(ae):-b(me,"IADT",oe),Ae=0;for(le=0;le<U;){de+=H?Y.tableDeltaT.decode(ae):b(me,"IADT",oe),Ae+=H?Y.tableFirstS.decode(ae):b(me,"IAFS",oe);let Ne=Ae;for(;;){let Ee=0;q>1&&(Ee=H?ae.readBits(te):b(me,"IAIT",oe));const Re=q*de+Ee,qe=H?Y.symbolIDTable.decode(ae):r(me,oe,$),Ue=D&&(H?ae.readBit():b(me,"IARI",oe));let Se=E[qe],Ce=Se[0].length,Oe=Se.length;if(Ue){const fe=b(me,"IARDW",oe),Pe=b(me,"IARDH",oe);Ce+=fe,Oe+=Pe,Se=v(Ce,Oe,z,Se,(fe>>1)+b(me,"IARDX",oe),(Pe>>1)+b(me,"IARDY",oe),!1,Q,re)}const pe=Re-(1&V?0:Oe-1),ve=Ne-(2&V?Ce-1:0);let Ie,Te,be;if(B){for(Ie=0;Ie<Oe;Ie++){if(ue=se[ve+Ie],!ue)continue;be=Se[Ie];const fe=Math.min(j-pe,Ce);switch(J){case 0:for(Te=0;Te<fe;Te++)ue[pe+Te]|=be[Te];break;case 2:for(Te=0;Te<fe;Te++)ue[pe+Te]^=be[Te];break;default:throw new x(`operator ${J} is not supported`)}}Ne+=Oe-1}else{for(Te=0;Te<Oe;Te++)if(ue=se[pe+Te],ue)switch(be=Se[Te],J){case 0:for(Ie=0;Ie<Ce;Ie++)ue[ve+Ie]|=be[Ie];break;case 2:for(Ie=0;Ie<Ce;Ie++)ue[ve+Ie]^=be[Ie];break;default:throw new x(`operator ${J} is not supported`)}Ne+=Ce-1}le++;const ye=H?Y.tableDeltaS.decode(ae):b(me,"IADS",oe);if(null===ye)break;Ne+=ye+W}}return se}function c(H,D){const j={};j.number=(0,F.readUint32)(H,D);const _=H[D+4],T=63&_;if(!w[T])throw new x("invalid segment type: "+T);j.type=T,j.typeName=w[T],j.deferredNonRetain=!!(128&_);const U=!!(64&_),q=H[D+5];let E=q>>5&7;const $=[31&q];let B=D+6;if(7===q){E=536870911&(0,F.readUint32)(H,B-1),B+=3;let z=E+7>>3;for($[0]=H[B++];--z>0;)$.push(H[B++])}else if(5===q||6===q)throw new x("invalid referred-to flags");j.retainBits=$;let W=4;j.number<=256?W=1:j.number<=65536&&(W=2);const V=[];let J,Y;for(J=0;J<E;J++){let z;z=1===W?H[B]:2===W?(0,F.readUint16)(H,B):(0,F.readUint32)(H,B),V.push(z),B+=W}if(j.referredTo=V,U?(j.pageAssociation=(0,F.readUint32)(H,B),B+=4):j.pageAssociation=H[B++],j.length=(0,F.readUint32)(H,B),B+=4,4294967295===j.length){if(38!==T)throw new x("invalid unknown segment length");{const z=y(H,B),Q=!!(1&H[B+i]),re=6,te=new Uint8Array(re);for(Q||(te[0]=255,te[1]=172),te[2]=z.height>>>24&255,te[3]=z.height>>16&255,te[4]=z.height>>8&255,te[5]=255&z.height,J=B,Y=H.length;J<Y;J++){let ae=0;for(;ae<re&&te[ae]===H[J+ae];)ae++;if(ae===re){j.length=J+re;break}}if(4294967295===j.length)throw new x("segment end was not found")}}return j.headerEnd=B,j}function f(H,D,j,_){const T=[];let U=j;for(;U<_;){const q=c(D,U);U=q.headerEnd;const E={header:q,data:D};if(H.randomAccess||(E.start=U,U+=q.length,E.end=U),T.push(E),51===q.type)break}if(H.randomAccess)for(let q=0,E=T.length;q<E;q++)T[q].start=U,U+=T[q].header.length,T[q].end=U;return T}function y(H,D){return{width:(0,F.readUint32)(H,D),height:(0,F.readUint32)(H,D+4),x:(0,F.readUint32)(H,D+8),y:(0,F.readUint32)(H,D+12),combinationOperator:7&H[D+16]}}const i=17;function d(H,D){const j=H.header,_=H.data,T=H.end;let U,q,E,$,B=H.start;switch(j.type){case 0:const V={},J=(0,F.readUint16)(_,B);if(V.huffman=!!(1&J),V.refinement=!!(2&J),V.huffmanDHSelector=J>>2&3,V.huffmanDWSelector=J>>4&3,V.bitmapSizeSelector=J>>6&1,V.aggregationInstancesSelector=J>>7&1,V.bitmapCodingContextUsed=!!(256&J),V.bitmapCodingContextRetained=!!(512&J),V.template=J>>10&3,V.refinementTemplate=J>>12&1,B+=2,!V.huffman){for($=0===V.template?4:1,q=[],E=0;E<$;E++)q.push({x:(0,F.readInt8)(_,B),y:(0,F.readInt8)(_,B+1)}),B+=2;V.at=q}if(V.refinement&&!V.refinementTemplate){for(q=[],E=0;E<2;E++)q.push({x:(0,F.readInt8)(_,B),y:(0,F.readInt8)(_,B+1)}),B+=2;V.refinementAt=q}V.numberOfExportedSymbols=(0,F.readUint32)(_,B),B+=4,V.numberOfNewSymbols=(0,F.readUint32)(_,B),B+=4,U=[V,j.number,j.referredTo,_,B,T];break;case 6:case 7:const Y={};Y.info=y(_,B),B+=i;const z=(0,F.readUint16)(_,B);if(B+=2,Y.huffman=!!(1&z),Y.refinement=!!(2&z),Y.logStripSize=z>>2&3,Y.stripSize=1<<Y.logStripSize,Y.referenceCorner=z>>4&3,Y.transposed=!!(64&z),Y.combinationOperator=z>>7&3,Y.defaultPixelValue=z>>9&1,Y.dsOffset=z<<17>>27,Y.refinementTemplate=z>>15&1,Y.huffman){const me=(0,F.readUint16)(_,B);B+=2,Y.huffmanFS=3&me,Y.huffmanDS=me>>2&3,Y.huffmanDT=me>>4&3,Y.huffmanRefinementDW=me>>6&3,Y.huffmanRefinementDH=me>>8&3,Y.huffmanRefinementDX=me>>10&3,Y.huffmanRefinementDY=me>>12&3,Y.huffmanRefinementSizeSelector=!!(16384&me)}if(Y.refinement&&!Y.refinementTemplate){for(q=[],E=0;E<2;E++)q.push({x:(0,F.readInt8)(_,B),y:(0,F.readInt8)(_,B+1)}),B+=2;Y.refinementAt=q}Y.numberOfSymbolInstances=(0,F.readUint32)(_,B),B+=4,U=[Y,j.referredTo,_,B,T];break;case 16:const Q={},re=_[B++];Q.mmr=!!(1&re),Q.template=re>>1&3,Q.patternWidth=_[B++],Q.patternHeight=_[B++],Q.maxPatternIndex=(0,F.readUint32)(_,B),B+=4,U=[Q,j.number,_,B,T];break;case 22:case 23:const te={};te.info=y(_,B),B+=i;const ae=_[B++];te.mmr=!!(1&ae),te.template=ae>>1&3,te.enableSkip=!!(8&ae),te.combinationOperator=ae>>4&7,te.defaultPixelValue=ae>>7&1,te.gridWidth=(0,F.readUint32)(_,B),B+=4,te.gridHeight=(0,F.readUint32)(_,B),B+=4,te.gridOffsetX=4294967295&(0,F.readUint32)(_,B),B+=4,te.gridOffsetY=4294967295&(0,F.readUint32)(_,B),B+=4,te.gridVectorX=(0,F.readUint16)(_,B),B+=2,te.gridVectorY=(0,F.readUint16)(_,B),B+=2,U=[te,j.referredTo,_,B,T];break;case 38:case 39:const se={};se.info=y(_,B),B+=i;const le=_[B++];if(se.mmr=!!(1&le),se.template=le>>1&3,se.prediction=!!(8&le),!se.mmr){for($=0===se.template?4:1,q=[],E=0;E<$;E++)q.push({x:(0,F.readInt8)(_,B),y:(0,F.readInt8)(_,B+1)}),B+=2;se.at=q}U=[se,_,B,T];break;case 48:const ue={width:(0,F.readUint32)(_,B),height:(0,F.readUint32)(_,B+4),resolutionX:(0,F.readUint32)(_,B+8),resolutionY:(0,F.readUint32)(_,B+12)};4294967295===ue.height&&delete ue.height;const oe=_[B+16];(0,F.readUint16)(_,B+17),ue.lossless=!!(1&oe),ue.refinement=!!(2&oe),ue.defaultPixelValue=oe>>2&1,ue.combinationOperator=oe>>3&3,ue.requiresBuffer=!!(32&oe),ue.combinationOperatorOverride=!!(64&oe),U=[ue];break;case 49:case 50:case 51:case 62:break;case 53:U=[j.number,_,B,T];break;default:throw new x(`segment type ${j.typeName}(${j.type}) is not implemented`)}const W="on"+j.typeName;W in D&&D[W].apply(D,U)}function S(H,D){for(let j=0,_=H.length;j<_;j++)d(H[j],D)}class s{onPageInformation(D){this.currentPageInfo=D;const _=new Uint8ClampedArray((D.width+7>>3)*D.height);if(D.defaultPixelValue)for(let T=0,U=_.length;T<U;T++)_[T]=255;this.buffer=_}drawBitmap(D,j){const _=this.currentPageInfo,T=D.width,U=D.height,q=_.width+7>>3,E=_.combinationOperatorOverride?D.combinationOperator:_.combinationOperator,$=this.buffer,B=128>>(7&D.x);let W,V,J,Y,z=D.y*q+(D.x>>3);switch(E){case 0:for(W=0;W<U;W++){for(J=B,Y=z,V=0;V<T;V++)j[W][V]&&($[Y]|=J),J>>=1,J||(J=128,Y++);z+=q}break;case 2:for(W=0;W<U;W++){for(J=B,Y=z,V=0;V<T;V++)j[W][V]&&($[Y]^=J),J>>=1,J||(J=128,Y++);z+=q}break;default:throw new x(`operator ${E} is not supported`)}}onImmediateGenericRegion(D,j,_,T){const U=D.info,q=new P(j,_,T),E=p(D.mmr,U.width,U.height,D.template,D.prediction,null,D.at,q);this.drawBitmap(U,E)}onImmediateLosslessGenericRegion(){this.onImmediateGenericRegion.apply(this,arguments)}onSymbolDictionary(D,j,_,T,U,q){let E,$;D.huffman&&(E=function(Y,z,Q){let re,te,ae,se,le=0;switch(Y.huffmanDHSelector){case 0:case 1:re=M(Y.huffmanDHSelector+4);break;case 3:re=C(le,z,Q),le++;break;default:throw new x("invalid Huffman DH selector")}switch(Y.huffmanDWSelector){case 0:case 1:te=M(Y.huffmanDWSelector+2);break;case 3:te=C(le,z,Q),le++;break;default:throw new x("invalid Huffman DW selector")}return Y.bitmapSizeSelector?(ae=C(le,z,Q),le++):ae=M(1),se=Y.aggregationInstancesSelector?C(le,z,Q):M(1),{tableDeltaHeight:re,tableDeltaWidth:te,tableBitmapSize:ae,tableAggregateInstances:se}}(D,_,this.customTables),$=new O(T,U,q));let B=this.symbols;B||(this.symbols=B={});let W=[];for(let J=0,Y=_.length;J<Y;J++){const z=B[_[J]];z&&(W=W.concat(z))}const V=new P(T,U,q);B[j]=function(Y,z,Q,re,te,ae,se,le,ue,oe,me,de){if(Y&&z)throw new x("symbol refinement with Huffman is not supported");const Ae=[];let Ne=0,Ee=(0,F.log2)(Q.length+re);const Re=me.decoder,qe=me.contextCache;let Ue,Se;for(Y&&(Ue=M(1),Se=[],Ee=Math.max(Ee,1));Ae.length<re;){Ne+=Y?ae.tableDeltaHeight.decode(de):b(qe,"IADH",Re);let be=0,ye=0;const fe=Y?Se.length:0;for(;;){const Pe=Y?ae.tableDeltaWidth.decode(de):b(qe,"IADW",Re);if(null===Pe)break;let ke;if(be+=Pe,ye+=be,z){const He=b(qe,"IAAI",Re);if(He>1)ke=m(Y,z,be,Ne,0,He,1,Q.concat(Ae),Ee,0,0,1,0,ae,ue,oe,me,0,de);else{const Xe=r(qe,Re,Ee),ce=b(qe,"IARDX",Re),ge=b(qe,"IARDY",Re);ke=v(be,Ne,ue,Xe<Q.length?Q[Xe]:Ae[Xe-Q.length],ce,ge,!1,oe,me)}Ae.push(ke)}else Y?Se.push(be):(ke=p(!1,be,Ne,se,!1,null,le,me),Ae.push(ke))}if(Y&&!z){const Pe=ae.tableBitmapSize.decode(de);let ke;if(de.byteAlign(),0===Pe)ke=N(de,ye,Ne);else{const Xe=de.end,ce=de.position+Pe;de.end=ce,ke=X(de,ye,Ne,!1),de.end=Xe,de.position=ce}const He=Se.length;if(fe===He-1)Ae.push(ke);else{let Xe,ce,ge,we,_e,Me=0;for(Xe=fe;Xe<He;Xe++){for(we=Se[Xe],ge=Me+we,_e=[],ce=0;ce<Ne;ce++)_e.push(ke[ce].subarray(Me,ge));Ae.push(_e),Me=ge}}}}const Ce=[],Oe=[];let pe,ve,Ie=!1;const Te=Q.length+re;for(;Oe.length<Te;){let be=Y?Ue.decode(de):b(qe,"IAEX",Re);for(;be--;)Oe.push(Ie);Ie=!Ie}for(pe=0,ve=Q.length;pe<ve;pe++)Oe[pe]&&Ce.push(Q[pe]);for(let be=0;be<re;pe++,be++)Oe[pe]&&Ce.push(Ae[be]);return Ce}(D.huffman,D.refinement,W,D.numberOfNewSymbols,0,E,D.template,D.at,D.refinementTemplate,D.refinementAt,V,$)}onImmediateTextRegion(D,j,_,T,U){const q=D.info;let E,$;const B=this.symbols;let W=[];for(let z=0,Q=j.length;z<Q;z++){const re=B[j[z]];re&&(W=W.concat(re))}const V=(0,F.log2)(W.length);D.huffman&&($=new O(_,T,U),E=function(Q,re,te,ae,se){const le=[];for(let Ee=0;Ee<=34;Ee++){const Re=se.readBits(4);le.push(new l([Ee,Re,0,0]))}const ue=new k(le,!1);le.length=0;for(let Ee=0;Ee<ae;){const Re=ue.decode(se);if(Re>=32){let qe,Ue,Se;switch(Re){case 32:if(0===Ee)throw new x("no previous value in symbol ID table");Ue=se.readBits(2)+3,qe=le[Ee-1].prefixLength;break;case 33:Ue=se.readBits(3)+3,qe=0;break;case 34:Ue=se.readBits(7)+11,qe=0;break;default:throw new x("invalid code length in symbol ID table")}for(Se=0;Se<Ue;Se++)le.push(new l([Ee,qe,0,0])),Ee++}else le.push(new l([Ee,Re,0,0])),Ee++}se.byteAlign();const oe=new k(le,!1);let me,de,Ae,Ne=0;switch(Q.huffmanFS){case 0:case 1:me=M(Q.huffmanFS+6);break;case 3:me=C(Ne,re,te),Ne++;break;default:throw new x("invalid Huffman FS selector")}switch(Q.huffmanDS){case 0:case 1:case 2:de=M(Q.huffmanDS+8);break;case 3:de=C(Ne,re,te),Ne++;break;default:throw new x("invalid Huffman DS selector")}switch(Q.huffmanDT){case 0:case 1:case 2:Ae=M(Q.huffmanDT+11);break;case 3:Ae=C(Ne,re,te),Ne++;break;default:throw new x("invalid Huffman DT selector")}if(Q.refinement)throw new x("refinement with Huffman is not supported");return{symbolIDTable:oe,tableFirstS:me,tableDeltaS:de,tableDeltaT:Ae}}(D,j,this.customTables,W.length,$));const J=new P(_,T,U),Y=m(D.huffman,D.refinement,q.width,q.height,D.defaultPixelValue,D.numberOfSymbolInstances,D.stripSize,W,V,D.transposed,D.dsOffset,D.referenceCorner,D.combinationOperator,E,D.refinementTemplate,D.refinementAt,J,D.logStripSize,$);this.drawBitmap(q,Y)}onImmediateLosslessTextRegion(){this.onImmediateTextRegion.apply(this,arguments)}onPatternDictionary(D,j,_,T,U){let q=this.patterns;q||(this.patterns=q={});const E=new P(_,T,U);q[j]=function(B,W,V,J,Y,z){const Q=[];B||(Q.push({x:-W,y:0}),0===Y&&Q.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const re=p(B,(J+1)*W,V,Y,!1,null,Q,z),te=[];for(let ae=0;ae<=J;ae++){const se=[],le=W*ae,ue=le+W;for(let oe=0;oe<V;oe++)se.push(re[oe].subarray(le,ue));te.push(se)}return te}(D.mmr,D.patternWidth,D.patternHeight,D.maxPatternIndex,D.template,E)}onImmediateHalftoneRegion(D,j,_,T,U){const q=this.patterns[j[0]],E=D.info,$=new P(_,T,U),B=function(V,J,Y,z,Q,re,te,ae,se,le,ue,oe,me,de,Ae){if(te)throw new x("skip is not supported");if(0!==ae)throw new x(`operator "${ae}" is not supported in halftone region`);const Ne=[];let Ee,Re,qe;for(Ee=0;Ee<Q;Ee++){if(qe=new Uint8Array(z),re)for(Re=0;Re<z;Re++)qe[Re]=re;Ne.push(qe)}const Se=J[0],Ce=Se[0].length,Oe=Se.length,pe=(0,F.log2)(J.length),ve=[];V||(ve.push({x:Y<=1?3:2,y:-1}),0===Y&&ve.push({x:-3,y:-1},{x:2,y:-2},{x:-2,y:-2}));const Ie=[];let Te,be,ye,fe,Pe,ke,He,Xe,ce,ge,we;for(V&&(Te=new O(Ae.data,Ae.start,Ae.end)),Ee=pe-1;Ee>=0;Ee--)be=V?X(Te,se,le,!0):p(!1,se,le,Y,!1,null,ve,Ae),Ie[Ee]=be;for(ye=0;ye<le;ye++)for(fe=0;fe<se;fe++){for(Pe=0,ke=0,Re=pe-1;Re>=0;Re--)Pe^=Ie[Re][ye][fe],ke|=Pe<<Re;if(He=J[ke],Xe=ue+ye*de+fe*me>>8,ce=oe+ye*me-fe*de>>8,Xe>=0&&Xe+Ce<=z&&ce>=0&&ce+Oe<=Q)for(Ee=0;Ee<Oe;Ee++)for(we=Ne[ce+Ee],ge=He[Ee],Re=0;Re<Ce;Re++)we[Xe+Re]|=ge[Re];else{let _e,Me;for(Ee=0;Ee<Oe;Ee++)if(Me=ce+Ee,!(Me<0||Me>=Q))for(we=Ne[Me],ge=He[Ee],Re=0;Re<Ce;Re++)_e=Xe+Re,_e>=0&&_e<z&&(we[_e]|=ge[Re])}}return Ne}(D.mmr,q,D.template,E.width,E.height,D.defaultPixelValue,D.enableSkip,D.combinationOperator,D.gridWidth,D.gridHeight,D.gridOffsetX,D.gridOffsetY,D.gridVectorX,D.gridVectorY,$);this.drawBitmap(E,B)}onImmediateLosslessHalftoneRegion(){this.onImmediateHalftoneRegion.apply(this,arguments)}onTables(D,j,_,T){let U=this.customTables;U||(this.customTables=U={}),U[D]=function(E,$,B){const W=E[$],V=4294967295&(0,F.readUint32)(E,$+1),J=4294967295&(0,F.readUint32)(E,$+5),Y=new O(E,$+9,B),z=1+(W>>1&7),Q=1+(W>>4&7),re=[];let te,ae,se=V;do{te=Y.readBits(z),ae=Y.readBits(Q),re.push(new l([se,te,ae,0])),se+=1<<ae}while(se<J);return te=Y.readBits(z),re.push(new l([V-1,te,32,0,"lower"])),te=Y.readBits(z),re.push(new l([J,te,32,0])),1&W&&(te=Y.readBits(z),re.push(new l([te,0]))),new k(re,!1)}(j,_,T)}}class l{constructor(D){2===D.length?(this.isOOB=!0,this.rangeLow=0,this.prefixLength=D[0],this.rangeLength=0,this.prefixCode=D[1],this.isLowerRange=!1):(this.isOOB=!1,this.rangeLow=D[0],this.prefixLength=D[1],this.rangeLength=D[2],this.prefixCode=D[3],this.isLowerRange="lower"===D[4])}}class A{constructor(D){this.children=[],D?(this.isLeaf=!0,this.rangeLength=D.rangeLength,this.rangeLow=D.rangeLow,this.isLowerRange=D.isLowerRange,this.isOOB=D.isOOB):this.isLeaf=!1}buildTree(D,j){const _=D.prefixCode>>j&1;if(j<=0)this.children[_]=new A(D);else{let T=this.children[_];T||(this.children[_]=T=new A(null)),T.buildTree(D,j-1)}}decodeNode(D){if(this.isLeaf){if(this.isOOB)return null;const _=D.readBits(this.rangeLength);return this.rangeLow+(this.isLowerRange?-_:_)}const j=this.children[D.readBit()];if(!j)throw new x("invalid Huffman data");return j.decodeNode(D)}}class k{constructor(D,j){j||this.assignPrefixCodes(D),this.rootNode=new A(null);for(let _=0,T=D.length;_<T;_++){const U=D[_];U.prefixLength>0&&this.rootNode.buildTree(U,U.prefixLength-1)}}decode(D){return this.rootNode.decodeNode(D)}assignPrefixCodes(D){const j=D.length;let _=0;for(let W=0;W<j;W++)_=Math.max(_,D[W].prefixLength);const T=new Uint32Array(_+1);for(let W=0;W<j;W++)T[D[W].prefixLength]++;let U,q,E,$=1,B=0;for(T[0]=0;$<=_;){for(B=B+T[$-1]<<1,U=B,q=0;q<j;)E=D[q],E.prefixLength===$&&(E.prefixCode=U,U++),q++;$++}}}const u={};function M(H){let D,j=u[H];if(j)return j;switch(H){case 1:D=[[0,1,4,0],[16,2,8,2],[272,3,16,6],[65808,3,32,7]];break;case 2:D=[[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[75,6,32,62],[6,63]];break;case 3:D=[[-256,8,8,254],[0,1,0,0],[1,2,0,2],[2,3,0,6],[3,4,3,14],[11,5,6,30],[-257,8,32,255,"lower"],[75,7,32,126],[6,62]];break;case 4:D=[[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[76,5,32,31]];break;case 5:D=[[-255,7,8,126],[1,1,0,0],[2,2,0,2],[3,3,0,6],[4,4,3,14],[12,5,6,30],[-256,7,32,127,"lower"],[76,6,32,62]];break;case 6:D=[[-2048,5,10,28],[-1024,4,9,8],[-512,4,8,9],[-256,4,7,10],[-128,5,6,29],[-64,5,5,30],[-32,4,5,11],[0,2,7,0],[128,3,7,2],[256,3,8,3],[512,4,9,12],[1024,4,10,13],[-2049,6,32,62,"lower"],[2048,6,32,63]];break;case 7:D=[[-1024,4,9,8],[-512,3,8,0],[-256,4,7,9],[-128,5,6,26],[-64,5,5,27],[-32,4,5,10],[0,4,5,11],[32,5,5,28],[64,5,6,29],[128,4,7,12],[256,3,8,1],[512,3,9,2],[1024,3,10,3],[-1025,5,32,30,"lower"],[2048,5,32,31]];break;case 8:D=[[-15,8,3,252],[-7,9,1,508],[-5,8,1,253],[-3,9,0,509],[-2,7,0,124],[-1,4,0,10],[0,2,1,0],[2,5,0,26],[3,6,0,58],[4,3,4,4],[20,6,1,59],[22,4,4,11],[38,4,5,12],[70,5,6,27],[134,5,7,28],[262,6,7,60],[390,7,8,125],[646,6,10,61],[-16,9,32,510,"lower"],[1670,9,32,511],[2,1]];break;case 9:D=[[-31,8,4,252],[-15,9,2,508],[-11,8,2,253],[-7,9,1,509],[-5,7,1,124],[-3,4,1,10],[-1,3,1,2],[1,3,1,3],[3,5,1,26],[5,6,1,58],[7,3,5,4],[39,6,2,59],[43,4,5,11],[75,4,6,12],[139,5,7,27],[267,5,8,28],[523,6,8,60],[779,7,9,125],[1291,6,11,61],[-32,9,32,510,"lower"],[3339,9,32,511],[2,0]];break;case 10:D=[[-21,7,4,122],[-5,8,0,252],[-4,7,0,123],[-3,5,0,24],[-2,2,2,0],[2,5,0,25],[3,6,0,54],[4,7,0,124],[5,8,0,253],[6,2,6,1],[70,5,5,26],[102,6,5,55],[134,6,6,56],[198,6,7,57],[326,6,8,58],[582,6,9,59],[1094,6,10,60],[2118,7,11,125],[-22,8,32,254,"lower"],[4166,8,32,255],[2,2]];break;case 11:D=[[1,1,0,0],[2,2,1,2],[4,4,0,12],[5,4,1,13],[7,5,1,28],[9,5,2,29],[13,6,2,60],[17,7,2,122],[21,7,3,123],[29,7,4,124],[45,7,5,125],[77,7,6,126],[141,7,32,127]];break;case 12:D=[[1,1,0,0],[2,2,0,2],[3,3,1,6],[5,5,0,28],[6,5,1,29],[8,6,1,60],[10,7,0,122],[11,7,1,123],[13,7,2,124],[17,7,3,125],[25,7,4,126],[41,8,5,254],[73,8,32,255]];break;case 13:D=[[1,1,0,0],[2,3,0,4],[3,4,0,12],[4,5,0,28],[5,4,1,13],[7,3,3,5],[15,6,1,58],[17,6,2,59],[21,6,3,60],[29,6,4,61],[45,6,5,62],[77,7,6,126],[141,7,32,127]];break;case 14:D=[[-2,3,0,4],[-1,3,0,5],[0,1,0,0],[1,3,0,6],[2,3,0,7]];break;case 15:D=[[-24,7,4,124],[-8,6,2,60],[-4,5,1,28],[-2,4,0,12],[-1,3,0,4],[0,1,0,0],[1,3,0,5],[2,4,0,13],[3,5,1,29],[5,6,2,61],[9,7,4,125],[-25,7,32,126,"lower"],[25,7,32,127]];break;default:throw new x(`standard table B.${H} does not exist`)}for(let _=0,T=D.length;_<T;_++)D[_]=new l(D[_]);return j=new k(D,!0),u[H]=j,j}class O{constructor(D,j,_){this.data=D,this.start=j,this.end=_,this.position=j,this.shift=-1,this.currentByte=0}readBit(){if(this.shift<0){if(this.position>=this.end)throw new x("end of data while reading bit");this.currentByte=this.data[this.position++],this.shift=7}const D=this.currentByte>>this.shift&1;return this.shift--,D}readBits(D){let j,_=0;for(j=D-1;j>=0;j--)_|=this.readBit()<<j;return _}byteAlign(){this.shift=-1}next(){return this.position>=this.end?-1:this.data[this.position++]}}function C(H,D,j){let _=0;for(let T=0,U=D.length;T<U;T++){const q=j[D[T]];if(q){if(H===_)return q;_++}}throw new x("can't find custom Huffman table")}function N(H,D,j){const _=[];for(let T=0;T<j;T++){const U=new Uint8Array(D);_.push(U);for(let q=0;q<D;q++)U[q]=H.readBit();H.byteAlign()}return _}function X(H,D,j,_){const U=new e.CCITTFaxDecoder(H,{K:-1,Columns:D,Rows:j,BlackIs1:!0,EndOfBlock:_}),q=[];let E,$=!1;for(let B=0;B<j;B++){const W=new Uint8Array(D);q.push(W);let V=-1;for(let J=0;J<D;J++)V<0&&(E=U.readNextChar(),-1===E&&(E=0,$=!0),V=7),W[J]=E>>V&1,V--}if(_&&!$)for(let W=0;W<5&&-1!==U.readNextChar();W++);return q}I.Jbig2Image=class{parseChunks(D){return function(_){const T=new s;for(let U=0,q=_.length;U<q;U++){const E=_[U];S(f({},E.data,E.start,E.end),T)}return T.buffer}(D)}parse(D){const{imgData:j,width:_,height:T}=function(q){const E=q.length;let $=0;if(151!==q[$]||74!==q[$+1]||66!==q[$+2]||50!==q[$+3]||13!==q[$+4]||10!==q[$+5]||26!==q[$+6]||10!==q[$+7])throw new x("parseJbig2 - invalid header.");const B=Object.create(null);$+=8;const W=q[$++];B.randomAccess=!(1&W),2&W||(B.numberOfPages=(0,F.readUint32)(q,$),$+=4);const V=f(B,q,$,E),J=new s;S(V,J);const{width:Y,height:z}=J.currentPageInfo,Q=J.buffer,re=new Uint8ClampedArray(Y*z);let te=0,ae=0;for(let se=0;se<z;se++){let le,ue=0;for(let oe=0;oe<Y;oe++)ue||(ue=128,le=Q[ae++]),re[te++]=le&ue?0:255,ue>>=1}return{imgData:re,width:Y,height:z}}(D);return this.width=_,this.height=T,j}}},(ne,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.ArithmeticDecoder=void 0;const G=[{qe:22017,nmps:1,nlps:1,switchFlag:1},{qe:13313,nmps:2,nlps:6,switchFlag:0},{qe:6145,nmps:3,nlps:9,switchFlag:0},{qe:2753,nmps:4,nlps:12,switchFlag:0},{qe:1313,nmps:5,nlps:29,switchFlag:0},{qe:545,nmps:38,nlps:33,switchFlag:0},{qe:22017,nmps:7,nlps:6,switchFlag:1},{qe:21505,nmps:8,nlps:14,switchFlag:0},{qe:18433,nmps:9,nlps:14,switchFlag:0},{qe:14337,nmps:10,nlps:14,switchFlag:0},{qe:12289,nmps:11,nlps:17,switchFlag:0},{qe:9217,nmps:12,nlps:18,switchFlag:0},{qe:7169,nmps:13,nlps:20,switchFlag:0},{qe:5633,nmps:29,nlps:21,switchFlag:0},{qe:22017,nmps:15,nlps:14,switchFlag:1},{qe:21505,nmps:16,nlps:14,switchFlag:0},{qe:20737,nmps:17,nlps:15,switchFlag:0},{qe:18433,nmps:18,nlps:16,switchFlag:0},{qe:14337,nmps:19,nlps:17,switchFlag:0},{qe:13313,nmps:20,nlps:18,switchFlag:0},{qe:12289,nmps:21,nlps:19,switchFlag:0},{qe:10241,nmps:22,nlps:19,switchFlag:0},{qe:9217,nmps:23,nlps:20,switchFlag:0},{qe:8705,nmps:24,nlps:21,switchFlag:0},{qe:7169,nmps:25,nlps:22,switchFlag:0},{qe:6145,nmps:26,nlps:23,switchFlag:0},{qe:5633,nmps:27,nlps:24,switchFlag:0},{qe:5121,nmps:28,nlps:25,switchFlag:0},{qe:4609,nmps:29,nlps:26,switchFlag:0},{qe:4353,nmps:30,nlps:27,switchFlag:0},{qe:2753,nmps:31,nlps:28,switchFlag:0},{qe:2497,nmps:32,nlps:29,switchFlag:0},{qe:2209,nmps:33,nlps:30,switchFlag:0},{qe:1313,nmps:34,nlps:31,switchFlag:0},{qe:1089,nmps:35,nlps:32,switchFlag:0},{qe:673,nmps:36,nlps:33,switchFlag:0},{qe:545,nmps:37,nlps:34,switchFlag:0},{qe:321,nmps:38,nlps:35,switchFlag:0},{qe:273,nmps:39,nlps:36,switchFlag:0},{qe:133,nmps:40,nlps:37,switchFlag:0},{qe:73,nmps:41,nlps:38,switchFlag:0},{qe:37,nmps:42,nlps:39,switchFlag:0},{qe:21,nmps:43,nlps:40,switchFlag:0},{qe:9,nmps:44,nlps:41,switchFlag:0},{qe:5,nmps:45,nlps:42,switchFlag:0},{qe:1,nmps:45,nlps:43,switchFlag:0},{qe:22017,nmps:46,nlps:46,switchFlag:0}];I.ArithmeticDecoder=class{constructor(F,R,e){this.data=F,this.bp=R,this.dataEnd=e,this.chigh=F[R],this.clow=0,this.byteIn(),this.chigh=this.chigh<<7&65535|this.clow>>9&127,this.clow=this.clow<<7&65535,this.ct-=7,this.a=32768}byteIn(){const F=this.data;let R=this.bp;255===F[R]?F[R+1]>143?(this.clow+=65280,this.ct=8):(R++,this.clow+=F[R]<<9,this.ct=7,this.bp=R):(R++,this.clow+=R<this.dataEnd?F[R]<<8:65280,this.ct=8,this.bp=R),this.clow>65535&&(this.chigh+=this.clow>>16,this.clow&=65535)}readBit(F,R){let e=F[R]>>1,x=1&F[R];const L=G[e],P=L.qe;let b,r=this.a-P;if(this.chigh<P)r<P?(r=P,b=x,e=L.nmps):(r=P,b=1^x,1===L.switchFlag&&(x=b),e=L.nlps);else{if(this.chigh-=P,32768&r)return this.a=r,x;r<P?(b=1^x,1===L.switchFlag&&(x=b),e=L.nlps):(b=x,e=L.nmps)}do{0===this.ct&&this.byteIn(),r<<=1,this.chigh=this.chigh<<1&65535|this.clow>>15&1,this.clow=this.clow<<1&65535,this.ct--}while(!(32768&r));return this.a=r,F[R]=e<<1|x,b}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.JpegStream=void 0;var t=G(19),F=G(5),R=G(28),e=G(2);I.JpegStream=class x extends t.DecodeStream{constructor(P,b,r){let w;for(;-1!==(w=P.getByte());)if(255===w){P.skip(-1);break}super(b),this.stream=P,this.dict=P.dict,this.maybeLength=b,this.params=r}get bytes(){return(0,e.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(P){}readBlock(){if(this.eof)return;const P={decodeTransform:void 0,colorTransform:void 0},b=this.dict.getArray("Decode","D");if(this.forceRGB&&Array.isArray(b)){const o=this.dict.get("BitsPerComponent")||8,h=b.length,n=new Int32Array(h);let a=!1;const p=(1<<o)-1;for(let v=0;v<h;v+=2)n[v]=256*(b[v+1]-b[v])|0,n[v+1]=b[v]*p|0,256===n[v]&&0===n[v+1]||(a=!0);a&&(P.decodeTransform=n)}if((0,F.isDict)(this.params)){const o=this.params.get("ColorTransform");Number.isInteger(o)&&(P.colorTransform=o)}const r=new R.JpegImage(P);r.parse(this.bytes);const w=r.getData({width:this.drawWidth,height:this.drawHeight,forceRGB:this.forceRGB,isSourcePDF:!0});this.buffer=w,this.bufferLength=w.length,this.eof=!0}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.JpegImage=void 0;var t=G(2),F=G(9);class R extends t.BaseException{constructor(d){super(`JPEG error: ${d}`)}}class e extends t.BaseException{constructor(d,S){super(d),this.scanLines=S}}class x extends t.BaseException{}const L=new Uint8Array([0,1,8,16,9,2,3,10,17,24,32,25,18,11,4,5,12,19,26,33,40,48,41,34,27,20,13,6,7,14,21,28,35,42,49,56,57,50,43,36,29,22,15,23,30,37,44,51,58,59,52,45,38,31,39,46,53,60,61,54,47,55,62,63]),P=4017,b=799,r=3406,w=2276,o=1567,h=3784,n=5793,a=2896;function p(i,d){let S,s,l=0,A=16;for(;A>0&&!i[A-1];)A--;const k=[{children:[],index:0}];let u,M=k[0];for(S=0;S<A;S++){for(s=0;s<i[S];s++){for(M=k.pop(),M.children[M.index]=d[l];M.index>0;)M=k.pop();for(M.index++,k.push(M);k.length<=S;)k.push(u={children:[],index:0}),M.children[M.index]=u.children,M=u;l++}S+1<A&&(k.push(u={children:[],index:0}),M.children[M.index]=u.children,M=u)}return k[0].children}function v(i,d,S){return 64*((i.blocksPerLine+1)*d+S)}function m(i,d,S,s,l,A,k,u,M,O=!1){const C=S.mcusPerLine,X=d;let H=0,D=0;function j(){if(D>0)return D--,H>>D&1;if(H=i[d++],255===H){const de=i[d++];if(de){if(220===de&&O){const Ae=(0,F.readUint16)(i,d+=2);if(d+=2,Ae>0&&Ae!==S.scanLines)throw new e("Found DNL marker (0xFFDC) while parsing scan data",Ae)}else if(217===de){if(O){const Ae=B*(8===S.precision?8:0);if(Ae>0&&Math.round(S.scanLines/Ae)>=10)throw new e("Found EOI marker (0xFFD9) while parsing scan data, possibly caused by incorrect `scanLines` parameter",Ae)}throw new x("Found EOI marker (0xFFD9) while parsing scan data")}throw new R(`unexpected marker ${(H<<8|de).toString(16)}`)}}return D=7,H>>>7}function _(de){let Ae=de;for(;;){switch(Ae=Ae[j()],typeof Ae){case"number":return Ae;case"object":continue}throw new R("invalid huffman sequence")}}function T(de){let Ae=0;for(;de>0;)Ae=Ae<<1|j(),de--;return Ae}function U(de){if(1===de)return 1===j()?1:-1;const Ae=T(de);return Ae>=1<<de-1?Ae:Ae+(-1<<de)+1}let E,q=0,$=0,B=0;function W(de,Ae,Ne,Ee,Re){B=(Ne/C|0)*de.v+Ee,Ae(de,v(de,B,Ne%C*de.h+Re))}function V(de,Ae,Ne){B=Ne/de.blocksPerLine|0,Ae(de,v(de,B,Ne%de.blocksPerLine))}const J=s.length;let Y,z,Q,re,te,ae;ae=S.progressive?0===A?0===u?function(Ae,Ne){const Ee=_(Ae.huffmanTableDC),Re=0===Ee?0:U(Ee)<<M;Ae.blockData[Ne]=Ae.pred+=Re}:function(Ae,Ne){Ae.blockData[Ne]|=j()<<M}:0===u?function(Ae,Ne){if(q>0)return void q--;let Ee=A;const Re=k;for(;Ee<=Re;){const qe=_(Ae.huffmanTableAC),Ue=15&qe,Se=qe>>4;if(0!==Ue)Ee+=Se,Ae.blockData[Ne+L[Ee]]=U(Ue)*(1<<M),Ee++;else{if(Se<15){q=T(Se)+(1<<Se)-1;break}Ee+=16}}}:function(Ae,Ne){let Ee=A;const Re=k;let qe,Ue,Se=0;for(;Ee<=Re;){const Ce=Ne+L[Ee],Oe=Ae.blockData[Ce]<0?-1:1;switch($){case 0:if(Ue=_(Ae.huffmanTableAC),qe=15&Ue,Se=Ue>>4,0===qe)Se<15?(q=T(Se)+(1<<Se),$=4):(Se=16,$=1);else{if(1!==qe)throw new R("invalid ACn encoding");E=U(qe),$=Se?2:3}continue;case 1:case 2:Ae.blockData[Ce]?Ae.blockData[Ce]+=Oe*(j()<<M):(Se--,0===Se&&($=2===$?3:0));break;case 3:Ae.blockData[Ce]?Ae.blockData[Ce]+=Oe*(j()<<M):(Ae.blockData[Ce]=E<<M,$=0);break;case 4:Ae.blockData[Ce]&&(Ae.blockData[Ce]+=Oe*(j()<<M))}Ee++}4===$&&(q--,0===q&&($=0))}:function(Ae,Ne){const Ee=_(Ae.huffmanTableDC),Re=0===Ee?0:U(Ee);Ae.blockData[Ne]=Ae.pred+=Re;let qe=1;for(;qe<64;){const Ue=_(Ae.huffmanTableAC),Se=15&Ue,Ce=Ue>>4;if(0!==Se)qe+=Ce,Ae.blockData[Ne+L[qe]]=U(Se),qe++;else{if(Ce<15)break;qe+=16}}};let se,le,ue,oe,me=0;for(le=1===J?s[0].blocksPerLine*s[0].blocksPerColumn:C*S.mcusPerColumn;me<=le;){const de=l?Math.min(le-me,l):le;if(de>0){for(z=0;z<J;z++)s[z].pred=0;if(q=0,1===J)for(Y=s[0],te=0;te<de;te++)V(Y,ae,me),me++;else for(te=0;te<de;te++){for(z=0;z<J;z++)for(Y=s[z],ue=Y.h,oe=Y.v,Q=0;Q<oe;Q++)for(re=0;re<ue;re++)W(Y,ae,me,Q,re);me++}}if(D=0,se=y(i,d),!se)break;if(se.invalid&&((0,t.warn)(`decodeScan - ${de>0?"unexpected":"excessive"} MCU data, current marker is: ${se.invalid}`),d=se.offset),!(se.marker>=65488&&se.marker<=65495))break;d+=2}return d-X}function c(i,d,S){const s=i.quantizationTable,l=i.blockData;let A,k,u,M,O,C,N,X,H,D,j,_,T,U,q,E,$;if(!s)throw new R("missing required Quantization Table.");for(let B=0;B<64;B+=8)H=l[d+B],D=l[d+B+1],j=l[d+B+2],_=l[d+B+3],T=l[d+B+4],U=l[d+B+5],q=l[d+B+6],E=l[d+B+7],H*=s[B],D|j|_|T|U|q|E?(D*=s[B+1],j*=s[B+2],_*=s[B+3],T*=s[B+4],U*=s[B+5],q*=s[B+6],E*=s[B+7],A=n*H+128>>8,k=n*T+128>>8,u=j,M=q,O=a*(D-E)+128>>8,X=a*(D+E)+128>>8,C=_<<4,N=U<<4,A=A+k+1>>1,k=A-k,$=u*h+M*o+128>>8,u=u*o-M*h+128>>8,M=$,O=O+N+1>>1,N=O-N,X=X+C+1>>1,C=X-C,A=A+M+1>>1,M=A-M,k=k+u+1>>1,u=k-u,$=O*w+X*r+2048>>12,O=O*r-X*w+2048>>12,X=$,$=C*b+N*P+2048>>12,C=C*P-N*b+2048>>12,N=$,S[B]=A+X,S[B+7]=A-X,S[B+1]=k+N,S[B+6]=k-N,S[B+2]=u+C,S[B+5]=u-C,S[B+3]=M+O,S[B+4]=M-O):($=n*H+512>>10,S[B]=$,S[B+1]=$,S[B+2]=$,S[B+3]=$,S[B+4]=$,S[B+5]=$,S[B+6]=$,S[B+7]=$);for(let B=0;B<8;++B)H=S[B],D=S[B+8],j=S[B+16],_=S[B+24],T=S[B+32],U=S[B+40],q=S[B+48],E=S[B+56],D|j|_|T|U|q|E?(A=n*H+2048>>12,k=n*T+2048>>12,u=j,M=q,O=a*(D-E)+2048>>12,X=a*(D+E)+2048>>12,C=_,N=U,A=4112+(A+k+1>>1),k=A-k,$=u*h+M*o+2048>>12,u=u*o-M*h+2048>>12,M=$,O=O+N+1>>1,N=O-N,X=X+C+1>>1,C=X-C,A=A+M+1>>1,M=A-M,k=k+u+1>>1,u=k-u,$=O*w+X*r+2048>>12,O=O*r-X*w+2048>>12,X=$,$=C*b+N*P+2048>>12,C=C*P-N*b+2048>>12,N=$,H=A+X,E=A-X,D=k+N,q=k-N,j=u+C,U=u-C,_=M+O,T=M-O,H<16?H=0:H>=4080?H=255:H>>=4,D<16?D=0:D>=4080?D=255:D>>=4,j<16?j=0:j>=4080?j=255:j>>=4,_<16?_=0:_>=4080?_=255:_>>=4,T<16?T=0:T>=4080?T=255:T>>=4,U<16?U=0:U>=4080?U=255:U>>=4,q<16?q=0:q>=4080?q=255:q>>=4,E<16?E=0:E>=4080?E=255:E>>=4,l[d+B]=H,l[d+B+8]=D,l[d+B+16]=j,l[d+B+24]=_,l[d+B+32]=T,l[d+B+40]=U,l[d+B+48]=q,l[d+B+56]=E):($=n*H+8192>>14,$=$<-2040?0:$>=2024?255:$+2056>>4,l[d+B]=$,l[d+B+8]=$,l[d+B+16]=$,l[d+B+24]=$,l[d+B+32]=$,l[d+B+40]=$,l[d+B+48]=$,l[d+B+56]=$)}function f(i,d){const S=d.blocksPerLine,s=d.blocksPerColumn,l=new Int16Array(64);for(let A=0;A<s;A++)for(let k=0;k<S;k++)c(d,v(d,A,k),l);return d.blockData}function y(i,d,S=d){const s=i.length-1;let l=S<d?S:d;if(d>=s)return null;const A=(0,F.readUint16)(i,d);if(A>=65472&&A<=65534)return{invalid:null,marker:A,offset:d};let k=(0,F.readUint16)(i,l);for(;!(k>=65472&&k<=65534);){if(++l>=s)return null;k=(0,F.readUint16)(i,l)}return{invalid:A.toString(16),marker:k,offset:l}}I.JpegImage=class{constructor({decodeTransform:d=null,colorTransform:S=-1}={}){this._decodeTransform=d,this._colorTransform=S}parse(d,{dnlScanLines:S=null}={}){function s(){const j=(0,F.readUint16)(d,u);u+=2;let _=u+j-2;const T=y(d,_,u);T&&T.invalid&&((0,t.warn)("readDataBlock - incorrect length, current marker is: "+T.invalid),_=T.offset);const U=d.subarray(u,_);return u+=U.length,U}function l(j){const _=Math.ceil(j.samplesPerLine/8/j.maxH),T=Math.ceil(j.scanLines/8/j.maxV);for(let U=0,q=j.components.length;U<q;U++){const E=j.components[U],$=Math.ceil(Math.ceil(j.samplesPerLine/8)*E.h/j.maxH),B=Math.ceil(Math.ceil(j.scanLines/8)*E.v/j.maxV);E.blockData=new Int16Array(T*E.v*64*(_*E.h+1)),E.blocksPerLine=$,E.blocksPerColumn=B}j.mcusPerLine=_,j.mcusPerColumn=T}let A,k,u=0,M=null,O=null,C=0;const N=[],X=[],H=[];let D=(0,F.readUint16)(d,u);if(u+=2,65496!==D)throw new R("SOI not found");D=(0,F.readUint16)(d,u),u+=2;e:for(;65497!==D;){let j,_,T;switch(D){case 65504:case 65505:case 65506:case 65507:case 65508:case 65509:case 65510:case 65511:case 65512:case 65513:case 65514:case 65515:case 65516:case 65517:case 65518:case 65519:case 65534:const U=s();65504===D&&74===U[0]&&70===U[1]&&73===U[2]&&70===U[3]&&0===U[4]&&(M={version:{major:U[5],minor:U[6]},densityUnits:U[7],xDensity:U[8]<<8|U[9],yDensity:U[10]<<8|U[11],thumbWidth:U[12],thumbHeight:U[13],thumbData:U.subarray(14,14+3*U[12]*U[13])}),65518===D&&65===U[0]&&100===U[1]&&111===U[2]&&98===U[3]&&101===U[4]&&(O={version:U[5]<<8|U[6],flags0:U[7]<<8|U[8],flags1:U[9]<<8|U[10],transformCode:U[11]});break;case 65499:const q=(0,F.readUint16)(d,u);u+=2;const E=q+u-2;let $;for(;u<E;){const ue=d[u++],oe=new Uint16Array(64);if(ue>>4){if(ue>>4!=1)throw new R("DQT - invalid table spec");for(_=0;_<64;_++)$=L[_],oe[$]=(0,F.readUint16)(d,u),u+=2}else for(_=0;_<64;_++)$=L[_],oe[$]=d[u++];N[15&ue]=oe}break;case 65472:case 65473:case 65474:if(A)throw new R("Only single frame JPEGs supported");u+=2,A={},A.extended=65473===D,A.progressive=65474===D,A.precision=d[u++];const B=(0,F.readUint16)(d,u);u+=2,A.scanLines=S||B,A.samplesPerLine=(0,F.readUint16)(d,u),u+=2,A.components=[],A.componentIds={};const W=d[u++];let V=0,J=0;for(j=0;j<W;j++){const ue=d[u],oe=d[u+1]>>4,me=15&d[u+1];V<oe&&(V=oe),J<me&&(J=me),T=A.components.push({h:oe,v:me,quantizationId:d[u+2],quantizationTable:null}),A.componentIds[ue]=T-1,u+=3}A.maxH=V,A.maxV=J,l(A);break;case 65476:const Y=(0,F.readUint16)(d,u);for(u+=2,j=2;j<Y;){const ue=d[u++],oe=new Uint8Array(16);let me=0;for(_=0;_<16;_++,u++)me+=oe[_]=d[u];const de=new Uint8Array(me);for(_=0;_<me;_++,u++)de[_]=d[u];j+=17+me,(ue>>4?X:H)[15&ue]=p(oe,de)}break;case 65501:u+=2,k=(0,F.readUint16)(d,u),u+=2;break;case 65498:const z=1==++C&&!S;u+=2;const Q=d[u++],re=[];for(j=0;j<Q;j++){const ue=d[u++],me=A.components[A.componentIds[ue]];me.index=ue;const de=d[u++];me.huffmanTableDC=H[de>>4],me.huffmanTableAC=X[15&de],re.push(me)}const te=d[u++],ae=d[u++],se=d[u++];try{const ue=m(d,u,A,re,k,te,ae,se>>4,15&se,z);u+=ue}catch(ue){if(ue instanceof e)return(0,t.warn)(`${ue.message} -- attempting to re-parse the JPEG image.`),this.parse(d,{dnlScanLines:ue.scanLines});if(ue instanceof x){(0,t.warn)(`${ue.message} -- ignoring the rest of the image data.`);break e}throw ue}break;case 65500:u+=4;break;case 65535:255!==d[u]&&u--;break;default:const le=y(d,u-2,u-3);if(le&&le.invalid){(0,t.warn)("JpegImage.parse - unexpected data, current marker is: "+le.invalid),u=le.offset;break}if(!le||u>=d.length-1){(0,t.warn)("JpegImage.parse - reached the end of the image data without finding an EOI marker (0xFFD9).");break e}throw new R("JpegImage.parse - unknown marker: "+D.toString(16))}D=(0,F.readUint16)(d,u),u+=2}this.width=A.samplesPerLine,this.height=A.scanLines,this.jfif=M,this.adobe=O,this.components=[];for(let j=0,_=A.components.length;j<_;j++){const T=A.components[j],U=N[T.quantizationId];U&&(T.quantizationTable=U),this.components.push({index:T.index,output:f(0,T),scaleX:T.h/A.maxH,scaleY:T.v/A.maxV,blocksPerLine:T.blocksPerLine,blocksPerColumn:T.blocksPerColumn})}this.numComponents=this.components.length}_getLinearizedBlockData(d,S,s=!1){const l=this.width/d,A=this.height/S;let k,u,M,O,C,N,X,H,D,j,_,T=0;const U=this.components.length,q=d*S*U,E=new Uint8ClampedArray(q),$=new Uint32Array(d),B=4294967288;let W;for(X=0;X<U;X++){if(k=this.components[X],u=k.scaleX*l,M=k.scaleY*A,T=X,_=k.output,O=k.blocksPerLine+1<<3,u!==W){for(C=0;C<d;C++)H=0|C*u,$[C]=(H&B)<<3|7&H;W=u}for(N=0;N<S;N++)for(H=0|N*M,j=O*(H&B)|(7&H)<<3,C=0;C<d;C++)E[T]=_[j+$[C]],T+=U}let V=this._decodeTransform;if(s||4!==U||V||(V=new Int32Array([-256,255,-256,255,-256,255,-256,255])),V)for(X=0;X<q;)for(H=0,D=0;H<U;H++,X++,D+=2)E[X]=(E[X]*V[D]>>8)+V[D+1];return E}get _isColorConversionNeeded(){return this.adobe?!!this.adobe.transformCode:3===this.numComponents?0!==this._colorTransform&&(82!==this.components[0].index||71!==this.components[1].index||66!==this.components[2].index):1===this._colorTransform}_convertYccToRgb(d){let S,s,l;for(let A=0,k=d.length;A<k;A+=3)S=d[A],s=d[A+1],l=d[A+2],d[A]=S-179.456+1.402*l,d[A+1]=S+135.459-.344*s-.714*l,d[A+2]=S-226.816+1.772*s;return d}_convertYcckToRgb(d){let S,s,l,A,k=0;for(let u=0,M=d.length;u<M;u+=4)S=d[u],s=d[u+1],l=d[u+2],A=d[u+3],d[k++]=s*(-660635669420364e-19*s+.000437130475926232*l-54080610064599e-18*S+.00048449797120281*A-.154362151871126)-122.67195406894+l*(-.000957964378445773*l+.000817076911346625*S-.00477271405408747*A+1.53380253221734)+S*(.000961250184130688*S-.00266257332283933*A+.48357088451265)+A*(-.000336197177618394*A+.484791561490776),d[k++]=107.268039397724+s*(219927104525741e-19*s-.000640992018297945*l+.000659397001245577*S+.000426105652938837*A-.176491792462875)+l*(-.000778269941513683*l+.00130872261408275*S+.000770482631801132*A-.151051492775562)+S*(.00126935368114843*S-.00265090189010898*A+.25802910206845)+A*(-.000318913117588328*A-.213742400323665),d[k++]=s*(-.000570115196973677*s-263409051004589e-19*l+.0020741088115012*S-.00288260236853442*A+.814272968359295)-20.810012546947+l*(-153496057440975e-19*l-.000132689043961446*S+.000560833691242812*A-.195152027534049)+S*(.00174418132927582*S-.00255243321439347*A+.116935020465145)+A*(-.000343531996510555*A+.24165260232407);return d.subarray(0,k)}_convertYcckToCmyk(d){let S,s,l;for(let A=0,k=d.length;A<k;A+=4)S=d[A],s=d[A+1],l=d[A+2],d[A]=434.456-S-1.402*l,d[A+1]=119.541-S+.344*s+.714*l,d[A+2]=481.816-S-1.772*s;return d}_convertCmykToRgb(d){let S,s,l,A,k=0;for(let u=0,M=d.length;u<M;u+=4)S=d[u],s=d[u+1],l=d[u+2],A=d[u+3],d[k++]=255+S*(-6747147073602441e-20*S+.0008379262121013727*s+.0002894718188643294*l+.003264231057537806*A-1.1185611867203937)+s*(26374107616089405e-21*s-8626949158638572e-20*l-.0002748769067499491*A-.02155688794978967)+l*(-3878099212869363e-20*l-.0003267808279485286*A+.0686742238595345)-A*(.0003361971776183937*A+.7430659151342254),d[k++]=255+S*(.00013596372813588848*S+.000924537132573585*s+.00010567359618683593*l+.0004791864687436512*A-.3109689587515875)+s*(-.00023545346108370344*s+.0002702845253534714*l+.0020200308977307156*A-.7488052167015494)+l*(6834815998235662e-20*l+.00015168452363460973*A-.09751927774728933)-A*(.0003189131175883281*A+.7364883807733168),d[k++]=255+S*(13598650411385307e-21*S+.00012423956175490851*s+.0004751985097583589*l-36729317476630422e-22*A-.05562186980264034)+s*(.00016141380598724676*s+.0009692239130725186*l+.0007782692450036253*A-.44015232367526463)+l*(5.068882914068769e-7*l+.0017778369011375071*A-.7591454649749609)-A*(.0003435319965105553*A+.7063770186160144);return d.subarray(0,k)}getData({width:d,height:S,forceRGB:s=!1,isSourcePDF:l=!1}){if(this.numComponents>4)throw new R("Unsupported color mode");const A=this._getLinearizedBlockData(d,S,l);if(1===this.numComponents&&s){const k=A.length,u=new Uint8ClampedArray(3*k);let M=0;for(let O=0;O<k;O++){const C=A[O];u[M++]=C,u[M++]=C,u[M++]=C}return u}if(3===this.numComponents&&this._isColorConversionNeeded)return this._convertYccToRgb(A);if(4===this.numComponents){if(this._isColorConversionNeeded)return s?this._convertYcckToRgb(A):this._convertYcckToCmyk(A);if(s)return this._convertCmykToRgb(A)}return A}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.JpxStream=void 0;var t=G(19),F=G(30),R=G(2);I.JpxStream=class e extends t.DecodeStream{constructor(L,P,b){super(P),this.stream=L,this.dict=L.dict,this.maybeLength=P,this.params=b}get bytes(){return(0,R.shadow)(this,"bytes",this.stream.getBytes(this.maybeLength))}ensureBuffer(L){}readBlock(){if(this.eof)return;const L=new F.JpxImage;L.parse(this.bytes);const P=L.width,b=L.height,r=L.componentsCount,w=L.tiles.length;if(1===w)this.buffer=L.tiles[0].items;else{const o=new Uint8ClampedArray(P*b*r);for(let h=0;h<w;h++){const n=L.tiles[h],p=n.height,c=n.items;let f=0,y=(P*n.top+n.left)*r;const i=P*r,d=n.width*r;for(let S=0;S<p;S++){const s=c.subarray(f,f+d);o.set(s,y),f+=d,y+=i}}this.buffer=o}this.bufferLength=this.buffer.length,this.eof=!0}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.JpxImage=void 0;var t=G(2),F=G(9),R=G(26);class e extends t.BaseException{constructor(C){super(`JPX error: ${C}`)}}const x={LL:0,LH:1,HL:1,HH:2};function L(O,C){O.x0=Math.ceil(C.XOsiz/O.XRsiz),O.x1=Math.ceil(C.Xsiz/O.XRsiz),O.y0=Math.ceil(C.YOsiz/O.YRsiz),O.y1=Math.ceil(C.Ysiz/O.YRsiz),O.width=O.x1-O.x0,O.height=O.y1-O.y0}function P(O,C){const N=O.SIZ,X=[];let H;const D=Math.ceil((N.Xsiz-N.XTOsiz)/N.XTsiz),j=Math.ceil((N.Ysiz-N.YTOsiz)/N.YTsiz);for(let _=0;_<j;_++)for(let T=0;T<D;T++)H={},H.tx0=Math.max(N.XTOsiz+T*N.XTsiz,N.XOsiz),H.ty0=Math.max(N.YTOsiz+_*N.YTsiz,N.YOsiz),H.tx1=Math.min(N.XTOsiz+(T+1)*N.XTsiz,N.Xsiz),H.ty1=Math.min(N.YTOsiz+(_+1)*N.YTsiz,N.Ysiz),H.width=H.tx1-H.tx0,H.height=H.ty1-H.ty0,H.components=[],X.push(H);O.tiles=X;for(let _=0,T=N.Csiz;_<T;_++){const U=C[_];for(let q=0,E=X.length;q<E;q++){const $={};H=X[q],$.tcx0=Math.ceil(H.tx0/U.XRsiz),$.tcy0=Math.ceil(H.ty0/U.YRsiz),$.tcx1=Math.ceil(H.tx1/U.XRsiz),$.tcy1=Math.ceil(H.ty1/U.YRsiz),$.width=$.tcx1-$.tcx0,$.height=$.tcy1-$.tcy0,H.components[_]=$}}}function b(O,C,N){const X=C.codingStyleParameters,H={};return X.entropyCoderWithCustomPrecincts?(H.PPx=X.precinctsSizes[N].PPx,H.PPy=X.precinctsSizes[N].PPy):(H.PPx=15,H.PPy=15),H.xcb_=N>0?Math.min(X.xcb,H.PPx-1):Math.min(X.xcb,H.PPx),H.ycb_=N>0?Math.min(X.ycb,H.PPy-1):Math.min(X.ycb,H.PPy),H}function r(O,C,N){const X=1<<N.PPx,H=1<<N.PPy,D=0===C.resLevel,j=1<<N.PPx+(D?0:-1),_=1<<N.PPy+(D?0:-1),T=C.trx1>C.trx0?Math.ceil(C.trx1/X)-Math.floor(C.trx0/X):0,U=C.try1>C.try0?Math.ceil(C.try1/H)-Math.floor(C.try0/H):0;C.precinctParameters={precinctWidth:X,precinctHeight:H,numprecinctswide:T,numprecinctshigh:U,numprecincts:T*U,precinctWidthInSubband:j,precinctHeightInSubband:_}}function w(O,C,N){const X=N.xcb_,H=N.ycb_,D=1<<X,j=1<<H,_=C.tbx0>>X,T=C.tby0>>H,U=C.tbx1+D-1>>X,q=C.tby1+j-1>>H,E=C.resolution.precinctParameters,$=[],B=[];let W,V,J,Y;for(V=T;V<q;V++)for(W=_;W<U;W++){if(J={cbx:W,cby:V,tbx0:D*W,tby0:j*V,tbx1:D*(W+1),tby1:j*(V+1)},J.tbx0_=Math.max(C.tbx0,J.tbx0),J.tby0_=Math.max(C.tby0,J.tby0),J.tbx1_=Math.min(C.tbx1,J.tbx1),J.tby1_=Math.min(C.tby1,J.tby1),Y=Math.floor((J.tbx0_-C.tbx0)/E.precinctWidthInSubband)+Math.floor((J.tby0_-C.tby0)/E.precinctHeightInSubband)*E.numprecinctswide,J.precinctNumber=Y,J.subbandType=C.type,J.Lblock=3,J.tbx1_<=J.tbx0_||J.tby1_<=J.tby0_)continue;$.push(J);let z=B[Y];void 0!==z?(W<z.cbxMin?z.cbxMin=W:W>z.cbxMax&&(z.cbxMax=W),V<z.cbyMin?z.cbxMin=V:V>z.cbyMax&&(z.cbyMax=V)):B[Y]=z={cbxMin:W,cbyMin:V,cbxMax:W,cbyMax:V},J.precinct=z}C.codeblockParameters={codeblockWidth:X,codeblockHeight:H,numcodeblockwide:U-_+1,numcodeblockhigh:q-T+1},C.codeblocks=$,C.precincts=B}function o(O,C,N){const X=[],H=O.subbands;for(let D=0,j=H.length;D<j;D++){const _=H[D].codeblocks;for(let T=0,U=_.length;T<U;T++){const q=_[T];q.precinctNumber===C&&X.push(q)}}return{layerNumber:N,codeblocks:X}}function h(O){const X=O.tiles[O.currentTile.index],H=X.codingStyleDefaultParameters.layersCount,D=O.SIZ.Csiz;let j=0;for(let E=0;E<D;E++)j=Math.max(j,X.components[E].codingStyleParameters.decompositionLevelsCount);let _=0,T=0,U=0,q=0;this.nextPacket=function(){for(;_<H;_++){for(;T<=j;T++){for(;U<D;U++){const $=X.components[U];if(T>$.codingStyleParameters.decompositionLevelsCount)continue;const B=$.resolutions[T],W=B.precinctParameters.numprecincts;for(;q<W;){const V=o(B,q,_);return q++,V}q=0}U=0}T=0}throw new e("Out of packets")}}function n(O){const X=O.tiles[O.currentTile.index],H=X.codingStyleDefaultParameters.layersCount,D=O.SIZ.Csiz;let j=0;for(let E=0;E<D;E++)j=Math.max(j,X.components[E].codingStyleParameters.decompositionLevelsCount);let _=0,T=0,U=0,q=0;this.nextPacket=function(){for(;_<=j;_++){for(;T<H;T++){for(;U<D;U++){const $=X.components[U];if(_>$.codingStyleParameters.decompositionLevelsCount)continue;const B=$.resolutions[_],W=B.precinctParameters.numprecincts;for(;q<W;){const V=o(B,q,T);return q++,V}q=0}U=0}T=0}throw new e("Out of packets")}}function a(O){const X=O.tiles[O.currentTile.index],H=X.codingStyleDefaultParameters.layersCount,D=O.SIZ.Csiz;let j,_,T,U,q=0;for(T=0;T<D;T++)q=Math.max(q,X.components[T].codingStyleParameters.decompositionLevelsCount);const E=new Int32Array(q+1);for(_=0;_<=q;++_){let $=0;for(T=0;T<D;++T){const B=X.components[T].resolutions;_<B.length&&($=Math.max($,B[_].precinctParameters.numprecincts))}E[_]=$}j=0,_=0,T=0,U=0,this.nextPacket=function(){for(;_<=q;_++){for(;U<E[_];U++){for(;T<D;T++){const B=X.components[T];if(_>B.codingStyleParameters.decompositionLevelsCount)continue;const W=B.resolutions[_];if(!(U>=W.precinctParameters.numprecincts)){for(;j<H;){const J=o(W,U,j);return j++,J}j=0}}T=0}U=0}throw new e("Out of packets")}}function p(O){const X=O.tiles[O.currentTile.index],H=X.codingStyleDefaultParameters.layersCount,D=O.SIZ.Csiz,j=c(X),_=j;let T=0,U=0,q=0,E=0,$=0;this.nextPacket=function(){for(;$<_.maxNumHigh;$++){for(;E<_.maxNumWide;E++){for(;q<D;q++){const W=X.components[q],V=W.codingStyleParameters.decompositionLevelsCount;for(;U<=V;U++){const J=W.resolutions[U],z=m(E,$,j.components[q].resolutions[U],_,J);if(null!==z){for(;T<H;){const Q=o(J,z,T);return T++,Q}T=0}}U=0}q=0}E=0}throw new e("Out of packets")}}function v(O){const X=O.tiles[O.currentTile.index],H=X.codingStyleDefaultParameters.layersCount,D=O.SIZ.Csiz,j=c(X);let _=0,T=0,U=0,q=0,E=0;this.nextPacket=function(){for(;U<D;++U){const B=X.components[U],W=j.components[U],V=B.codingStyleParameters.decompositionLevelsCount;for(;E<W.maxNumHigh;E++){for(;q<W.maxNumWide;q++){for(;T<=V;T++){const J=B.resolutions[T],z=m(q,E,W.resolutions[T],W,J);if(null!==z){for(;_<H;){const Q=o(J,z,_);return _++,Q}_=0}}T=0}q=0}E=0}throw new e("Out of packets")}}function m(O,C,N,X,H){const D=O*X.minWidth,j=C*X.minHeight;return D%N.width!=0||j%N.height!=0?null:D/N.height+j/N.width*H.precinctParameters.numprecinctswide}function c(O){const C=O.components.length;let N=Number.MAX_VALUE,X=Number.MAX_VALUE,H=0,D=0;const j=new Array(C);for(let _=0;_<C;_++){const T=O.components[_],U=T.codingStyleParameters.decompositionLevelsCount,q=new Array(U+1);let E=Number.MAX_VALUE,$=Number.MAX_VALUE,B=0,W=0,V=1;for(let J=U;J>=0;--J){const Y=T.resolutions[J],z=V*Y.precinctParameters.precinctWidth,Q=V*Y.precinctParameters.precinctHeight;E=Math.min(E,z),$=Math.min($,Q),B=Math.max(B,Y.precinctParameters.numprecinctswide),W=Math.max(W,Y.precinctParameters.numprecinctshigh),q[J]={width:z,height:Q},V<<=1}N=Math.min(N,E),X=Math.min(X,$),H=Math.max(H,B),D=Math.max(D,W),j[_]={resolutions:q,minWidth:E,minHeight:$,maxNumWide:B,maxNumHigh:W}}return{components:j,minWidth:N,minHeight:X,maxNumWide:H,maxNumHigh:D}}function f(O){const X=O.tiles[O.currentTile.index],H=O.SIZ.Csiz;for(let j=0;j<H;j++){const _=X.components[j],T=_.codingStyleParameters.decompositionLevelsCount,U=[],q=[];for(let E=0;E<=T;E++){const $=b(0,_,E),B={},W=1<<T-E;let V;if(B.trx0=Math.ceil(_.tcx0/W),B.try0=Math.ceil(_.tcy0/W),B.trx1=Math.ceil(_.tcx1/W),B.try1=Math.ceil(_.tcy1/W),B.resLevel=E,r(0,B,$),U.push(B),0===E)V={},V.type="LL",V.tbx0=Math.ceil(_.tcx0/W),V.tby0=Math.ceil(_.tcy0/W),V.tbx1=Math.ceil(_.tcx1/W),V.tby1=Math.ceil(_.tcy1/W),V.resolution=B,w(0,V,$),q.push(V),B.subbands=[V];else{const J=1<<T-E+1,Y=[];V={},V.type="HL",V.tbx0=Math.ceil(_.tcx0/J-.5),V.tby0=Math.ceil(_.tcy0/J),V.tbx1=Math.ceil(_.tcx1/J-.5),V.tby1=Math.ceil(_.tcy1/J),V.resolution=B,w(0,V,$),q.push(V),Y.push(V),V={},V.type="LH",V.tbx0=Math.ceil(_.tcx0/J),V.tby0=Math.ceil(_.tcy0/J-.5),V.tbx1=Math.ceil(_.tcx1/J),V.tby1=Math.ceil(_.tcy1/J-.5),V.resolution=B,w(0,V,$),q.push(V),Y.push(V),V={},V.type="HH",V.tbx0=Math.ceil(_.tcx0/J-.5),V.tby0=Math.ceil(_.tcy0/J-.5),V.tbx1=Math.ceil(_.tcx1/J-.5),V.tby1=Math.ceil(_.tcy1/J-.5),V.resolution=B,w(0,V,$),q.push(V),Y.push(V),B.subbands=Y}}_.resolutions=U,_.subbands=q}const D=X.codingStyleDefaultParameters.progressionOrder;switch(D){case 0:X.packetsIterator=new h(O);break;case 1:X.packetsIterator=new n(O);break;case 2:X.packetsIterator=new a(O);break;case 3:X.packetsIterator=new p(O);break;case 4:X.packetsIterator=new v(O);break;default:throw new e(`Unsupported progression order ${D}`)}}function y(O,C,N,X){let H,D=0,j=0,_=!1;function T(z){for(;j<z;){const Q=C[N+D];D++,_?(H=H<<7|Q,j+=7,_=!1):(H=H<<8|Q,j+=8),255===Q&&(_=!0)}return j-=z,H>>>j&(1<<z)-1}function U(z){return 255===C[N+D-1]&&C[N+D]===z?(q(1),!0):255===C[N+D]&&C[N+D+1]===z&&(q(2),!0)}function q(z){D+=z}function E(){j=0,_&&(D++,_=!1)}function $(){if(0===T(1))return 1;if(0===T(1))return 2;let z=T(2);return z<3?z+3:(z=T(5),z<31?z+6:(z=T(7),z+37))}const V=O.COD.sopMarkerUsed,J=O.COD.ephMarkerUsed,Y=O.tiles[O.currentTile.index].packetsIterator;for(;D<X;){E(),V&&U(145)&&q(4);const z=Y.nextPacket();if(!T(1))continue;const Q=z.layerNumber,re=[];let te;for(let ae=0,se=z.codeblocks.length;ae<se;ae++){te=z.codeblocks[ae];let le=te.precinct;const ue=te.cbx-le.cbxMin,oe=te.cby-le.cbyMin;let me,de,Ae=!1,Ne=!1;if(void 0!==te.included)Ae=!!T(1);else{let Ue;if(le=te.precinct,void 0!==le.inclusionTree)Ue=le.inclusionTree;else{const Se=le.cbxMax-le.cbxMin+1,Ce=le.cbyMax-le.cbyMin+1;Ue=new l(Se,Ce,Q),de=new s(Se,Ce),le.inclusionTree=Ue,le.zeroBitPlanesTree=de}if(Ue.reset(ue,oe,Q))for(;;){if(!T(1)){Ue.incrementValue(Q);break}if(me=!Ue.nextLevel(),me){te.included=!0,Ae=Ne=!0;break}}}if(!Ae)continue;if(Ne){for(de=le.zeroBitPlanesTree,de.reset(ue,oe);;)if(T(1)){if(me=!de.nextLevel(),me)break}else de.incrementValue();te.zeroBitPlanes=de.value}const Ee=$();for(;T(1);)te.Lblock++;const Re=(0,F.log2)(Ee),qe=T((Ee<1<<Re?Re-1:Re)+te.Lblock);re.push({codeblock:te,codingpasses:Ee,dataLength:qe})}for(E(),J&&U(146);re.length>0;){const ae=re.shift();te=ae.codeblock,void 0===te.data&&(te.data=[]),te.data.push({data:C,start:N+D,end:N+D+ae.dataLength,codingpasses:ae.codingpasses}),D+=ae.dataLength}}return D}function i(O,C,N,X,H,D,j,_){const T=X.tbx0,U=X.tby0,q=X.tbx1-X.tbx0,E=X.codeblocks,$="H"===X.type.charAt(0)?1:0,B="H"===X.type.charAt(1)?C:0;for(let W=0,V=E.length;W<V;++W){const J=E[W],Y=J.tbx1_-J.tbx0_,z=J.tby1_-J.tby0_;if(0===Y||0===z||void 0===J.data)continue;const Q=new A(Y,z,J.subbandType,J.zeroBitPlanes,D);let re=2;const te=J.data;let ae,se,le,ue=0,oe=0;for(ae=0,se=te.length;ae<se;ae++)le=te[ae],ue+=le.end-le.start,oe+=le.codingpasses;const me=new Uint8Array(ue);let de=0;for(ae=0,se=te.length;ae<se;ae++){le=te[ae];const ve=le.data.subarray(le.start,le.end);me.set(ve,de),de+=ve.length}const Ae=new R.ArithmeticDecoder(me,0,ue);for(Q.setDecoder(Ae),ae=0;ae<oe;ae++){switch(re){case 0:Q.runSignificancePropagationPass();break;case 1:Q.runMagnitudeRefinementPass();break;case 2:Q.runCleanupPass(),_&&Q.checkSegmentationSymbol()}re=(re+1)%3}let Ne=J.tbx0_-T+(J.tby0_-U)*q;const Ee=Q.coefficentsSign,Re=Q.coefficentsMagnitude,qe=Q.bitsDecoded,Ue=j?0:.5;let Se,Ce,Oe;de=0;const pe="LL"!==X.type;for(ae=0;ae<z;ae++){const ve=2*(Ne/q|0)*(C-q)+$+B;for(Se=0;Se<Y;Se++)Ce=Re[de],0!==Ce&&(Ce=(Ce+Ue)*H,0!==Ee[de]&&(Ce=-Ce),Oe=qe[de],O[pe?ve+(Ne<<1):Ne]=j&&Oe>=D?Ce:Ce*(1<<D-Oe)),Ne++,de++;Ne+=q-Y}}}function d(O,C,N){const X=C.components[N],H=X.codingStyleParameters,D=X.quantizationParameters,j=H.decompositionLevelsCount,_=D.SPqcds,T=D.scalarExpounded,U=D.guardBits,q=H.segmentationSymbolUsed,E=O.components[N].precision,$=H.reversibleTransformation,B=$?new M:new u,W=[];let V=0;for(let Y=0;Y<=j;Y++){const z=X.resolutions[Y],Q=z.trx1-z.trx0,re=z.try1-z.try0,te=new Float32Array(Q*re);for(let ae=0,se=z.subbands.length;ae<se;ae++){let le,ue;T?(le=_[V].mu,ue=_[V].epsilon,V++):(le=_[0].mu,ue=_[0].epsilon+(Y>0?1-Y:0));const oe=z.subbands[ae];i(te,Q,0,oe,$?1:2**(E+x[oe.type]-ue)*(1+le/2048),U+ue-1,$,q)}W.push({width:Q,height:re,items:te})}const J=B.calculate(W,X.tcx0,X.tcy0);return{left:X.tcx0,top:X.tcy0,width:J.width,height:J.height,items:J.items}}function S(O,C){const N=O.SIZ.Csiz,X=O.tiles[C];for(let H=0;H<N;H++){const D=X.components[H];D.quantizationParameters=void 0!==O.currentTile.QCC[H]?O.currentTile.QCC[H]:O.currentTile.QCD,D.codingStyleParameters=void 0!==O.currentTile.COC[H]?O.currentTile.COC[H]:O.currentTile.COD}X.codingStyleDefaultParameters=O.currentTile.COD}I.JpxImage=class{constructor(){this.failOnCorruptedImage=!1}parse(C){if(65359===(0,F.readUint16)(C,0))return void this.parseCodestream(C,0,C.length);const N=C.length;let X=0;for(;X<N;){let H=8,D=(0,F.readUint32)(C,X);const j=(0,F.readUint32)(C,X+4);if(X+=H,1===D&&(D=4294967296*(0,F.readUint32)(C,X)+(0,F.readUint32)(C,X+4),X+=8,H+=8),0===D&&(D=N-X+H),D<H)throw new e("Invalid box field size");const _=D-H;let T=!0;switch(j){case 1785737832:T=!1;break;case 1668246642:const U=C[X];if(1===U){const E=(0,F.readUint32)(C,X+3);switch(E){case 16:case 17:case 18:break;default:(0,t.warn)("Unknown colorspace "+E)}}else 2===U&&(0,t.info)("ICC profile not supported");break;case 1785737827:this.parseCodestream(C,X,X+_);break;case 1783636e3:218793738!==(0,F.readUint32)(C,X)&&(0,t.warn)("Invalid JP2 signature");break;case 1783634458:case 1718909296:case 1920099697:case 1919251232:case 1768449138:break;default:const q=String.fromCharCode(j>>24&255,j>>16&255,j>>8&255,255&j);(0,t.warn)(`Unsupported header type ${j} (${q}).`)}T&&(X+=_)}}parseImageProperties(C){let N=C.getByte();for(;N>=0;){const X=N;if(N=C.getByte(),65361==(X<<8|N)){C.skip(4);const H=C.getInt32()>>>0,D=C.getInt32()>>>0,j=C.getInt32()>>>0,_=C.getInt32()>>>0;C.skip(16);const T=C.getUint16();return this.width=H-j,this.height=D-_,this.componentsCount=T,void(this.bitsPerComponent=8)}}throw new e("No size marker found in JPX stream")}parseCodestream(C,N,X){const H={};let D=!1;try{let j=N;for(;j+1<X;){const _=(0,F.readUint16)(C,j);j+=2;let T,U,q,E,$,B,W=0;switch(_){case 65359:H.mainHeader=!0;break;case 65497:break;case 65361:W=(0,F.readUint16)(C,j);const V={};V.Xsiz=(0,F.readUint32)(C,j+4),V.Ysiz=(0,F.readUint32)(C,j+8),V.XOsiz=(0,F.readUint32)(C,j+12),V.YOsiz=(0,F.readUint32)(C,j+16),V.XTsiz=(0,F.readUint32)(C,j+20),V.YTsiz=(0,F.readUint32)(C,j+24),V.XTOsiz=(0,F.readUint32)(C,j+28),V.YTOsiz=(0,F.readUint32)(C,j+32);const J=(0,F.readUint16)(C,j+36);V.Csiz=J;const Y=[];T=j+38;for(let ue=0;ue<J;ue++){const oe={precision:1+(127&C[T]),isSigned:!!(128&C[T]),XRsiz:C[T+1],YRsiz:C[T+2]};T+=3,L(oe,V),Y.push(oe)}H.SIZ=V,H.components=Y,P(H,Y),H.QCC=[],H.COC=[];break;case 65372:W=(0,F.readUint16)(C,j);const z={};switch(T=j+2,U=C[T++],31&U){case 0:E=8,$=!0;break;case 1:E=16,$=!1;break;case 2:E=16,$=!0;break;default:throw new Error("Invalid SQcd value "+U)}for(z.noQuantization=8===E,z.scalarExpounded=$,z.guardBits=U>>5,q=[];T<W+j;){const ue={};8===E?(ue.epsilon=C[T++]>>3,ue.mu=0):(ue.epsilon=C[T]>>3,ue.mu=(7&C[T])<<8|C[T+1],T+=2),q.push(ue)}z.SPqcds=q,H.mainHeader?H.QCD=z:(H.currentTile.QCD=z,H.currentTile.QCC=[]);break;case 65373:W=(0,F.readUint16)(C,j);const Q={};let re;switch(T=j+2,H.SIZ.Csiz<257?re=C[T++]:(re=(0,F.readUint16)(C,T),T+=2),U=C[T++],31&U){case 0:E=8,$=!0;break;case 1:E=16,$=!1;break;case 2:E=16,$=!0;break;default:throw new Error("Invalid SQcd value "+U)}for(Q.noQuantization=8===E,Q.scalarExpounded=$,Q.guardBits=U>>5,q=[];T<W+j;){const ue={};8===E?(ue.epsilon=C[T++]>>3,ue.mu=0):(ue.epsilon=C[T]>>3,ue.mu=(7&C[T])<<8|C[T+1],T+=2),q.push(ue)}Q.SPqcds=q,H.mainHeader?H.QCC[re]=Q:H.currentTile.QCC[re]=Q;break;case 65362:W=(0,F.readUint16)(C,j);const te={};T=j+2;const ae=C[T++];te.entropyCoderWithCustomPrecincts=!!(1&ae),te.sopMarkerUsed=!!(2&ae),te.ephMarkerUsed=!!(4&ae),te.progressionOrder=C[T++],te.layersCount=(0,F.readUint16)(C,T),T+=2,te.multipleComponentTransform=C[T++],te.decompositionLevelsCount=C[T++],te.xcb=2+(15&C[T++]),te.ycb=2+(15&C[T++]);const se=C[T++];if(te.selectiveArithmeticCodingBypass=!!(1&se),te.resetContextProbabilities=!!(2&se),te.terminationOnEachCodingPass=!!(4&se),te.verticallyStripe=!!(8&se),te.predictableTermination=!!(16&se),te.segmentationSymbolUsed=!!(32&se),te.reversibleTransformation=C[T++],te.entropyCoderWithCustomPrecincts){const ue=[];for(;T<W+j;){const oe=C[T++];ue.push({PPx:15&oe,PPy:oe>>4})}te.precinctsSizes=ue}const le=[];te.selectiveArithmeticCodingBypass&&le.push("selectiveArithmeticCodingBypass"),te.resetContextProbabilities&&le.push("resetContextProbabilities"),te.terminationOnEachCodingPass&&le.push("terminationOnEachCodingPass"),te.verticallyStripe&&le.push("verticallyStripe"),te.predictableTermination&&le.push("predictableTermination"),le.length>0&&(D=!0,(0,t.warn)(`JPX: Unsupported COD options (${le.join(", ")}).`)),H.mainHeader?H.COD=te:(H.currentTile.COD=te,H.currentTile.COC=[]);break;case 65424:W=(0,F.readUint16)(C,j),B={},B.index=(0,F.readUint16)(C,j+2),B.length=(0,F.readUint32)(C,j+4),B.dataEnd=B.length+j-2,B.partIndex=C[j+8],B.partsCount=C[j+9],H.mainHeader=!1,0===B.partIndex&&(B.COD=H.COD,B.COC=H.COC.slice(0),B.QCD=H.QCD,B.QCC=H.QCC.slice(0)),H.currentTile=B;break;case 65427:B=H.currentTile,0===B.partIndex&&(S(H,B.index),f(H)),W=B.dataEnd-j,y(H,C,j,W);break;case 65363:(0,t.warn)("JPX: Codestream code 0xFF53 (COC) is not implemented.");case 65365:case 65367:case 65368:case 65380:W=(0,F.readUint16)(C,j);break;default:throw new Error("Unknown codestream code: "+_.toString(16))}j+=W}}catch(j){if(D||this.failOnCorruptedImage)throw new e(j.message);(0,t.warn)(`JPX: Trying to recover from: "${j.message}".`)}this.tiles=function(_){const U=_.components,q=_.SIZ.Csiz,E=[];for(let $=0,B=_.tiles.length;$<B;$++){const W=_.tiles[$],V=[];for(let me=0;me<q;me++)V[me]=d(_,W,me);const J=V[0],Y=new Uint8ClampedArray(J.items.length*q),z={left:J.left,top:J.top,width:J.width,height:J.height,items:Y};let Q,re,te,ae,se,le,ue,oe=0;if(W.codingStyleDefaultParameters.multipleComponentTransform){const me=4===q,de=V[0].items,Ae=V[1].items,Ne=V[2].items,Ee=me?V[3].items:null;Q=U[0].precision-8,re=.5+(128<<Q);const qe=q-3;if(ae=de.length,W.components[0].codingStyleParameters.reversibleTransformation)for(te=0;te<ae;te++,oe+=qe){se=de[te]+re,le=Ae[te],ue=Ne[te];const Ue=se-(ue+le>>2);Y[oe++]=Ue+ue>>Q,Y[oe++]=Ue>>Q,Y[oe++]=Ue+le>>Q}else for(te=0;te<ae;te++,oe+=qe)se=de[te]+re,le=Ae[te],ue=Ne[te],Y[oe++]=se+1.402*ue>>Q,Y[oe++]=se-.34413*le-.71414*ue>>Q,Y[oe++]=se+1.772*le>>Q;if(me)for(te=0,oe=3;te<ae;te++,oe+=4)Y[oe]=Ee[te]+re>>Q}else for(let me=0;me<q;me++){const de=V[me].items;for(Q=U[me].precision-8,re=.5+(128<<Q),oe=me,te=0,ae=de.length;te<ae;te++)Y[oe]=de[te]+re>>Q,oe+=q}E.push(z)}return E}(H),this.width=H.SIZ.Xsiz-H.SIZ.XOsiz,this.height=H.SIZ.Ysiz-H.SIZ.YOsiz,this.componentsCount=H.SIZ.Csiz}};class s{constructor(C,N){const X=(0,F.log2)(Math.max(C,N))+1;this.levels=[];for(let H=0;H<X;H++)this.levels.push({width:C,height:N,items:[]}),C=Math.ceil(C/2),N=Math.ceil(N/2)}reset(C,N){let X,H=0,D=0;for(;H<this.levels.length;){X=this.levels[H];const j=C+N*X.width;if(void 0!==X.items[j]){D=X.items[j];break}X.index=j,C>>=1,N>>=1,H++}H--,X=this.levels[H],X.items[X.index]=D,this.currentLevel=H,delete this.value}incrementValue(){const C=this.levels[this.currentLevel];C.items[C.index]++}nextLevel(){let C=this.currentLevel,N=this.levels[C];const X=N.items[N.index];return C--,C<0?(this.value=X,!1):(this.currentLevel=C,N=this.levels[C],N.items[N.index]=X,!0)}}class l{constructor(C,N,X){const H=(0,F.log2)(Math.max(C,N))+1;this.levels=[];for(let D=0;D<H;D++){const j=new Uint8Array(C*N);for(let T=0,U=j.length;T<U;T++)j[T]=X;this.levels.push({width:C,height:N,items:j}),C=Math.ceil(C/2),N=Math.ceil(N/2)}}reset(C,N,X){let H=0;for(;H<this.levels.length;){const D=this.levels[H],j=C+N*D.width;D.index=j;const _=D.items[j];if(255===_)break;if(_>X)return this.currentLevel=H,this.propagateValues(),!1;C>>=1,N>>=1,H++}return this.currentLevel=H-1,!0}incrementValue(C){const N=this.levels[this.currentLevel];N.items[N.index]=C+1,this.propagateValues()}propagateValues(){let C=this.currentLevel,N=this.levels[C];const X=N.items[N.index];for(;--C>=0;)N=this.levels[C],N.items[N.index]=X}nextLevel(){let C=this.currentLevel,N=this.levels[C];const X=N.items[N.index];return N.items[N.index]=255,C--,!(C<0||(this.currentLevel=C,N=this.levels[C],N.items[N.index]=X,0))}}const A=function(){const N=new Uint8Array([0,5,8,0,3,7,8,0,4,7,8,0,0,0,0,0,1,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8,0,0,0,0,0,2,6,8,0,3,7,8,0,4,7,8]),X=new Uint8Array([0,3,4,0,5,7,7,0,8,8,8,0,0,0,0,0,1,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8,0,0,0,0,0,2,3,4,0,6,7,7,0,8,8,8]),H=new Uint8Array([0,1,2,0,1,2,2,0,2,2,2,0,0,0,0,0,3,4,5,0,4,5,5,0,5,5,5,0,0,0,0,0,6,7,7,0,7,7,7,0,7,7,7,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8,0,0,0,0,0,8,8,8,0,8,8,8,0,8,8,8]);return class{constructor(j,_,T,U,q){let E;this.width=j,this.height=_,E="HH"===T?H:"HL"===T?X:N,this.contextLabelTable=E;const $=j*_;let B;this.neighborsSignificance=new Uint8Array($),this.coefficentsSign=new Uint8Array($),B=q>14?new Uint32Array($):q>6?new Uint16Array($):new Uint8Array($),this.coefficentsMagnitude=B,this.processingFlags=new Uint8Array($);const W=new Uint8Array($);if(0!==U)for(let V=0;V<$;V++)W[V]=U;this.bitsDecoded=W,this.reset()}setDecoder(j){this.decoder=j}reset(){this.contexts=new Int8Array(19),this.contexts[0]=8,this.contexts[17]=92,this.contexts[18]=6}setNeighborsSignificance(j,_,T){const U=this.neighborsSignificance,q=this.width,E=this.height,$=_>0,B=_+1<q;let W;j>0&&(W=T-q,$&&(U[W-1]+=16),B&&(U[W+1]+=16),U[W]+=4),j+1<E&&(W=T+q,$&&(U[W-1]+=16),B&&(U[W+1]+=16),U[W]+=4),$&&(U[T-1]+=1),B&&(U[T+1]+=1),U[T]|=128}runSignificancePropagationPass(){const j=this.decoder,_=this.width,T=this.height,U=this.coefficentsMagnitude,q=this.coefficentsSign,E=this.neighborsSignificance,$=this.processingFlags,B=this.contexts,W=this.contextLabelTable,V=this.bitsDecoded;for(let J=0;J<T;J+=4)for(let Y=0;Y<_;Y++){let z=J*_+Y;for(let Q=0;Q<4;Q++,z+=_){const re=J+Q;if(re>=T)break;if($[z]&=-2,!U[z]&&E[z]){if(j.readBit(B,W[E[z]])){const ae=this.decodeSignBit(re,Y,z);q[z]=ae,U[z]=1,this.setNeighborsSignificance(re,Y,z),$[z]|=2}V[z]++,$[z]|=1}}}}decodeSignBit(j,_,T){const U=this.width,E=this.coefficentsMagnitude,$=this.coefficentsSign;let B,W,V,J,Y,z;J=_>0&&0!==E[T-1],_+1<U&&0!==E[T+1]?(V=$[T+1],J?(W=$[T-1],B=1-V-W):B=1-V-V):J?(W=$[T-1],B=1-W-W):B=0;const Q=3*B;return J=j>0&&0!==E[T-U],j+1<this.height&&0!==E[T+U]?(V=$[T+U],J?(W=$[T-U],B=1-V-W+Q):B=1-V-V+Q):J?(W=$[T-U],B=1-W-W+Q):B=Q,B>=0?(Y=9+B,z=this.decoder.readBit(this.contexts,Y)):(Y=9-B,z=1^this.decoder.readBit(this.contexts,Y)),z}runMagnitudeRefinementPass(){const j=this.decoder,_=this.width,U=this.coefficentsMagnitude,q=this.neighborsSignificance,E=this.contexts,$=this.bitsDecoded,B=this.processingFlags,W=_*this.height,V=4*_;for(let J,Y=0;Y<W;Y=J){J=Math.min(W,Y+V);for(let z=0;z<_;z++)for(let Q=Y+z;Q<J;Q+=_){if(!U[Q]||1&B[Q])continue;let re=16;2&B[Q]&&(B[Q]^=2,re=127&q[Q]?14:15);const te=j.readBit(E,re);U[Q]=U[Q]<<1|te,$[Q]++,B[Q]|=1}}}runCleanupPass(){const j=this.decoder,_=this.width,T=this.height,U=this.neighborsSignificance,q=this.coefficentsMagnitude,E=this.coefficentsSign,$=this.contexts,B=this.contextLabelTable,W=this.bitsDecoded,V=this.processingFlags,J=_,Y=2*_,z=3*_;let Q;for(let re=0;re<T;re=Q){Q=Math.min(re+4,T);const te=re*_,ae=re+3<T;for(let se=0;se<_;se++){const le=te+se;let ue,oe=0,me=le,de=re;if(ae&&0===V[le]&&0===V[le+J]&&0===V[le+Y]&&0===V[le+z]&&0===U[le]&&0===U[le+J]&&0===U[le+Y]&&0===U[le+z]){if(!j.readBit($,18)){W[le]++,W[le+J]++,W[le+Y]++,W[le+z]++;continue}oe=j.readBit($,17)<<1|j.readBit($,17),0!==oe&&(de=re+oe,me+=oe*_),ue=this.decodeSignBit(de,se,me),E[me]=ue,q[me]=1,this.setNeighborsSignificance(de,se,me),V[me]|=2,me=le;for(let Ae=re;Ae<=de;Ae++,me+=_)W[me]++;oe++}for(de=re+oe;de<Q;de++,me+=_)q[me]||1&V[me]||(1===j.readBit($,B[U[me]])&&(ue=this.decodeSignBit(de,se,me),E[me]=ue,q[me]=1,this.setNeighborsSignificance(de,se,me),V[me]|=2),W[me]++)}}}checkSegmentationSymbol(){const j=this.decoder,_=this.contexts;if(10!=(j.readBit(_,17)<<3|j.readBit(_,17)<<2|j.readBit(_,17)<<1|j.readBit(_,17)))throw new e("Invalid segmentation symbol")}}}();class k{constructor(){this.constructor===k&&(0,t.unreachable)("Cannot initialize Transform.")}calculate(C,N,X){let H=C[0];for(let D=1,j=C.length;D<j;D++)H=this.iterate(H,C[D],N,X);return H}extend(C,N,X){let H=N-1,D=N+1,j=N+X-2,_=N+X;C[H--]=C[D++],C[_++]=C[j--],C[H--]=C[D++],C[_++]=C[j--],C[H--]=C[D++],C[_++]=C[j--],C[H]=C[D],C[_]=C[j]}filter(C,N,X){(0,t.unreachable)("Abstract method `filter` called")}iterate(C,N,X,H){const D=C.width,j=C.height;let _=C.items;const T=N.width,U=N.height,q=N.items;let E,$,B,W,V,J;for(B=0,E=0;E<j;E++)for(W=2*E*T,$=0;$<D;$++,B++,W+=2)q[W]=_[B];_=C.items=null;const Y=new Float32Array(T+8);if(1===T){if(1&X)for(J=0,B=0;J<U;J++,B+=T)q[B]*=.5}else for(J=0,B=0;J<U;J++,B+=T)Y.set(q.subarray(B,B+T),4),this.extend(Y,4,T),this.filter(Y,4,T),q.set(Y.subarray(4,4+T),B);let z=16;const Q=[];for(E=0;E<z;E++)Q.push(new Float32Array(U+8));let re,te=0;if(C=4+U,1===U){if(1&H)for(V=0;V<T;V++)q[V]*=.5}else for(V=0;V<T;V++){if(0===te){for(z=Math.min(T-V,z),B=V,W=4;W<C;B+=T,W++)for(re=0;re<z;re++)Q[re][W]=q[B+re];te=z}te--;const ae=Q[te];if(this.extend(ae,4,U),this.filter(ae,4,U),0===te)for(B=V-z+1,W=4;W<C;B+=T,W++)for(re=0;re<z;re++)q[B+re]=Q[re][W]}return{width:T,height:U,items:q}}}class u extends k{filter(C,N,X){const H=X>>1;let D,j,_,T;const U=-1.586134342059924,q=-.052980118572961,E=.882911075530934,$=.443506852043971,B=1.230174104914001;for(D=(N|=0)-3,j=H+4;j--;D+=2)C[D]*=.8128930661159609;for(D=N-2,_=$*C[D-1],j=H+3;j--&&(T=$*C[D+1],C[D]=B*C[D]-_-T,j--);D+=2)D+=2,_=$*C[D+1],C[D]=B*C[D]-_-T;for(D=N-1,_=E*C[D-1],j=H+2;j--&&(T=E*C[D+1],C[D]-=_+T,j--);D+=2)D+=2,_=E*C[D+1],C[D]-=_+T;for(D=N,_=q*C[D-1],j=H+1;j--&&(T=q*C[D+1],C[D]-=_+T,j--);D+=2)D+=2,_=q*C[D+1],C[D]-=_+T;if(0!==H)for(D=N+1,_=U*C[D-1],j=H;j--&&(T=U*C[D+1],C[D]-=_+T,j--);D+=2)D+=2,_=U*C[D+1],C[D]-=_+T}}class M extends k{filter(C,N,X){const H=X>>1;let D,j;for(D=N|=0,j=H+1;j--;D+=2)C[D]-=C[D-1]+C[D+1]+2>>2;for(D=N+1,j=H;j--;D+=2)C[D]+=C[D-1]+C[D+1]>>1}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.LZWStream=void 0;var t=G(19);I.LZWStream=class F extends t.DecodeStream{constructor(e,x,L){super(x),this.str=e,this.dict=e.dict,this.cachedData=0,this.bitsCached=0;const P=4096,b={earlyChange:L,codeLength:9,nextCode:258,dictionaryValues:new Uint8Array(P),dictionaryLengths:new Uint16Array(P),dictionaryPrevCodes:new Uint16Array(P),currentSequence:new Uint8Array(P),currentSequenceLength:0};for(let r=0;r<256;++r)b.dictionaryValues[r]=r,b.dictionaryLengths[r]=1;this.lzwState=b}readBits(e){let x=this.bitsCached,L=this.cachedData;for(;x<e;){const P=this.str.getByte();if(-1===P)return this.eof=!0,null;L=L<<8|P,x+=8}return this.bitsCached=x-=e,this.cachedData=L,this.lastCode=null,L>>>x&(1<<e)-1}readBlock(){let e,x,L,P=1024;const b=this.lzwState;if(!b)return;const r=b.earlyChange;let w=b.nextCode;const o=b.dictionaryValues,h=b.dictionaryLengths,n=b.dictionaryPrevCodes;let a=b.codeLength,p=b.prevCode;const v=b.currentSequence;let m=b.currentSequenceLength,c=0,f=this.bufferLength,y=this.ensureBuffer(this.bufferLength+P);for(e=0;e<512;e++){const i=this.readBits(a),d=m>0;if(i<256)v[0]=i,m=1;else{if(!(i>=258)){if(256===i){a=9,w=258,m=0;continue}this.eof=!0,delete this.lzwState;break}if(i<w)for(m=h[i],x=m-1,L=i;x>=0;x--)v[x]=o[L],L=n[L];else v[m++]=v[0]}if(d&&(n[w]=p,h[w]=h[p]+1,o[w]=v[0],w++,a=w+r&w+r-1?a:0|Math.min(Math.log(w+r)/.6931471805599453+1,12)),p=i,c+=m,P<c){do{P+=512}while(P<c);y=this.ensureBuffer(this.bufferLength+P)}for(x=0;x<m;x++)y[f++]=v[x]}b.nextCode=w,b.codeLength=a,b.prevCode=p,b.currentSequenceLength=m,this.bufferLength=f}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PredictorStream=void 0;var t=G(19),F=G(2),R=G(5);I.PredictorStream=class e extends t.DecodeStream{constructor(L,P,b){if(super(P),!(0,R.isDict)(b))return L;const r=this.predictor=b.get("Predictor")||1;if(r<=1)return L;if(2!==r&&(r<10||r>15))throw new F.FormatError(`Unsupported predictor: ${r}`);this.readBlock=2===r?this.readBlockTiff:this.readBlockPng,this.str=L,this.dict=L.dict;const w=this.colors=b.get("Colors")||1,o=this.bits=b.get("BitsPerComponent")||8,h=this.columns=b.get("Columns")||1;return this.pixBytes=w*o+7>>3,this.rowBytes=h*w*o+7>>3,this}readBlockTiff(){const L=this.rowBytes,P=this.bufferLength,b=this.ensureBuffer(P+L),r=this.bits,w=this.colors,o=this.str.getBytes(L);if(this.eof=!o.length,this.eof)return;let h,n=0,a=0,p=0,v=0,m=P;if(1===r&&1===w)for(h=0;h<L;++h){let c=o[h]^n;c^=c>>1,c^=c>>2,c^=c>>4,n=(1&c)<<7,b[m++]=c}else if(8===r){for(h=0;h<w;++h)b[m++]=o[h];for(;h<L;++h)b[m]=b[m-w]+o[h],m++}else if(16===r){const c=2*w;for(h=0;h<c;++h)b[m++]=o[h];for(;h<L;h+=2){const f=((255&o[h])<<8)+(255&o[h+1])+((255&b[m-c])<<8)+(255&b[m-c+1]);b[m++]=f>>8&255,b[m++]=255&f}}else{const c=new Uint8Array(w+1),f=(1<<r)-1;let y=0,i=P;const d=this.columns;for(h=0;h<d;++h)for(let S=0;S<w;++S)p<r&&(n=n<<8|255&o[y++],p+=8),c[S]=c[S]+(n>>p-r)&f,p-=r,a=a<<r|c[S],v+=r,v>=8&&(b[i++]=a>>v-8&255,v-=8);v>0&&(b[i++]=(a<<8-v)+(n&(1<<8-v)-1))}this.bufferLength+=L}readBlockPng(){const L=this.rowBytes,P=this.pixBytes,b=this.str.getByte(),r=this.str.getBytes(L);if(this.eof=!r.length,this.eof)return;const w=this.bufferLength,o=this.ensureBuffer(w+L);let h=o.subarray(w-L,w);0===h.length&&(h=new Uint8Array(L));let n,a,p,v=w;switch(b){case 0:for(n=0;n<L;++n)o[v++]=r[n];break;case 1:for(n=0;n<P;++n)o[v++]=r[n];for(;n<L;++n)o[v]=o[v-P]+r[n]&255,v++;break;case 2:for(n=0;n<L;++n)o[v++]=h[n]+r[n]&255;break;case 3:for(n=0;n<P;++n)o[v++]=(h[n]>>1)+r[n];for(;n<L;++n)o[v]=(h[n]+o[v-P]>>1)+r[n]&255,v++;break;case 4:for(n=0;n<P;++n)a=h[n],p=r[n],o[v++]=a+p;for(;n<L;++n){a=h[n];const m=h[n-P],c=o[v-P],f=c+a-m;let y=f-c;y<0&&(y=-y);let i=f-a;i<0&&(i=-i);let d=f-m;d<0&&(d=-d),p=r[n],o[v++]=y<=i&&y<=d?c+p:i<=d?a+p:m+p}break;default:throw new F.FormatError(`Unsupported predictor: ${b}`)}this.bufferLength+=L}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.RunLengthStream=void 0;var t=G(19);I.RunLengthStream=class F extends t.DecodeStream{constructor(e,x){super(x),this.str=e,this.dict=e.dict}readBlock(){const e=this.str.getBytes(2);if(!e||e.length<2||128===e[0])return void(this.eof=!0);let x,L=this.bufferLength,P=e[0];if(P<128){if(x=this.ensureBuffer(L+P+1),x[L++]=e[1],P>0){const b=this.str.getBytes(P);x.set(b,L),L+=P}}else{P=257-P;const b=e[1];x=this.ensureBuffer(L+P+1);for(let r=0;r<P;r++)x[L++]=b}this.bufferLength=L}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Font=I.ErrorFont=void 0;var t=G(2),F=G(35),R=G(38),e=G(39),x=G(37),L=G(41),P=G(40),b=G(42),r=G(43),w=G(44),o=G(16),h=G(45),n=G(9),a=G(10),p=G(46);const v=[[57344,63743],[1048576,1114109]],m=1e3,c=["ascent","bbox","black","bold","charProcOperatorList","composite","cssFontInfo","data","defaultVMetrics","defaultWidth","descent","fallbackName","fontMatrix","fontType","isMonospace","isSerifFont","isType3Font","italic","loadedName","mimetype","missingFile","name","remeasure","subtype","type","vertical"],f=["cMap","defaultEncoding","differences","isSymbolicFont","seacMap","toFontChar","toUnicode","vmetrics","widths"];function y(D){if(!D.fontMatrix||D.fontMatrix[0]===t.FONT_IDENTITY_MATRIX[0])return;const j=.001/D.fontMatrix[0],_=D.widths;for(const T in _)_[T]*=j;D.defaultWidth*=j}class i{constructor(j,_,T,U,q,E,$,B){this.fontChar=j,this.unicode=_,this.accent=T,this.width=U,this.vmetric=q,this.operatorListId=E,this.isSpace=$,this.isInFont=B}matchesForCache(j,_,T,U,q,E,$,B){return this.fontChar===j&&this.unicode===_&&this.accent===T&&this.width===U&&this.vmetric===q&&this.operatorListId===E&&this.isSpace===$&&this.isInFont===B}}function d(D,j){return(D<<8)+j}function S(D,j){const _=(D<<8)+j;return 32768&_?_-65536:_}function s(D){return String.fromCharCode(D>>8&255,255&D)}function l(D){return D>32767?D=32767:D<-32768&&(D=-32768),String.fromCharCode(D>>8&255,255&D)}function A(D){const j=D.peekBytes(4);return"ttcf"===(0,t.bytesToString)(j)}function u(D,j,_){const T=[];let U;for(let q=0,E=D.length;q<E;q++)U=(0,P.getUnicodeForGlyph)(D[q],j),-1!==U&&(T[q]=U);for(const q in _)U=(0,P.getUnicodeForGlyph)(_[q],j),-1!==U&&(T[+q]=U);return T}function M(D,j,_){const T=Object.create(null),U=[];let q=0,E=v[q][0],$=v[q][1];for(let B in D){B|=0;let W=D[B];if(!j(W))continue;if(E>$){if(q++,q>=v.length){(0,t.warn)("Ran out of space in font private use area.");break}E=v[q][0],$=v[q][1]}const V=E++;0===W&&(W=_),T[V]=W,U[B]=V}return{toFontChar:U,charCodeToGlyphId:T,nextAvailableFontCharCode:E}}function O(D,j){const _=function(Re,qe){const Ue=[];for(const Oe in Re)Re[Oe]>=qe||Ue.push({fontCharCode:0|Oe,glyphId:Re[Oe]});0===Ue.length&&Ue.push({fontCharCode:0,glyphId:0}),Ue.sort(function(pe,ve){return pe.fontCharCode-ve.fontCharCode});const Se=[],Ce=Ue.length;for(let Oe=0;Oe<Ce;){const pe=Ue[Oe].fontCharCode,ve=[Ue[Oe].glyphId];++Oe;let Ie=pe;for(;Oe<Ce&&Ie+1===Ue[Oe].fontCharCode&&(ve.push(Ue[Oe].glyphId),++Ie,++Oe,65535!==Ie););Se.push([pe,Ie,ve])}return Se}(D,j),T=_[_.length-1][1]>65535?2:1;let U,q,E,$,B="\0\0"+s(T)+"\0\x03\0\x01"+(0,t.string32)(4+8*T);for(U=_.length-1;U>=0&&!(_[U][0]<=65535);--U);const W=U+1;_[U][0]<65535&&65535===_[U][1]&&(_[U][1]=65534);const V=_[U][1]<65535?1:0,J=W+V,Y=h.OpenTypeFileBuilder.getSearchParams(J,2);let z,Q,re,te,ae="",se="",le="",ue="",oe="",me=0;for(U=0,q=W;U<q;U++){z=_[U],Q=z[0],re=z[1],ae+=s(Q),se+=s(re),te=z[2];let Ee=!0;for(E=1,$=te.length;E<$;++E)if(te[E]!==te[E-1]+1){Ee=!1;break}if(Ee)le+=s(te[0]-Q&65535),ue+=s(0);else{const Re=2*(J-U)+2*me;for(me+=re-Q+1,le+=s(0),ue+=s(Re),E=0,$=te.length;E<$;++E)oe+=s(te[E])}}V>0&&(se+="\xff\xff",ae+="\xff\xff",le+="\0\x01",ue+="\0\0");const de="\0\0"+s(2*J)+s(Y.range)+s(Y.entry)+s(Y.rangeShift)+se+"\0\0"+ae+le+ue+oe;let Ae="",Ne="";if(T>1){for(B+="\0\x03\0\n"+(0,t.string32)(4+8*T+4+de.length),Ae="",U=0,q=_.length;U<q;U++){z=_[U],Q=z[0],te=z[2];let Ee=te[0];for(E=1,$=te.length;E<$;++E)te[E]!==te[E-1]+1&&(re=z[0]+E-1,Ae+=(0,t.string32)(Q)+(0,t.string32)(re)+(0,t.string32)(Ee),Q=re+1,Ee=te[E]);Ae+=(0,t.string32)(Q)+(0,t.string32)(z[1])+(0,t.string32)(Ee)}Ne="\0\f\0\0"+(0,t.string32)(Ae.length+16)+"\0\0\0\0"+(0,t.string32)(Ae.length/12)}return B+"\0\x04"+s(de.length+4)+de+Ne+Ae}function C(D,j,_){_=_||{unitsPerEm:0,yMax:0,yMin:0,ascent:0,descent:0};let T=0,U=0,q=0,E=0,$=null,B=0;if(j){for(let te in j){te|=0,($>te||!$)&&($=te),B<te&&(B=te);const ae=(0,P.getUnicodeRangeFor)(te);if(ae<32)T|=1<<ae;else if(ae<64)U|=1<<ae-32;else if(ae<96)q|=1<<ae-64;else{if(!(ae<123))throw new t.FormatError("Unicode ranges Bits > 123 are reserved for internal usage");E|=1<<ae-96}}B>65535&&(B=65535)}else $=0,B=255;const W=D.bbox||[0,0,0,0],J=D.ascentScaled?1:(_.unitsPerEm||1/(D.fontMatrix||t.FONT_IDENTITY_MATRIX)[0])/m,Y=_.ascent||Math.round(J*(D.ascent||W[3]));let z=_.descent||Math.round(J*(D.descent||W[1]));z>0&&D.descent>0&&W[1]<0&&(z=-z);const Q=_.yMax||Y,re=-_.yMin||-z;return"\0\x03\x02$\x01\xf4\0\x05\0\0\x02\x8a\x02\xbb\0\0\0\x8c\x02\x8a\x02\xbb\0\0\x01\xdf\x001\x01\x02\0\0\0\0\x06"+String.fromCharCode(D.fixedPitch?9:0)+"\0\0\0\0\0\0"+(0,t.string32)(T)+(0,t.string32)(U)+(0,t.string32)(q)+(0,t.string32)(E)+"*21*"+s(D.italicAngle?1:0)+s($||D.firstChar)+s(B||D.lastChar)+s(Y)+s(z)+"\0d"+s(Q)+s(re)+"\0\0\0\0\0\0\0\0"+s(D.xHeight)+s(D.capHeight)+s(0)+s($||D.firstChar)+"\0\x03"}function N(D){const j=Math.floor(65536*D.italicAngle);return"\0\x03\0\0"+(0,t.string32)(j)+"\0\0\0\0"+(0,t.string32)(D.fixedPitch)+"\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0\0"}function X(D){return D.replace(/[^\x21-\x7E]|[[\](){}<>/%]/g,"").slice(0,63)}function H(D,j){j||(j=[[],[]]);const _=[j[0][0]||"Original licence",j[0][1]||D,j[0][2]||"Unknown",j[0][3]||"uniqueID",j[0][4]||D,j[0][5]||"Version 0.11",j[0][6]||X(D),j[0][7]||"Unknown",j[0][8]||"Unknown",j[0][9]||"Unknown"],T=[];let U,q,E,$,B;for(U=0,q=_.length;U<q;U++){B=j[1][U]||_[U];const te=[];for(E=0,$=B.length;E<$;E++)te.push(s(B.charCodeAt(E)));T.push(te.join(""))}const W=[_,T],V=["\0\x01","\0\x03"],J=["\0\0","\0\x01"],Y=["\0\0","\x04\t"],z=_.length*V.length;let Q="\0\0"+s(z)+s(12*z+6),re=0;for(U=0,q=V.length;U<q;U++){const te=W[U];for(E=0,$=te.length;E<$;E++)B=te[E],Q+=V[U]+J[U]+Y[U]+s(E)+s(B.length)+s(re),re+=B.length}return Q+=_.join("")+T.join(""),Q}I.Font=class{constructor(j,_,T){this.name=j,this.mimetype=null,this.disableFontFace=!1,this.loadedName=T.loadedName,this.isType3Font=T.isType3Font,this.missingFile=!1,this.cssFontInfo=T.cssFontInfo,this._charsCache=Object.create(null),this._glyphCache=Object.create(null),this.isSerifFont=!!(T.flags&R.FontFlags.Serif),this.isSymbolicFont=!!(T.flags&R.FontFlags.Symbolic),this.isMonospace=!!(T.flags&R.FontFlags.FixedPitch);let U=T.type,q=T.subtype;this.type=U,this.subtype=q;let E,$="sans-serif";if(this.isMonospace?$="monospace":this.isSerifFont&&($="serif"),this.fallbackName=$,this.differences=T.differences,this.widths=T.widths,this.defaultWidth=T.defaultWidth,this.composite=T.composite,this.cMap=T.cMap,this.capHeight=T.capHeight/m,this.ascent=T.ascent/m,this.descent=T.descent/m,this.fontMatrix=T.fontMatrix,this.bbox=T.bbox,this.defaultEncoding=T.defaultEncoding,this.toUnicode=T.toUnicode,this.fallbackToUnicode=T.fallbackToUnicode||new b.ToUnicodeMap,this.toFontChar=[],"Type3"!==T.type)if(this.cidEncoding=T.cidEncoding,this.vertical=!!T.vertical,this.vertical&&(this.vmetrics=T.vmetrics,this.defaultVMetrics=T.defaultVMetrics),_&&!_.isEmpty){[U,q]=function k(D,{type:j,subtype:_,composite:T}){let U,q;return function($){const B=$.peekBytes(4);return 65536===(0,n.readUint32)(B,0)||"true"===(0,t.bytesToString)(B)}(D)||A(D)?U=T?"CIDFontType2":"TrueType":function($){const B=$.peekBytes(4);return"OTTO"===(0,t.bytesToString)(B)}(D)?U=T?"CIDFontType2":"OpenType":function($){const B=$.peekBytes(2);return 37===B[0]&&33===B[1]||128===B[0]&&1===B[1]}(D)?U=T?"CIDFontType0":"MMType1"===j?"MMType1":"Type1":function($){const B=$.peekBytes(4);return B[0]>=1&&B[3]>=1&&B[3]<=4}(D)?T?(U="CIDFontType0",q="CIDFontType0C"):(U="MMType1"===j?"MMType1":"Type1",q="Type1C"):((0,t.warn)("getFontFileType: Unable to detect correct font file Type/Subtype."),U=j,q=_),[U,q]}(_,T),U===this.type&&q===this.subtype||(0,t.info)(`Inconsistent font file Type/SubType, expected: ${this.type}/${this.subtype} but found: ${U}/${q}.`);try{switch(U){case"MMType1":(0,t.info)("MMType1 font ("+j+"), falling back to Type1.");case"Type1":case"CIDFontType0":this.mimetype="font/opentype";const B="Type1C"===q||"CIDFontType0C"===q?new r.CFFFont(_,T):new p.Type1Font(j,_,T);y(T),E=this.convert(j,B,T);break;case"OpenType":case"TrueType":case"CIDFontType2":this.mimetype="font/opentype",E=this.checkAndRepair(j,_,T),this.isOpenType&&(y(T),U="OpenType");break;default:throw new t.FormatError(`Font ${U} is not supported`)}}catch(B){return(0,t.warn)(B),void this.fallbackToSystemFont(T)}this.data=E,this.fontType=(0,R.getFontType)(U,q),this.fontMatrix=T.fontMatrix,this.widths=T.widths,this.defaultWidth=T.defaultWidth,this.toUnicode=T.toUnicode,this.seacMap=T.seacMap}else _&&(0,t.warn)('Font file is empty in "'+j+'" ('+this.loadedName+")"),this.fallbackToSystemFont(T);else{for(let B=0;B<256;B++)this.toFontChar[B]=this.differences[B]||T.defaultEncoding[B];this.fontType=t.FontType.TYPE3}}get renderer(){const j=w.FontRendererFactory.create(this,R.SEAC_ANALYSIS_ENABLED);return(0,t.shadow)(this,"renderer",j)}exportData(j=!1){const _=j?[...c,...f]:c,T=Object.create(null);let U,q;for(U of _)q=this[U],void 0!==q&&(T[U]=q);return T}fallbackToSystemFont(j){this.missingFile=!0;const _=this.name,T=this.type,U=this.subtype;let q=_.replace(/[,_]/g,"-").replace(/\s/g,"");const E=(0,L.getStdFontMap)(),$=(0,L.getNonStdFontMap)(),B=!!E[q],W=!(!$[q]||!E[$[q]]);q=E[q]||$[q]||q,this.bold=-1!==q.search(/bold/gi),this.italic=-1!==q.search(/oblique/gi)||-1!==q.search(/italic/gi),this.black=-1!==_.search(/Black/g);const V=-1!==_.search(/Narrow/g);if(this.remeasure=(!B||V)&&Object.keys(this.widths).length>0,(B||W)&&"CIDFontType2"===T&&this.cidEncoding.startsWith("Identity-")){const J=(0,L.getGlyphMapForStandardFonts)(),Y=j.cidToGidMap,z=[];for(const Q in J)z[+Q]=J[Q];if(/Arial-?Black/i.test(_)){const Q=(0,L.getSupplementalGlyphMapForArialBlack)();for(const re in Q)z[+re]=Q[re]}else if(/Calibri/i.test(_)){const Q=(0,L.getSupplementalGlyphMapForCalibri)();for(const re in Q)z[+re]=Q[re]}if(Y)for(const Q in z){const re=z[Q];void 0!==Y[re]&&(z[+Q]=Y[re])}this.toUnicode instanceof b.IdentityToUnicodeMap||this.toUnicode.forEach(function(Q,re){z[+Q]=re}),this.toFontChar=z,this.toUnicode=new b.ToUnicodeMap(z)}else if(/Symbol/i.test(q))this.toFontChar=u(x.SymbolSetEncoding,(0,e.getGlyphsUnicode)(),this.differences);else if(/Dingbats/i.test(q))/Wingdings/i.test(_)&&(0,t.warn)("Non-embedded Wingdings font, falling back to ZapfDingbats."),this.toFontChar=u(x.ZapfDingbatsEncoding,(0,e.getDingbatsGlyphsUnicode)(),this.differences);else if(B)this.toFontChar=u(this.defaultEncoding,(0,e.getGlyphsUnicode)(),this.differences);else{const J=(0,e.getGlyphsUnicode)(),Y=[];if(this.toUnicode.forEach((z,Q)=>{if(!this.composite){const te=(0,P.getUnicodeForGlyph)(this.differences[z]||this.defaultEncoding[z],J);-1!==te&&(Q=te)}Y[+z]=Q}),this.composite&&this.toUnicode instanceof b.IdentityToUnicodeMap&&/Verdana/i.test(_)){const z=(0,L.getGlyphMapForStandardFonts)();for(const Q in z)Y[+Q]=z[Q]}this.toFontChar=Y}this.loadedName=q.split("-")[0],this.fontType=(0,R.getFontType)(T,U)}checkAndRepair(j,_,T){const U=["OS/2","cmap","head","hhea","hmtx","maxp","name","post","loca","glyf","fpgm","prep","cvt ","CFF "];function q(Se,Ce){const Oe=Object.create(null);Oe["OS/2"]=null,Oe.cmap=null,Oe.head=null,Oe.hhea=null,Oe.hmtx=null,Oe.maxp=null,Oe.name=null,Oe.post=null;for(let pe=0;pe<Ce;pe++){const ve=E(Se);U.includes(ve.tag)&&0!==ve.length&&(Oe[ve.tag]=ve)}return Oe}function E(Se){const Ce=Se.getString(4),Oe=Se.getInt32()>>>0,pe=Se.getInt32()>>>0,ve=Se.getInt32()>>>0,Ie=Se.pos;Se.pos=Se.start?Se.start:0,Se.skip(pe);const Te=Se.getBytes(ve);return Se.pos=Ie,"head"===Ce&&(Te[8]=Te[9]=Te[10]=Te[11]=0,Te[17]|=32),{tag:Ce,checksum:Oe,length:ve,offset:pe,data:Te}}function $(Se){return{version:Se.getString(4),numTables:Se.getUint16(),searchRange:Se.getUint16(),entrySelector:Se.getUint16(),rangeShift:Se.getUint16()}}function B(Se,Ce,Oe,pe,ve,Ie){const Te={length:0,sizeOfInstructions:0};if(Oe-Ce<=12)return Te;const be=Se.subarray(Ce,Oe);let ye=S(be[0],be[1]);if(ye<0)return ye=-1,(Me=be)[1]=je=ye,Me[0]=je>>>8,pe.set(be,ve),Te.length=be.length,Te;var Me,je;let fe,Pe=10,ke=0;for(fe=0;fe<ye;fe++)ke=1+(be[Pe]<<8|be[Pe+1]),Pe+=2;const He=Pe,Xe=be[Pe]<<8|be[Pe+1];Te.sizeOfInstructions=Xe,Pe+=2+Xe;const ce=Pe;let ge=0;for(fe=0;fe<ke;fe++){const _e=be[Pe++];192&_e&&(be[Pe-1]=63&_e);let Me=2;2&_e?Me=1:16&_e&&(Me=0);let ze=2;4&_e?ze=1:32&_e&&(ze=0);const je=Me+ze;if(ge+=je,8&_e){const Be=be[Pe++];fe+=Be,ge+=Be*je}}if(0===ge)return Te;let we=Pe+ge;return we>be.length?Te:!Ie&&Xe>0?(pe.set(be.subarray(0,He),ve),pe.set([0,0],ve+He),pe.set(be.subarray(ce,we),ve+He+2),we-=Xe,be.length-we>3&&(we=we+3&-4),Te.length=we,Te):be.length-we>3?(we=we+3&-4,pe.set(be.subarray(0,we),ve),Te.length=we,Te):(pe.set(be,ve),Te.length=be.length,Te)}function W(Se){const Ce=(_.start?_.start:0)+Se.offset;_.pos=Ce;const Oe=[[],[]],pe=Se.length,ve=Ce+pe;if(0!==_.getUint16()||pe<6)return Oe;const Ie=_.getUint16(),Te=_.getUint16(),be=[];let ye,fe;for(ye=0;ye<Ie&&_.pos+12<=ve;ye++){const Pe={platform:_.getUint16(),encoding:_.getUint16(),language:_.getUint16(),name:_.getUint16(),length:_.getUint16(),offset:_.getUint16()};(1===Pe.platform&&0===Pe.encoding&&0===Pe.language||3===Pe.platform&&1===Pe.encoding&&1033===Pe.language)&&be.push(Pe)}for(ye=0,fe=be.length;ye<fe;ye++){const Pe=be[ye];if(Pe.length<=0)continue;const ke=Ce+Te+Pe.offset;if(ke+Pe.length>ve)continue;_.pos=ke;const He=Pe.name;if(Pe.encoding){let Xe="";for(let ce=0,ge=Pe.length;ce<ge;ce+=2)Xe+=String.fromCharCode(_.getUint16());Oe[1][He]=Xe}else Oe[0][He]=_.getString(Pe.length)}return Oe}const V=[0,0,0,0,0,0,0,0,-2,-2,-2,-2,0,0,-2,-5,-1,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,-1,-1,1,-1,-999,0,1,0,-1,-2,0,-1,-2,-1,-1,0,-1,-1,0,0,-999,-999,-1,-1,-1,-1,-2,-999,-2,-2,-999,0,-2,-2,0,0,-2,0,-2,0,0,0,-2,-1,-1,1,1,0,0,-1,-1,-1,-1,-1,-1,-1,0,0,-1,0,-1,-1,0,-999,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,0,0,0,0,0,-2,-999,-999,-999,-999,-999,-1,-1,-2,-2,0,0,0,0,-1,-1,-999,-2,-2,0,0,-1,-2,-2,0,0,0,-1,-1,-1,-2];function J(Se,Ce){let Oe,pe,ve,Ie,Te,be=Se.data,ye=0,fe=0,Pe=0;const ke=[],He=[],Xe=[];let ce=Ce.tooComplexToFollowFunctions,ge=!1,we=0,_e=0;for(let ze=be.length;ye<ze;){const je=be[ye++];if(64===je)if(pe=be[ye++],ge||_e)ye+=pe;else for(Oe=0;Oe<pe;Oe++)ke.push(be[ye++]);else if(65===je)if(pe=be[ye++],ge||_e)ye+=2*pe;else for(Oe=0;Oe<pe;Oe++)ve=be[ye++],ke.push(ve<<8|be[ye++]);else if(176==(248&je))if(pe=je-176+1,ge||_e)ye+=pe;else for(Oe=0;Oe<pe;Oe++)ke.push(be[ye++]);else if(184==(248&je))if(pe=je-184+1,ge||_e)ye+=2*pe;else for(Oe=0;Oe<pe;Oe++)ve=be[ye++],ke.push(ve<<8|be[ye++]);else if(43!==je||ce)if(44!==je||ce){if(45===je)if(ge)ge=!1,fe=ye;else{if(Te=He.pop(),!Te)return(0,t.warn)("TT: ENDF bad stack"),void(Ce.hintsValid=!1);Ie=Xe.pop(),be=Te.data,ye=Te.i,Ce.functionsStackDeltas[Ie]=ke.length-Te.stackTop}else if(137===je)(ge||_e)&&((0,t.warn)("TT: nested IDEFs not allowed"),ce=!0),ge=!0,Pe=ye;else if(88===je)++we;else if(27===je)_e=we;else if(89===je)_e===we&&(_e=0),--we;else if(28===je&&!ge&&!_e){const Be=ke[ke.length-1];Be>0&&(ye+=Be-1)}}else(ge||_e)&&((0,t.warn)("TT: nested FDEFs not allowed"),ce=!0),ge=!0,Pe=ye,Ie=ke.pop(),Ce.functionsDefined[Ie]={data:be,i:ye};else if(!ge&&!_e)if(Ie=ke[ke.length-1],isNaN(Ie))(0,t.info)("TT: CALL empty stack (or invalid entry).");else if(Ce.functionsUsed[Ie]=!0,Ie in Ce.functionsStackDeltas){const Be=ke.length+Ce.functionsStackDeltas[Ie];if(Be<0)return(0,t.warn)("TT: CALL invalid functions stack delta."),void(Ce.hintsValid=!1);ke.length=Be}else if(Ie in Ce.functionsDefined&&!Xe.includes(Ie)){if(He.push({data:be,i:ye,stackTop:ke.length-1}),Xe.push(Ie),Te=Ce.functionsDefined[Ie],!Te)return(0,t.warn)("TT: CALL non-existent function"),void(Ce.hintsValid=!1);be=Te.data,ye=Te.i}if(!ge&&!_e){let Be=0;for(je<=142?Be=V[je]:je>=192&&je<=223?Be=-1:je>=224&&(Be=-2),je>=113&&je<=117&&(pe=ke.pop(),isNaN(pe)||(Be=2*-pe));Be<0&&ke.length>0;)ke.pop(),Be++;for(;Be>0;)ke.push(NaN),Be--}}Ce.tooComplexToFollowFunctions=ce;const Me=[be];ye>be.length&&Me.push(new Uint8Array(ye-be.length)),Pe>fe&&((0,t.warn)("TT: complementing a missing function tail"),Me.push(new Uint8Array([34,45]))),function(je,Be){if(Be.length>1){let Ze,Ve,Je=0;for(Ze=0,Ve=Be.length;Ze<Ve;Ze++)Je+=Be[Ze].length;Je=Je+3&-4;const Qe=new Uint8Array(Je);let nt=0;for(Ze=0,Ve=Be.length;Ze<Ve;Ze++)Qe.set(Be[Ze],nt),nt+=Be[Ze].length;je.data=Qe,je.length=Je}}(Se,Me)}let Y,z,Q,re;if(A(_=new a.Stream(new Uint8Array(_.getBytes())))){const Se=function(Oe,pe){const{numFonts:ve,offsetTable:Ie}=function(fe){const Pe=fe.getString(4);(0,t.assert)("ttcf"===Pe,"Must be a TrueType Collection font.");const ke=fe.getUint16(),He=fe.getUint16(),Xe=fe.getInt32()>>>0,ce=[];for(let we=0;we<Xe;we++)ce.push(fe.getInt32()>>>0);const ge={ttcTag:Pe,majorVersion:ke,minorVersion:He,numFonts:Xe,offsetTable:ce};switch(ke){case 1:return ge;case 2:return ge.dsigTag=fe.getInt32()>>>0,ge.dsigLength=fe.getInt32()>>>0,ge.dsigOffset=fe.getInt32()>>>0,ge}throw new t.FormatError(`Invalid TrueType Collection majorVersion: ${ke}.`)}(Oe),Te=pe.split("+");let be;for(let ye=0;ye<ve;ye++){Oe.pos=(Oe.start||0)+Ie[ye];const fe=$(Oe),Pe=q(Oe,fe.numTables);if(!Pe.name)throw new t.FormatError('TrueType Collection font must contain a "name" table.');const ke=W(Pe.name);for(let He=0,Xe=ke.length;He<Xe;He++)for(let ce=0,ge=ke[He].length;ce<ge;ce++){const we=ke[He][ce]&&ke[He][ce].replace(/\s/g,"");if(we){if(we===pe)return{header:fe,tables:Pe};if(!(Te.length<2))for(const _e of Te)we===_e&&(be={name:_e,header:fe,tables:Pe})}}}if(be)return(0,t.warn)(`TrueType Collection does not contain "${pe}" font, falling back to "${be.name}" font instead.`),{header:be.header,tables:be.tables};throw new t.FormatError(`TrueType Collection does not contain "${pe}" font.`)}(_,this.name);Y=Se.header,z=Se.tables}else Y=$(_),z=q(_,Y.numTables);const te=!z["CFF "];if(te){if(!z.loca)throw new t.FormatError('Required "loca" table is not found');z.glyf||((0,t.warn)('Required "glyf" table is not found -- trying to recover.'),z.glyf={tag:"glyf",data:new Uint8Array(0)}),this.isOpenType=!1}else{if("OTTO"===Y.version&&(!T.composite||!((T.cidToGidMap||[]).length>0)&&T.cMap instanceof o.IdentityCMap)||!z.head||!z.hhea||!z.maxp||!z.post)return re=new a.Stream(z["CFF "].data),Q=new r.CFFFont(re,T),y(T),this.convert(j,Q,T);delete z.glyf,delete z.loca,delete z.fpgm,delete z.prep,delete z["cvt "],this.isOpenType=!0}if(!z.maxp)throw new t.FormatError('Required "maxp" table is not found');_.pos=(_.start||0)+z.maxp.offset;const ae=_.getInt32(),se=_.getUint16();let le=se+1,ue=!0;le>65535&&(ue=!1,le=se,(0,t.warn)("Not enough space in glyfs to duplicate first glyph."));let oe=0,me=0;ae>=65536&&z.maxp.length>=22&&(_.pos+=8,_.getUint16()>2&&(z.maxp.data[14]=0,z.maxp.data[15]=2),_.pos+=4,oe=_.getUint16(),_.pos+=4,me=_.getUint16()),z.maxp.data[4]=le>>8,z.maxp.data[5]=255&le;const de=function(Ce,Oe,pe,ve){const Ie={functionsDefined:[],functionsUsed:[],functionsStackDeltas:[],tooComplexToFollowFunctions:!1,hintsValid:!0};if(Ce&&J(Ce,Ie),Oe&&J(Oe,Ie),Ce&&function(be,ye){if(!be.tooComplexToFollowFunctions)if(be.functionsDefined.length>ye)(0,t.warn)("TT: more functions defined than expected"),be.hintsValid=!1;else for(let fe=0,Pe=be.functionsUsed.length;fe<Pe;fe++){if(fe>ye)return(0,t.warn)("TT: invalid function id: "+fe),void(be.hintsValid=!1);if(be.functionsUsed[fe]&&!be.functionsDefined[fe])return(0,t.warn)("TT: undefined function: "+fe),void(be.hintsValid=!1)}}(Ie,ve),pe&&1&pe.length){const Te=new Uint8Array(pe.length+1);Te.set(pe.data),pe.data=Te}return Ie.hintsValid}(z.fpgm,z.prep,z["cvt "],oe);if(de||(delete z.fpgm,delete z.prep,delete z["cvt "]),function(Ce,Oe,pe,ve,Ie){if(!Oe)return void(pe&&(pe.data=null));Ce.pos=(Ce.start?Ce.start:0)+Oe.offset,Ce.pos+=4,Ce.pos+=2,Ce.pos+=2,Ce.pos+=2,Ce.pos+=2,Ce.pos+=2,Ce.pos+=2,Ce.pos+=2,Ce.pos+=2,Ce.pos+=2,Ce.pos+=2,Ce.pos+=8,Ce.pos+=2;let Te=Ce.getUint16();Te>ve&&((0,t.info)("The numOfMetrics ("+Te+") should not be greater than the numGlyphs ("+ve+")"),Te=ve,Oe.data[34]=(65280&Te)>>8,Oe.data[35]=255&Te);const be=ve-Te-(pe.length-4*Te>>1);if(be>0){const ye=new Uint8Array(pe.length+2*be);ye.set(pe.data),Ie&&(ye[pe.length]=pe.data[2],ye[pe.length+1]=pe.data[3]),pe.data=ye}}(_,z.hhea,z.hmtx,le,ue),!z.head)throw new t.FormatError('Required "head" table is not found');!function(Ce,Oe,pe){const ve=Ce.data,Ie=(ve[0]<<24)+(ve[1]<<16)+(ve[2]<<8)+ve[3];Ie>>16!=1&&((0,t.info)("Attempting to fix invalid version in head table: "+Ie),ve[0]=0,ve[1]=1,ve[2]=0,ve[3]=0);const Te=d(ve[50],ve[51]);if(Te<0||Te>1){(0,t.info)("Attempting to fix invalid indexToLocFormat in head table: "+Te);const be=Oe+1;if(pe===be<<1)ve[50]=0,ve[51]=0;else{if(pe!==be<<2)throw new t.FormatError("Could not fix indexToLocFormat: "+Te);ve[50]=0,ve[51]=1}}}(z.head,se,te?z.loca.length:0);let Ae=Object.create(null);if(te){const Se=d(z.head.data[50],z.head.data[51]),Ce=function(pe,ve,Ie,Te,be,ye,fe){let Pe,ke,He;Te?(Pe=4,ke=function(Qe,nt){return Qe[nt]<<24|Qe[nt+1]<<16|Qe[nt+2]<<8|Qe[nt+3]},He=function(Qe,nt,st){Qe[nt]=st>>>24&255,Qe[nt+1]=st>>16&255,Qe[nt+2]=st>>8&255,Qe[nt+3]=255&st}):(Pe=2,ke=function(Qe,nt){return Qe[nt]<<9|Qe[nt+1]<<1},He=function(Qe,nt,st){Qe[nt]=st>>9&255,Qe[nt+1]=st>>1&255});const Xe=ye?Ie+1:Ie,ce=Pe*(1+Xe),ge=new Uint8Array(ce);ge.set(pe.data.subarray(0,ce)),pe.data=ge;const we=ve.data,_e=we.length,Me=new Uint8Array(_e);let ze,je;const Be=[];for(ze=0,je=0;ze<Ie+1;ze++,je+=Pe){let Je=ke(ge,je);Je>_e&&(Je=_e),Be.push({index:ze,offset:Je,endOffset:0})}for(Be.sort((Je,Qe)=>Je.offset-Qe.offset),ze=0;ze<Ie;ze++)Be[ze].endOffset=Be[ze+1].offset;Be.sort((Je,Qe)=>Je.index-Qe.index);const Ze=Object.create(null);let Ve=0;for(He(ge,0,Ve),ze=0,je=Pe;ze<Ie;ze++,je+=Pe){const Je=B(we,Be[ze].offset,Be[ze].endOffset,Me,Ve,be),Qe=Je.length;0===Qe&&(Ze[ze]=!0),Je.sizeOfInstructions>fe&&(fe=Je.sizeOfInstructions),Ve+=Qe,He(ge,je,Ve)}if(0===Ve){const Je=new Uint8Array([0,1,0,0,0,0,0,0,0,0,0,0,0,0,49,0]);for(ze=0,je=Pe;ze<Xe;ze++,je+=Pe)He(ge,je,Je.length);ve.data=Je}else if(ye){const Je=ke(ge,Pe);Me.length>Je+Ve?ve.data=Me.subarray(0,Je+Ve):(ve.data=new Uint8Array(Je+Ve),ve.data.set(Me.subarray(0,Ve))),ve.data.set(Me.subarray(0,Je),Ve),He(pe.data,ge.length-Pe,Ve+Je)}else ve.data=Me.subarray(0,Ve);return{missingGlyphs:Ze,maxSizeOfInstructions:fe}}(z.loca,z.glyf,se,Se,de,ue,me);Ae=Ce.missingGlyphs,ae>=65536&&z.maxp.length>=22&&(z.maxp.data[26]=Ce.maxSizeOfInstructions>>8,z.maxp.data[27]=255&Ce.maxSizeOfInstructions)}if(!z.hhea)throw new t.FormatError('Required "hhea" table is not found');0===z.hhea.data[10]&&0===z.hhea.data[11]&&(z.hhea.data[10]=255,z.hhea.data[11]=255);const Ne={unitsPerEm:d(z.head.data[18],z.head.data[19]),yMax:d(z.head.data[42],z.head.data[43]),yMin:S(z.head.data[38],z.head.data[39]),ascent:d(z.hhea.data[4],z.hhea.data[5]),descent:S(z.hhea.data[6],z.hhea.data[7])};this.ascent=Ne.ascent/Ne.unitsPerEm,this.descent=Ne.descent/Ne.unitsPerEm,z.post&&function(Ce,Oe,pe){const ve=(_.start?_.start:0)+Ce.offset;_.pos=ve;const Ie=ve+Ce.length,Te=_.getInt32();_.skip(28);let be,ye,fe=!0;switch(Te){case 65536:be=R.MacStandardGlyphOrdering;break;case 131072:const Pe=_.getUint16();if(Pe!==pe){fe=!1;break}const ke=[];for(ye=0;ye<Pe;++ye){const ce=_.getUint16();if(ce>=32768){fe=!1;break}ke.push(ce)}if(!fe)break;const He=[],Xe=[];for(;_.pos<Ie;){const ce=_.getByte();for(Xe.length=ce,ye=0;ye<ce;++ye)Xe[ye]=String.fromCharCode(_.getByte());He.push(Xe.join(""))}for(be=[],ye=0;ye<Pe;++ye){const ce=ke[ye];be.push(ce<258?R.MacStandardGlyphOrdering[ce]:He[ce-258])}break;case 196608:break;default:(0,t.warn)("Unknown/unsupported post table version "+Te),fe=!1,Oe.defaultEncoding&&(be=Oe.defaultEncoding)}Oe.glyphNames=be}(z.post,T,se),z.post={tag:"post",data:N(T)};const Ee=[];function Re(Se){return!Ae[Se]}if(T.composite){const Se=T.cidToGidMap||[],Ce=0===Se.length;T.cMap.forEach(function(Oe,pe){if(pe>65535)throw new t.FormatError("Max size of CID is 65,535");let ve=-1;Ce?ve=pe:void 0!==Se[pe]&&(ve=Se[pe]),ve>=0&&ve<se&&Re(ve)&&(Ee[Oe]=ve)})}else{const Se=function(be,ye,fe,Pe){if(!be)return(0,t.warn)("No cmap table available."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};let ke,He=(ye.start?ye.start:0)+be.offset;ye.pos=He,ye.skip(2);const Xe=ye.getUint16();let ce,ge=!1;for(let Be=0;Be<Xe;Be++){const Ze=ye.getUint16(),Ve=ye.getUint16(),Je=ye.getInt32()>>>0;let Qe=!1;if((!ce||ce.platformId!==Ze||ce.encodingId!==Ve)&&(0!==Ze||0!==Ve&&1!==Ve&&3!==Ve?1===Ze&&0===Ve?Qe=!0:3!==Ze||1!==Ve||!Pe&&ce?fe&&3===Ze&&0===Ve&&(Qe=!0,ge=!0):(Qe=!0,fe||(ge=!0)):Qe=!0,Qe&&(ce={platformId:Ze,encodingId:Ve,offset:Je}),ge))break}if(ce&&(ye.pos=He+ce.offset),!ce||-1===ye.peekByte())return(0,t.warn)("Could not find a preferred cmap table."),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};const we=ye.getUint16();ye.skip(4);let _e=!1;const Me=[];let ze,je;if(0===we){for(ze=0;ze<256;ze++){const Be=ye.getByte();Be&&Me.push({charCode:ze,glyphId:Be})}_e=!0}else if(4===we){const Be=ye.getUint16()>>1;ye.skip(6);const Ze=[];let Ve;for(Ve=0;Ve<Be;Ve++)Ze.push({end:ye.getUint16()});for(ye.skip(2),Ve=0;Ve<Be;Ve++)Ze[Ve].start=ye.getUint16();for(Ve=0;Ve<Be;Ve++)Ze[Ve].delta=ye.getUint16();let Je,Qe=0;for(Ve=0;Ve<Be;Ve++){ke=Ze[Ve];const st=ye.getUint16();st?(Je=(st>>1)-(Be-Ve),ke.offsetIndex=Je,Qe=Math.max(Qe,Je+ke.end-ke.start+1)):ke.offsetIndex=-1}const nt=[];for(ze=0;ze<Qe;ze++)nt.push(ye.getUint16());for(Ve=0;Ve<Be;Ve++){ke=Ze[Ve],He=ke.start;const st=ke.end,pt=ke.delta;for(Je=ke.offsetIndex,ze=He;ze<=st;ze++)65535!==ze&&(je=Je<0?ze:nt[Je+ze-He],je=je+pt&65535,Me.push({charCode:ze,glyphId:je}))}}else{if(6!==we)return(0,t.warn)("cmap table has unsupported format: "+we),{platformId:-1,encodingId:-1,mappings:[],hasShortCmap:!1};{const Be=ye.getUint16(),Ze=ye.getUint16();for(ze=0;ze<Ze;ze++)je=ye.getUint16(),Me.push({charCode:Be+ze,glyphId:je})}}Me.sort(function(Be,Ze){return Be.charCode-Ze.charCode});for(let Be=1;Be<Me.length;Be++)Me[Be-1].charCode===Me[Be].charCode&&(Me.splice(Be,1),Be--);return{platformId:ce.platformId,encodingId:ce.encodingId,mappings:Me,hasShortCmap:_e}}(z.cmap,_,this.isSymbolicFont,T.hasEncoding),Ce=Se.platformId,Oe=Se.encodingId,pe=Se.mappings,ve=pe.length;let Ie=[];if(!T.hasEncoding||"MacRomanEncoding"!==T.baseEncodingName&&"WinAnsiEncoding"!==T.baseEncodingName||(Ie=(0,x.getEncoding)(T.baseEncodingName)),T.hasEncoding&&!this.isSymbolicFont&&(3===Ce&&1===Oe||1===Ce&&0===Oe)){const Te=(0,e.getGlyphsUnicode)();for(let be=0;be<256;be++){let ye;if(ye=this.differences&&be in this.differences?this.differences[be]:be in Ie&&""!==Ie[be]?Ie[be]:x.StandardEncoding[be],!ye)continue;const fe=(0,R.recoverGlyphName)(ye,Te);let Pe;3===Ce&&1===Oe?Pe=Te[fe]:1===Ce&&0===Oe&&(Pe=x.MacRomanEncoding.indexOf(fe));for(let ke=0;ke<ve;++ke)if(pe[ke].charCode===Pe){Ee[be]=pe[ke].glyphId;break}}}else if(0===Ce)for(let Te=0;Te<ve;++Te)Ee[pe[Te].charCode]=pe[Te].glyphId;else for(let Te=0;Te<ve;++Te){let be=pe[Te].charCode;3===Ce&&be>=61440&&be<=61695&&(be&=255),Ee[be]=pe[Te].glyphId}if(T.glyphNames&&(Ie.length||this.differences.length))for(let Te=0;Te<256;++Te){if(void 0!==Ee[Te])continue;const be=this.differences[Te]||Ie[Te];if(!be)continue;const ye=T.glyphNames.indexOf(be);ye>0&&Re(ye)&&(Ee[Te]=ye)}}0===Ee.length&&(Ee[0]=0);let qe=le-1;if(ue||(qe=0),!T.cssFontInfo){const Se=M(Ee,Re,qe);this.toFontChar=Se.toFontChar,z.cmap={tag:"cmap",data:O(Se.charCodeToGlyphId,le)},z["OS/2"]&&function(Oe,pe){pe.pos=(pe.start||0)+Oe.offset;const ve=pe.getUint16();pe.skip(60);const Ie=pe.getUint16();return!(ve<4&&768&Ie||pe.getUint16()>pe.getUint16()||(pe.skip(6),0===pe.getUint16())||(Oe.data[8]=Oe.data[9]=0,0))}(z["OS/2"],_)||(z["OS/2"]={tag:"OS/2",data:C(T,Se.charCodeToGlyphId,Ne)})}if(!te)try{re=new a.Stream(z["CFF "].data),Q=new F.CFFParser(re,T,R.SEAC_ANALYSIS_ENABLED).parse(),Q.duplicateFirstGlyph();const Se=new F.CFFCompiler(Q);z["CFF "].data=Se.compile()}catch{(0,t.warn)("Failed to compile font "+T.loadedName)}if(z.name){const Se=W(z.name);z.name.data=H(j,Se)}else z.name={tag:"name",data:H(this.name)};const Ue=new h.OpenTypeFileBuilder(Y.version);for(const Se in z)Ue.addTable(Se,z[Se].data);return Ue.toArray()}convert(j,_,T){T.fixedPitch=!1,T.builtInEncoding&&function(re,te){if(re.hasIncludedToUnicodeMap||te===re.defaultEncoding||re.toUnicode instanceof b.IdentityToUnicodeMap)return;const ae=[],se=(0,e.getGlyphsUnicode)();for(const le in te){if(re.hasEncoding&&void 0!==re.differences[le])continue;const oe=(0,P.getUnicodeForGlyph)(te[le],se);-1!==oe&&(ae[le]=String.fromCharCode(oe))}re.toUnicode.amend(ae)}(T,T.builtInEncoding);let U=1;_ instanceof r.CFFFont&&(U=_.numGlyphs-1);const q=_.getGlyphMapping(T);let E=null,$=q;T.cssFontInfo||(E=M(q,_.hasGlyphId.bind(_),U),this.toFontChar=E.toFontChar,$=E.charCodeToGlyphId);const B=_.numGlyphs;function W(Q,re){let te=null;for(const ae in Q)re===Q[ae]&&(te||(te=[]),te.push(0|ae));return te}function V(Q,re){for(const te in Q)if(re===Q[te])return 0|te;return E.charCodeToGlyphId[E.nextAvailableFontCharCode]=re,E.nextAvailableFontCharCode++}const J=_.seacs;if(E&&R.SEAC_ANALYSIS_ENABLED&&J&&J.length){const Q=T.fontMatrix||t.FONT_IDENTITY_MATRIX,re=_.getCharset(),te=Object.create(null);for(let ae in J){ae|=0;const se=J[ae],ue=x.StandardEncoding[se[3]],oe=re.indexOf(x.StandardEncoding[se[2]]),me=re.indexOf(ue);if(oe<0||me<0)continue;const de={x:se[0]*Q[0]+se[1]*Q[2]+Q[4],y:se[0]*Q[1]+se[1]*Q[3]+Q[5]},Ae=W(q,ae);if(Ae)for(let Ne=0,Ee=Ae.length;Ne<Ee;Ne++){const Re=Ae[Ne],qe=E.charCodeToGlyphId,Ue=V(qe,oe),Se=V(qe,me);te[Re]={baseFontCharCode:Ue,accentFontCharCode:Se,accentOffset:de}}}T.seacMap=te}const Y=1/(T.fontMatrix||t.FONT_IDENTITY_MATRIX)[0],z=new h.OpenTypeFileBuilder("OTTO");return z.addTable("CFF ",_.data),z.addTable("OS/2",C(T,$)),z.addTable("cmap",O($,B)),z.addTable("head","\0\x01\0\0\0\0\x10\0\0\0\0\0_\x0f<\xf5\0\0"+l(Y)+"\0\0\0\0\x9e\v~'\0\0\0\0\x9e\v~'\0\0"+l(T.descent)+"\x0f\xff"+l(T.ascent)+s(T.italicAngle?2:0)+"\0\x11\0\0\0\0\0\0"),z.addTable("hhea","\0\x01\0\0"+l(T.ascent)+l(T.descent)+"\0\0\xff\xff\0\0\0\0\0\0"+l(T.capHeight)+l(Math.tan(T.italicAngle)*T.xHeight)+"\0\0\0\0\0\0\0\0\0\0\0\0"+s(B)),z.addTable("hmtx",function(){const re=_.charstrings,te=_.cff?_.cff.widths:null;let ae="\0\0\0\0";for(let se=1,le=B;se<le;se++){let ue=0;if(re){const oe=re[se-1];ue="width"in oe?oe.width:0}else te&&(ue=Math.ceil(te[se]||0));ae+=s(ue)+s(0)}return ae}()),z.addTable("maxp","\0\0P\0"+s(B)),z.addTable("name",H(j)),z.addTable("post",N(T)),z.toArray()}get spaceWidth(){const j=["space","minus","one","i","I"];let _;for(let T=0,U=j.length;T<U;T++){const q=j[T];if(q in this.widths){_=this.widths[q];break}const E=(0,e.getGlyphsUnicode)()[q];let $=0;if(this.composite&&this.cMap.contains(E)&&($=this.cMap.lookup(E)),!$&&this.toUnicode&&($=this.toUnicode.charCodeOf(E)),$<=0&&($=E),_=this.widths[$],_)break}return _=_||this.defaultWidth,(0,t.shadow)(this,"spaceWidth",_)}_charToGlyph(j,_=!1){let T,U,q,E=j;this.cMap&&this.cMap.contains(j)&&(E=this.cMap.lookup(j)),U=this.widths[E],U=(0,t.isNum)(U)?U:this.defaultWidth;const $=this.vmetrics&&this.vmetrics[E];let B=this.toUnicode.get(j)||this.fallbackToUnicode.get(j)||j;"number"==typeof B&&(B=String.fromCharCode(B));let W=j in this.toFontChar;if(T=this.toFontChar[j]||j,this.missingFile){const z=this.differences[j]||this.defaultEncoding[j];".notdef"!==z&&""!==z||"Type1"!==this.type||(T=32),T=(0,P.mapSpecialUnicodeValues)(T)}this.isType3Font&&(q=T);let V=null;if(this.seacMap&&this.seacMap[j]){W=!0;const z=this.seacMap[j];T=z.baseFontCharCode,V={fontChar:String.fromCodePoint(z.accentFontCharCode),offset:z.accentOffset}}let J="";"number"==typeof T&&(T<=1114111?J=String.fromCodePoint(T):(0,t.warn)(`charToGlyph - invalid fontCharCode: ${T}`));let Y=this._glyphCache[j];return(!Y||!Y.matchesForCache(J,B,V,U,$,q,_,W))&&(Y=new i(J,B,V,U,$,q,_,W),this._glyphCache[j]=Y),Y}charsToGlyphs(j){let _=this._charsCache[j];if(_)return _;if(_=[],this.cMap){const T=Object.create(null),U=j.length;let q=0;for(;q<U;){this.cMap.readCharCode(j,q,T);const{charcode:E,length:$}=T;q+=$;const B=this._charToGlyph(E,1===$&&32===j.charCodeAt(q-1));_.push(B)}}else for(let T=0,U=j.length;T<U;++T){const q=j.charCodeAt(T),E=this._charToGlyph(q,32===q);_.push(E)}return this._charsCache[j]=_}getCharPositions(j){const _=[];if(this.cMap){const T=Object.create(null);let U=0;for(;U<j.length;){this.cMap.readCharCode(j,U,T);const q=T.length;_.push([U,U+q]),U+=q}}else for(let T=0,U=j.length;T<U;++T)_.push([T,T+1]);return _}get glyphCacheValues(){return Object.values(this._glyphCache)}encodeString(j){const _=[],T=[],U=()=>_.length%2==1;for(let q=0,E=j.length;q<E;q++){const $=j.codePointAt(q);if($>55295&&($<57344||$>65533)&&q++,this.toUnicode){const B=String.fromCodePoint($),W=this.toUnicode.charCodeOf(B);if(-1!==W){U()&&(_.push(T.join("")),T.length=0);for(let V=(this.cMap?this.cMap.getCharCodeLength(W):1)-1;V>=0;V--)T.push(String.fromCharCode(W>>8*V&255));continue}}U()||(_.push(T.join("")),T.length=0),T.push(String.fromCodePoint($))}return _.push(T.join("")),_}},I.ErrorFont=class{constructor(j){this.error=j,this.loadedName="g_font_error",this.missingFile=!0}charsToGlyphs(){return[]}encodeString(j){return[j]}exportData(j=!1){return{error:this.error}}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.CFFTopDict=I.CFFStrings=I.CFFStandardStrings=I.CFFPrivateDict=I.CFFParser=I.CFFIndex=I.CFFHeader=I.CFFFDSelect=I.CFFCompiler=I.CFFCharset=I.CFF=void 0;var t=G(2),F=G(36),R=G(37);const e=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"];I.CFFStandardStrings=e;const L=function(){const i=[null,{id:"hstem",min:2,stackClearing:!0,stem:!0},null,{id:"vstem",min:2,stackClearing:!0,stem:!0},{id:"vmoveto",min:1,stackClearing:!0},{id:"rlineto",min:2,resetStack:!0},{id:"hlineto",min:1,resetStack:!0},{id:"vlineto",min:1,resetStack:!0},{id:"rrcurveto",min:6,resetStack:!0},null,{id:"callsubr",min:1,undefStack:!0},{id:"return",min:0,undefStack:!0},null,null,{id:"endchar",min:0,stackClearing:!0},null,null,null,{id:"hstemhm",min:2,stackClearing:!0,stem:!0},{id:"hintmask",min:0,stackClearing:!0},{id:"cntrmask",min:0,stackClearing:!0},{id:"rmoveto",min:2,stackClearing:!0},{id:"hmoveto",min:1,stackClearing:!0},{id:"vstemhm",min:2,stackClearing:!0,stem:!0},{id:"rcurveline",min:8,resetStack:!0},{id:"rlinecurve",min:8,resetStack:!0},{id:"vvcurveto",min:4,resetStack:!0},{id:"hhcurveto",min:4,resetStack:!0},null,{id:"callgsubr",min:1,undefStack:!0},{id:"vhcurveto",min:4,resetStack:!0},{id:"hvcurveto",min:4,resetStack:!0}],d=[null,null,null,{id:"and",min:2,stackDelta:-1},{id:"or",min:2,stackDelta:-1},{id:"not",min:1,stackDelta:0},null,null,null,{id:"abs",min:1,stackDelta:0},{id:"add",min:2,stackDelta:-1,stackFn:function(s,l){s[l-2]=s[l-2]+s[l-1]}},{id:"sub",min:2,stackDelta:-1,stackFn:function(s,l){s[l-2]=s[l-2]-s[l-1]}},{id:"div",min:2,stackDelta:-1,stackFn:function(s,l){s[l-2]=s[l-2]/s[l-1]}},null,{id:"neg",min:1,stackDelta:0,stackFn:function(s,l){s[l-1]=-s[l-1]}},{id:"eq",min:2,stackDelta:-1},null,null,{id:"drop",min:1,stackDelta:-1},null,{id:"put",min:2,stackDelta:-2},{id:"get",min:1,stackDelta:0},{id:"ifelse",min:4,stackDelta:-3},{id:"random",min:0,stackDelta:1},{id:"mul",min:2,stackDelta:-1,stackFn:function(s,l){s[l-2]=s[l-2]*s[l-1]}},null,{id:"sqrt",min:1,stackDelta:0},{id:"dup",min:1,stackDelta:1},{id:"exch",min:2,stackDelta:0},{id:"index",min:2,stackDelta:0},{id:"roll",min:3,stackDelta:-2},null,null,null,{id:"hflex",min:7,resetStack:!0},{id:"flex",min:13,resetStack:!0},{id:"hflex1",min:9,resetStack:!0},{id:"flex1",min:11,resetStack:!0}];return class{constructor(s,l,A){this.bytes=s.getBytes(),this.properties=l,this.seacAnalysisEnabled=!!A}parse(){const s=this.properties,l=new P;this.cff=l;const A=this.parseHeader(),k=this.parseIndex(A.endPos),u=this.parseIndex(k.endPos),M=this.parseIndex(u.endPos),O=this.parseIndex(M.endPos),C=this.parseDict(u.obj.get(0)),N=this.createDict(h,C,l.strings);l.header=A.obj,l.names=this.parseNameIndex(k.obj),l.strings=this.parseStringIndex(M.obj),l.topDict=N,l.globalSubrIndex=O.obj,this.parsePrivateDict(l.topDict),l.isCIDFont=N.hasName("ROS");const X=N.getByName("CharStrings"),H=this.parseIndex(X).obj,D=N.getByName("FontMatrix");D&&(s.fontMatrix=D);const j=N.getByName("FontBBox");let _,T;if(j&&(s.ascent=Math.max(j[3],j[1]),s.descent=Math.min(j[1],j[3]),s.ascentScaled=!0),l.isCIDFont){const q=this.parseIndex(N.getByName("FDArray")).obj;for(let E=0,$=q.count;E<$;++E){const B=q.get(E),W=this.createDict(h,this.parseDict(B),l.strings);this.parsePrivateDict(W),l.fdArray.push(W)}T=null,_=this.parseCharsets(N.getByName("charset"),H.count,l.strings,!0),l.fdSelect=this.parseFDSelect(N.getByName("FDSelect"),H.count)}else _=this.parseCharsets(N.getByName("charset"),H.count,l.strings,!1),T=this.parseEncoding(N.getByName("Encoding"),s,l.strings,_.charset);l.charset=_,l.encoding=T;const U=this.parseCharStrings({charStrings:H,localSubrIndex:N.privateDict.subrsIndex,globalSubrIndex:O.obj,fdSelect:l.fdSelect,fdArray:l.fdArray,privateDict:N.privateDict});return l.charStrings=U.charStrings,l.seacs=U.seacs,l.widths=U.widths,l}parseHeader(){let s=this.bytes;const l=s.length;let A=0;for(;A<l&&1!==s[A];)++A;if(A>=l)throw new t.FormatError("Invalid CFF header");0!==A&&((0,t.info)("cff data is shifted"),s=s.subarray(A),this.bytes=s);const M=s[2];return{obj:new b(s[0],s[1],M,s[3]),endPos:M}}parseDict(s){let l=0;function A(){let O=s[l++];return 30===O?function(){let N="";const H=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"],D=s.length;for(;l<D;){const j=s[l++],_=j>>4,T=15&j;if(15===_||(N+=H[_],15===T))break;N+=H[T]}return parseFloat(N)}():28===O?(O=s[l++],O=(O<<24|s[l++]<<16)>>16,O):29===O?(O=s[l++],O=O<<8|s[l++],O=O<<8|s[l++],O=O<<8|s[l++],O):O>=32&&O<=246?O-139:O>=247&&O<=250?256*(O-247)+s[l++]+108:O>=251&&O<=254?-256*(O-251)-s[l++]-108:((0,t.warn)('CFFParser_parseDict: "'+O+'" is a reserved command.'),NaN)}let k=[];const u=[];l=0;const M=s.length;for(;l<M;){let O=s[l];O<=21?(12===O&&(O=O<<8|s[++l]),u.push([O,k]),k=[],++l):k.push(A())}return u}parseIndex(s){const l=new w,A=this.bytes,k=A[s++]<<8|A[s++],u=[];let M,O,C=s;if(0!==k){const N=A[s++],X=s+(k+1)*N-1;for(M=0,O=k+1;M<O;++M){let H=0;for(let D=0;D<N;++D)H<<=8,H+=A[s++];u.push(X+H)}C=u[k]}for(M=0,O=u.length-1;M<O;++M)l.add(A.subarray(u[M],u[M+1]));return{obj:l,endPos:C}}parseNameIndex(s){const l=[];for(let A=0,k=s.count;A<k;++A){const u=s.get(A);l.push((0,t.bytesToString)(u))}return l}parseStringIndex(s){const l=new r;for(let A=0,k=s.count;A<k;++A){const u=s.get(A);l.add((0,t.bytesToString)(u))}return l}createDict(s,l,A){const k=new s(A);for(let u=0,M=l.length;u<M;++u){const O=l[u];k.setByKey(O[0],O[1])}return k}parseCharString(s,l,A,k){if(!l||s.callDepth>10)return!1;let u=s.stackSize;const M=s.stack,O=l.length;for(let C=0;C<O;){const N=l[C++];let X=null;if(12===N){const H=l[C++];0===H?(l[C-2]=139,l[C-1]=22,u=0):X=d[H]}else if(28===N)M[u]=(l[C]<<24|l[C+1]<<16)>>16,C+=2,u++;else if(14===N){if(u>=4&&(u-=4,this.seacAnalysisEnabled))return s.seac=M.slice(u,u+4),!1;X=i[N]}else if(N>=32&&N<=246)M[u]=N-139,u++;else if(N>=247&&N<=254)M[u]=N<251?(N-247<<8)+l[C]+108:-(N-251<<8)-l[C]-108,C++,u++;else if(255===N)M[u]=(l[C]<<24|l[C+1]<<16|l[C+2]<<8|l[C+3])/65536,C+=4,u++;else if(19===N||20===N)s.hints+=u>>1,C+=s.hints+7>>3,u%=2,X=i[N];else{if(10===N||29===N){let H;if(H=10===N?A:k,!H)return X=i[N],(0,t.warn)("Missing subrsIndex for "+X.id),!1;let D=32768;H.count<1240?D=107:H.count<33900&&(D=1131);const j=M[--u]+D;if(j<0||j>=H.count||isNaN(j))return X=i[N],(0,t.warn)("Out of bounds subrIndex for "+X.id),!1;if(s.stackSize=u,s.callDepth++,!this.parseCharString(s,H.get(j),A,k))return!1;s.callDepth--,u=s.stackSize;continue}if(11===N)return s.stackSize=u,!0;X=i[N]}if(X){if(X.stem&&(s.hints+=u>>1,3===N||23===N?s.hasVStems=!0:s.hasVStems&&(1===N||18===N)&&((0,t.warn)("CFF stem hints are in wrong order"),l[C-1]=1===N?3:23)),"min"in X&&!s.undefStack&&u<X.min)return(0,t.warn)("Not enough parameters for "+X.id+"; actual: "+u+", expected: "+X.min),!1;s.firstStackClearing&&X.stackClearing&&(s.firstStackClearing=!1,u-=X.min,u>=2&&X.stem?u%=2:u>1&&(0,t.warn)("Found too many parameters for stack-clearing command"),u>0&&(s.width=M[u-1])),"stackDelta"in X?("stackFn"in X&&X.stackFn(M,u),u+=X.stackDelta):X.stackClearing?u=0:X.resetStack?(u=0,s.undefStack=!1):X.undefStack&&(u=0,s.undefStack=!0,s.firstStackClearing=!1)}}return s.stackSize=u,!0}parseCharStrings({charStrings:s,localSubrIndex:l,globalSubrIndex:A,fdSelect:k,fdArray:u,privateDict:M}){const O=[],C=[],N=s.count;for(let X=0;X<N;X++){const H=s.get(X),D={callDepth:0,stackSize:0,stack:[],undefStack:!0,hints:0,firstStackClearing:!0,seac:null,width:null,hasVStems:!1};let j=!0,_=null,T=M;if(k&&u.length){const U=k.getFDIndex(X);-1===U&&((0,t.warn)("Glyph index is not in fd select."),j=!1),U>=u.length&&((0,t.warn)("Invalid fd index for glyph index."),j=!1),j&&(T=u[U].privateDict,_=T.subrsIndex)}else l&&(_=l);if(j&&(j=this.parseCharString(D,H,_,A)),null!==D.width){const U=T.getByName("nominalWidthX");C[X]=U+D.width}else{const U=T.getByName("defaultWidthX");C[X]=U}null!==D.seac&&(O[X]=D.seac),j||s.set(X,new Uint8Array([14]))}return{charStrings:s,seacs:O,widths:C}}emptyPrivateDictionary(s){const l=this.createDict(n,[],s.strings);s.setByKey(18,[0,0]),s.privateDict=l}parsePrivateDict(s){if(!s.hasName("Private"))return void this.emptyPrivateDictionary(s);const l=s.getByName("Private");if(!Array.isArray(l)||2!==l.length)return void s.removeByName("Private");const A=l[0],k=l[1];if(0===A||k>=this.bytes.length)return void this.emptyPrivateDictionary(s);const M=this.bytes.subarray(k,k+A),O=this.parseDict(M),C=this.createDict(n,O,s.strings);if(s.privateDict=C,!C.getByName("Subrs"))return;const N=C.getByName("Subrs"),X=k+N;if(0===N||X>=this.bytes.length)return void this.emptyPrivateDictionary(s);const H=this.parseIndex(X);C.subrsIndex=H.obj}parseCharsets(s,l,A,k){if(0===s)return new p(!0,a.ISO_ADOBE,F.ISOAdobeCharset);if(1===s)return new p(!0,a.EXPERT,F.ExpertCharset);if(2===s)return new p(!0,a.EXPERT_SUBSET,F.ExpertSubsetCharset);const u=this.bytes,M=s,O=u[s++],C=[k?0:".notdef"];let N,X,H;switch(l-=1,O){case 0:for(H=0;H<l;H++)N=u[s++]<<8|u[s++],C.push(k?N:A.get(N));break;case 1:for(;C.length<=l;)for(N=u[s++]<<8|u[s++],X=u[s++],H=0;H<=X;H++)C.push(k?N++:A.get(N++));break;case 2:for(;C.length<=l;)for(N=u[s++]<<8|u[s++],X=u[s++]<<8|u[s++],H=0;H<=X;H++)C.push(k?N++:A.get(N++));break;default:throw new t.FormatError("Unknown charset format")}const j=u.subarray(M,s);return new p(!1,O,C,j)}parseEncoding(s,l,A,k){const u=Object.create(null),M=this.bytes;let O,C,N,X=!1,H=null;if(0===s||1===s){X=!0,O=s;const D=s?R.ExpertEncoding:R.StandardEncoding;for(C=0,N=k.length;C<N;C++){const j=D.indexOf(k[C]);-1!==j&&(u[j]=C)}}else{const D=s;switch(O=M[s++],127&O){case 0:const _=M[s++];for(C=1;C<=_;C++)u[M[s++]]=C;break;case 1:const T=M[s++];let U=1;for(C=0;C<T;C++){const q=M[s++],E=M[s++];for(let $=q;$<=q+E;$++)u[$]=U++}break;default:throw new t.FormatError(`Unknown encoding format: ${O} in CFF`)}const j=s;128&O&&(M[D]&=127,function(){const T=M[s++];for(C=0;C<T;C++){const U=M[s++],q=(M[s++]<<8)+(255&M[s++]);u[U]=k.indexOf(A.get(q))}}()),H=M.subarray(D,j)}return O&=127,new v(X,O,u,H)}parseFDSelect(s,l){const A=this.bytes,k=A[s++],u=[];let M;switch(k){case 0:for(M=0;M<l;++M){const C=A[s++];u.push(C)}break;case 3:const O=A[s++]<<8|A[s++];for(M=0;M<O;++M){let C=A[s++]<<8|A[s++];0===M&&0!==C&&((0,t.warn)("parseFDSelect: The first range must have a first GID of 0 -- trying to recover."),C=0);const N=A[s++],X=A[s]<<8|A[s+1];for(let H=C;H<X;++H)u.push(N)}s+=2;break;default:throw new t.FormatError(`parseFDSelect: Unknown format "${k}".`)}if(u.length!==l)throw new t.FormatError("parseFDSelect: Invalid font data.");return new m(k,u)}}}();I.CFFParser=L;class P{constructor(){this.header=null,this.names=[],this.topDict=null,this.strings=new r,this.globalSubrIndex=null,this.encoding=null,this.charset=null,this.charStrings=null,this.fdArray=[],this.fdSelect=null,this.isCIDFont=!1}duplicateFirstGlyph(){if(this.charStrings.count>=65535)return void(0,t.warn)("Not enough space in charstrings to duplicate first glyph.");const i=this.charStrings.get(0);this.charStrings.add(i),this.isCIDFont&&this.fdSelect.fdSelect.push(this.fdSelect.fdSelect[0])}hasGlyphId(i){return!(i<0||i>=this.charStrings.count)&&this.charStrings.get(i).length>0}}I.CFF=P;class b{constructor(i,d,S,s){this.major=i,this.minor=d,this.hdrSize=S,this.offSize=s}}I.CFFHeader=b;class r{constructor(){this.strings=[]}get(i){return i>=0&&i<=390?e[i]:i-391<=this.strings.length?this.strings[i-391]:e[0]}getSID(i){let d=e.indexOf(i);return-1!==d?d:(d=this.strings.indexOf(i),-1!==d?d+391:-1)}add(i){this.strings.push(i)}get count(){return this.strings.length}}I.CFFStrings=r;class w{constructor(){this.objects=[],this.length=0}add(i){this.length+=i.length,this.objects.push(i)}set(i,d){this.length+=d.length-this.objects[i].length,this.objects[i]=d}get(i){return this.objects[i]}get count(){return this.objects.length}}I.CFFIndex=w;class o{constructor(i,d){this.keyToNameMap=i.keyToNameMap,this.nameToKeyMap=i.nameToKeyMap,this.defaults=i.defaults,this.types=i.types,this.opcodes=i.opcodes,this.order=i.order,this.strings=d,this.values=Object.create(null)}setByKey(i,d){if(!(i in this.keyToNameMap))return!1;const S=d.length;if(0===S)return!0;for(let l=0;l<S;l++)if(isNaN(d[l]))return(0,t.warn)('Invalid CFFDict value: "'+d+'" for key "'+i+'".'),!0;const s=this.types[i];return"num"!==s&&"sid"!==s&&"offset"!==s||(d=d[0]),this.values[i]=d,!0}setByName(i,d){if(!(i in this.nameToKeyMap))throw new t.FormatError(`Invalid dictionary name "${i}"`);this.values[this.nameToKeyMap[i]]=d}hasName(i){return this.nameToKeyMap[i]in this.values}getByName(i){if(!(i in this.nameToKeyMap))throw new t.FormatError(`Invalid dictionary name ${i}"`);const d=this.nameToKeyMap[i];return d in this.values?this.values[d]:this.defaults[d]}removeByName(i){delete this.values[this.nameToKeyMap[i]]}static createTables(i){const d={keyToNameMap:{},nameToKeyMap:{},defaults:{},types:{},opcodes:{},order:[]};for(let S=0,s=i.length;S<s;++S){const l=i[S],A=Array.isArray(l[0])?(l[0][0]<<8)+l[0][1]:l[0];d.keyToNameMap[A]=l[1],d.nameToKeyMap[l[1]]=A,d.types[A]=l[2],d.defaults[A]=l[3],d.opcodes[A]=Array.isArray(l[0])?l[0]:[l[0]],d.order.push(A)}return d}}const h=function(){const i=[[[12,30],"ROS",["sid","sid","num"],null],[[12,20],"SyntheticBase","num",null],[0,"version","sid",null],[1,"Notice","sid",null],[[12,0],"Copyright","sid",null],[2,"FullName","sid",null],[3,"FamilyName","sid",null],[4,"Weight","sid",null],[[12,1],"isFixedPitch","num",0],[[12,2],"ItalicAngle","num",0],[[12,3],"UnderlinePosition","num",-100],[[12,4],"UnderlineThickness","num",50],[[12,5],"PaintType","num",0],[[12,6],"CharstringType","num",2],[[12,7],"FontMatrix",["num","num","num","num","num","num"],[.001,0,0,.001,0,0]],[13,"UniqueID","num",null],[5,"FontBBox",["num","num","num","num"],[0,0,0,0]],[[12,8],"StrokeWidth","num",0],[14,"XUID","array",null],[15,"charset","offset",0],[16,"Encoding","offset",0],[17,"CharStrings","offset",0],[18,"Private",["offset","offset"],null],[[12,21],"PostScript","sid",null],[[12,22],"BaseFontName","sid",null],[[12,23],"BaseFontBlend","delta",null],[[12,31],"CIDFontVersion","num",0],[[12,32],"CIDFontRevision","num",0],[[12,33],"CIDFontType","num",0],[[12,34],"CIDCount","num",8720],[[12,35],"UIDBase","num",null],[[12,37],"FDSelect","offset",null],[[12,36],"FDArray","offset",null],[[12,38],"FontName","sid",null]];let d=null;return class extends o{constructor(s){null===d&&(d=o.createTables(i)),super(d,s),this.privateDict=null}}}();I.CFFTopDict=h;const n=function(){const i=[[6,"BlueValues","delta",null],[7,"OtherBlues","delta",null],[8,"FamilyBlues","delta",null],[9,"FamilyOtherBlues","delta",null],[[12,9],"BlueScale","num",.039625],[[12,10],"BlueShift","num",7],[[12,11],"BlueFuzz","num",1],[10,"StdHW","num",null],[11,"StdVW","num",null],[[12,12],"StemSnapH","delta",null],[[12,13],"StemSnapV","delta",null],[[12,14],"ForceBold","num",0],[[12,17],"LanguageGroup","num",0],[[12,18],"ExpansionFactor","num",.06],[[12,19],"initialRandomSeed","num",0],[20,"defaultWidthX","num",0],[21,"nominalWidthX","num",0],[19,"Subrs","offset",null]];let d=null;return class extends o{constructor(s){null===d&&(d=o.createTables(i)),super(d,s),this.subrsIndex=null}}}();I.CFFPrivateDict=n;const a={ISO_ADOBE:0,EXPERT:1,EXPERT_SUBSET:2};class p{constructor(i,d,S,s){this.predefined=i,this.format=d,this.charset=S,this.raw=s}}I.CFFCharset=p;class v{constructor(i,d,S,s){this.predefined=i,this.format=d,this.encoding=S,this.raw=s}}class m{constructor(i,d){this.format=i,this.fdSelect=d}getFDIndex(i){return i<0||i>=this.fdSelect.length?-1:this.fdSelect[i]}}I.CFFFDSelect=m;class c{constructor(){this.offsets=Object.create(null)}isTracking(i){return i in this.offsets}track(i,d){if(i in this.offsets)throw new t.FormatError(`Already tracking location of ${i}`);this.offsets[i]=d}offset(i){for(const d in this.offsets)this.offsets[d]+=i}setEntryLocation(i,d,S){if(!(i in this.offsets))throw new t.FormatError(`Not tracking location of ${i}`);const s=S.data,l=this.offsets[i];for(let A=0,k=d.length;A<k;++A){const u=5*A+l,M=u+1,O=u+2,C=u+3,N=u+4;if(29!==s[u]||0!==s[M]||0!==s[O]||0!==s[C]||0!==s[N])throw new t.FormatError("writing to an offset that is not empty");const X=d[A];s[u]=29,s[M]=X>>24&255,s[O]=X>>16&255,s[C]=X>>8&255,s[N]=255&X}}}class f{constructor(i){this.cff=i}compile(){const i=this.cff,d={data:[],length:0,add:function(X){this.data=this.data.concat(X),this.length=this.data.length}},S=this.compileHeader(i.header);d.add(S);const s=this.compileNameIndex(i.names);if(d.add(s),i.isCIDFont&&i.topDict.hasName("FontMatrix")){const N=i.topDict.getByName("FontMatrix");i.topDict.removeByName("FontMatrix");for(let X=0,H=i.fdArray.length;X<H;X++){const D=i.fdArray[X];let j=N.slice(0);D.hasName("FontMatrix")&&(j=t.Util.transform(j,D.getByName("FontMatrix"))),D.setByName("FontMatrix",j)}}const l=i.topDict.getByName("XUID");l&&l.length>16&&i.topDict.removeByName("XUID"),i.topDict.setByName("charset",0);let A=this.compileTopDicts([i.topDict],d.length,i.isCIDFont);d.add(A.output);const k=A.trackers[0],u=this.compileStringIndex(i.strings.strings);d.add(u);const M=this.compileIndex(i.globalSubrIndex);if(d.add(M),i.encoding&&i.topDict.hasName("Encoding"))if(i.encoding.predefined)k.setEntryLocation("Encoding",[i.encoding.format],d);else{const N=this.compileEncoding(i.encoding);k.setEntryLocation("Encoding",[d.length],d),d.add(N)}const O=this.compileCharset(i.charset,i.charStrings.count,i.strings,i.isCIDFont);k.setEntryLocation("charset",[d.length],d),d.add(O);const C=this.compileCharStrings(i.charStrings);if(k.setEntryLocation("CharStrings",[d.length],d),d.add(C),i.isCIDFont){k.setEntryLocation("FDSelect",[d.length],d);const N=this.compileFDSelect(i.fdSelect);d.add(N),A=this.compileTopDicts(i.fdArray,d.length,!0),k.setEntryLocation("FDArray",[d.length],d),d.add(A.output),this.compilePrivateDicts(i.fdArray,A.trackers,d)}return this.compilePrivateDicts([i.topDict],[k],d),d.add([0]),d.data}encodeNumber(i){return Number.isInteger(i)?this.encodeInteger(i):this.encodeFloat(i)}static get EncodeFloatRegExp(){return(0,t.shadow)(this,"EncodeFloatRegExp",/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/)}encodeFloat(i){let d=i.toString();const S=f.EncodeFloatRegExp.exec(d);if(S){const u=parseFloat("1e"+((S[2]?+S[2]:0)+S[1].length));d=(Math.round(i*u)/u).toString()}let s,l,A="";for(s=0,l=d.length;s<l;++s){const u=d[s];A+="e"===u?"-"===d[++s]?"c":"b":"."===u?"a":"-"===u?"e":u}A+=1&A.length?"f":"ff";const k=[30];for(s=0,l=A.length;s<l;s+=2)k.push(parseInt(A.substring(s,s+2),16));return k}encodeInteger(i){let d;return d=i>=-107&&i<=107?[i+139]:i>=108&&i<=1131?[247+((i-=108)>>8),255&i]:i>=-1131&&i<=-108?[251+((i=-i-108)>>8),255&i]:i>=-32768&&i<=32767?[28,i>>8&255,255&i]:[29,i>>24&255,i>>16&255,i>>8&255,255&i],d}compileHeader(i){return[i.major,i.minor,4,i.offSize]}compileNameIndex(i){const d=new w;for(let S=0,s=i.length;S<s;++S){const l=i[S],A=Math.min(l.length,127);let k=new Array(A);for(let u=0;u<A;u++){let M=l[u];(M<"!"||M>"~"||"["===M||"]"===M||"("===M||")"===M||"{"===M||"}"===M||"<"===M||">"===M||"/"===M||"%"===M)&&(M="_"),k[u]=M}k=k.join(""),""===k&&(k="Bad_Font_Name"),d.add((0,t.stringToBytes)(k))}return this.compileIndex(d)}compileTopDicts(i,d,S){const s=[];let l=new w;for(let A=0,k=i.length;A<k;++A){const u=i[A];S&&(u.removeByName("CIDFontVersion"),u.removeByName("CIDFontRevision"),u.removeByName("CIDFontType"),u.removeByName("CIDCount"),u.removeByName("UIDBase"));const M=new c,O=this.compileDict(u,M);s.push(M),l.add(O),M.offset(d)}return l=this.compileIndex(l,s),{trackers:s,output:l}}compilePrivateDicts(i,d,S){for(let s=0,l=i.length;s<l;++s){const A=i[s],k=A.privateDict;if(!k||!A.hasName("Private"))throw new t.FormatError("There must be a private dictionary.");const u=new c,M=this.compileDict(k,u);let O=S.length;if(u.offset(O),M.length||(O=0),d[s].setEntryLocation("Private",[M.length,O],S),S.add(M),k.subrsIndex&&k.hasName("Subrs")){const C=this.compileIndex(k.subrsIndex);u.setEntryLocation("Subrs",[M.length],S),S.add(C)}}}compileDict(i,d){let S=[];const s=i.order;for(let l=0;l<s.length;++l){const A=s[l];if(!(A in i.values))continue;let k=i.values[A],u=i.types[A];if(Array.isArray(u)||(u=[u]),Array.isArray(k)||(k=[k]),0!==k.length){for(let M=0,O=u.length;M<O;++M){const C=u[M],N=k[M];switch(C){case"num":case"sid":S=S.concat(this.encodeNumber(N));break;case"offset":const X=i.keyToNameMap[A];d.isTracking(X)||d.track(X,S.length),S=S.concat([29,0,0,0,0]);break;case"array":case"delta":S=S.concat(this.encodeNumber(N));for(let H=1,D=k.length;H<D;++H)S=S.concat(this.encodeNumber(k[H]));break;default:throw new t.FormatError(`Unknown data type of ${C}`)}}S=S.concat(i.opcodes[A])}}return S}compileStringIndex(i){const d=new w;for(let S=0,s=i.length;S<s;++S)d.add((0,t.stringToBytes)(i[S]));return this.compileIndex(d)}compileGlobalSubrIndex(){this.out.writeByteArray(this.compileIndex(this.cff.globalSubrIndex))}compileCharStrings(i){const d=new w;for(let S=0;S<i.count;S++){const s=i.get(S);d.add(0!==s.length?s:new Uint8Array([139,14]))}return this.compileIndex(d)}compileCharset(i,d,S,s){let l;const A=d-1;if(s)l=new Uint8Array([2,0,0,A>>8&255,255&A]);else{l=new Uint8Array(1+2*A),l[0]=0;let k=0;const u=i.charset.length;let M=!1;for(let O=1;O<l.length;O+=2){let C=0;if(k<u){const N=i.charset[k++];C=S.getSID(N),-1===C&&(C=0,M||(M=!0,(0,t.warn)(`Couldn't find ${N} in CFF strings`)))}l[O]=C>>8&255,l[O+1]=255&C}}return this.compileTypedArray(l)}compileEncoding(i){return this.compileTypedArray(i.raw)}compileFDSelect(i){const d=i.format;let S,s;switch(d){case 0:for(S=new Uint8Array(1+i.fdSelect.length),S[0]=d,s=0;s<i.fdSelect.length;s++)S[s+1]=i.fdSelect[s];break;case 3:const l=0;let A=i.fdSelect[0];const k=[d,0,0,l>>8&255,255&l,A];for(s=1;s<i.fdSelect.length;s++){const M=i.fdSelect[s];M!==A&&(k.push(s>>8&255,255&s,M),A=M)}const u=(k.length-3)/3;k[1]=u>>8&255,k[2]=255&u,k.push(s>>8&255,255&s),S=new Uint8Array(k)}return this.compileTypedArray(S)}compileTypedArray(i){const d=[];for(let S=0,s=i.length;S<s;++S)d[S]=i[S];return d}compileIndex(i,d=[]){const S=i.objects,s=S.length;if(0===s)return[0,0,0];const l=[s>>8&255,255&s];let A,k,u=1;for(A=0;A<s;++A)u+=S[A].length;k=u<256?1:u<65536?2:u<16777216?3:4,l.push(k);let M=1;for(A=0;A<s+1;A++)1===k?l.push(255&M):2===k?l.push(M>>8&255,255&M):3===k?l.push(M>>16&255,M>>8&255,255&M):l.push(M>>>24&255,M>>16&255,M>>8&255,255&M),S[A]&&(M+=S[A].length);for(A=0;A<s;A++){d[A]&&d[A].offset(l.length);for(let O=0,C=S[A].length;O<C;O++)l.push(S[A][O])}return l}}I.CFFCompiler=f},(ne,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.ISOAdobeCharset=I.ExpertSubsetCharset=I.ExpertCharset=void 0,I.ISOAdobeCharset=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron"],I.ExpertCharset=[".notdef","space","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],I.ExpertSubsetCharset=[".notdef","space","dollaroldstyle","dollarsuperior","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","fi","fl","ffi","ffl","parenleftinferior","parenrightinferior","hyphensuperior","colonmonetary","onefitted","rupiah","centoldstyle","figuredash","hypheninferior","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior"]},(ne,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getEncoding=function(b){switch(b){case"WinAnsiEncoding":return e;case"StandardEncoding":return R;case"MacRomanEncoding":return F;case"SymbolSetEncoding":return x;case"ZapfDingbatsEncoding":return L;case"ExpertEncoding":return G;case"MacExpertEncoding":return t;default:return null}},I.ZapfDingbatsEncoding=I.WinAnsiEncoding=I.SymbolSetEncoding=I.StandardEncoding=I.MacRomanEncoding=I.ExpertEncoding=void 0;const G=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"];I.ExpertEncoding=G;const t=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","centoldstyle","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","","threequartersemdash","","questionsmall","","","","","Ethsmall","","","onequarter","onehalf","threequarters","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","","","","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hypheninferior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","asuperior","centsuperior","","","","","Aacutesmall","Agravesmall","Acircumflexsmall","Adieresissmall","Atildesmall","Aringsmall","Ccedillasmall","Eacutesmall","Egravesmall","Ecircumflexsmall","Edieresissmall","Iacutesmall","Igravesmall","Icircumflexsmall","Idieresissmall","Ntildesmall","Oacutesmall","Ogravesmall","Ocircumflexsmall","Odieresissmall","Otildesmall","Uacutesmall","Ugravesmall","Ucircumflexsmall","Udieresissmall","","eightsuperior","fourinferior","threeinferior","sixinferior","eightinferior","seveninferior","Scaronsmall","","centinferior","twoinferior","","Dieresissmall","","Caronsmall","osuperior","fiveinferior","","commainferior","periodinferior","Yacutesmall","","dollarinferior","","","Thornsmall","","nineinferior","zeroinferior","Zcaronsmall","AEsmall","Oslashsmall","questiondownsmall","oneinferior","Lslashsmall","","","","","","","Cedillasmall","","","","","","OEsmall","figuredash","hyphensuperior","","","","","exclamdownsmall","","Ydieresissmall","","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","ninesuperior","zerosuperior","","esuperior","rsuperior","tsuperior","","","isuperior","ssuperior","dsuperior","","","","","","lsuperior","Ogoneksmall","Brevesmall","Macronsmall","bsuperior","nsuperior","msuperior","commasuperior","periodsuperior","Dotaccentsmall","Ringsmall","","","",""],F=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","space","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron"];I.MacRomanEncoding=F;const R=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls","","","",""];I.StandardEncoding=R;const e=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","bullet","Euro","bullet","quotesinglbase","florin","quotedblbase","ellipsis","dagger","daggerdbl","circumflex","perthousand","Scaron","guilsinglleft","OE","bullet","Zcaron","bullet","bullet","quoteleft","quoteright","quotedblleft","quotedblright","bullet","endash","emdash","tilde","trademark","scaron","guilsinglright","oe","bullet","zcaron","Ydieresis","space","exclamdown","cent","sterling","currency","yen","brokenbar","section","dieresis","copyright","ordfeminine","guillemotleft","logicalnot","hyphen","registered","macron","degree","plusminus","twosuperior","threesuperior","acute","mu","paragraph","periodcentered","cedilla","onesuperior","ordmasculine","guillemotright","onequarter","onehalf","threequarters","questiondown","Agrave","Aacute","Acircumflex","Atilde","Adieresis","Aring","AE","Ccedilla","Egrave","Eacute","Ecircumflex","Edieresis","Igrave","Iacute","Icircumflex","Idieresis","Eth","Ntilde","Ograve","Oacute","Ocircumflex","Otilde","Odieresis","multiply","Oslash","Ugrave","Uacute","Ucircumflex","Udieresis","Yacute","Thorn","germandbls","agrave","aacute","acircumflex","atilde","adieresis","aring","ae","ccedilla","egrave","eacute","ecircumflex","edieresis","igrave","iacute","icircumflex","idieresis","eth","ntilde","ograve","oacute","ocircumflex","otilde","odieresis","divide","oslash","ugrave","uacute","ucircumflex","udieresis","yacute","thorn","ydieresis"];I.WinAnsiEncoding=e;const x=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","universal","numbersign","existential","percent","ampersand","suchthat","parenleft","parenright","asteriskmath","plus","comma","minus","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","congruent","Alpha","Beta","Chi","Delta","Epsilon","Phi","Gamma","Eta","Iota","theta1","Kappa","Lambda","Mu","Nu","Omicron","Pi","Theta","Rho","Sigma","Tau","Upsilon","sigma1","Omega","Xi","Psi","Zeta","bracketleft","therefore","bracketright","perpendicular","underscore","radicalex","alpha","beta","chi","delta","epsilon","phi","gamma","eta","iota","phi1","kappa","lambda","mu","nu","omicron","pi","theta","rho","sigma","tau","upsilon","omega1","omega","xi","psi","zeta","braceleft","bar","braceright","similar","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","Euro","Upsilon1","minute","lessequal","fraction","infinity","florin","club","diamond","heart","spade","arrowboth","arrowleft","arrowup","arrowright","arrowdown","degree","plusminus","second","greaterequal","multiply","proportional","partialdiff","bullet","divide","notequal","equivalence","approxequal","ellipsis","arrowvertex","arrowhorizex","carriagereturn","aleph","Ifraktur","Rfraktur","weierstrass","circlemultiply","circleplus","emptyset","intersection","union","propersuperset","reflexsuperset","notsubset","propersubset","reflexsubset","element","notelement","angle","gradient","registerserif","copyrightserif","trademarkserif","product","radical","dotmath","logicalnot","logicaland","logicalor","arrowdblboth","arrowdblleft","arrowdblup","arrowdblright","arrowdbldown","lozenge","angleleft","registersans","copyrightsans","trademarksans","summation","parenlefttp","parenleftex","parenleftbt","bracketlefttp","bracketleftex","bracketleftbt","bracelefttp","braceleftmid","braceleftbt","braceex","","angleright","integral","integraltp","integralex","integralbt","parenrighttp","parenrightex","parenrightbt","bracketrighttp","bracketrightex","bracketrightbt","bracerighttp","bracerightmid","bracerightbt",""];I.SymbolSetEncoding=x;const L=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","a1","a2","a202","a3","a4","a5","a119","a118","a117","a11","a12","a13","a14","a15","a16","a105","a17","a18","a19","a20","a21","a22","a23","a24","a25","a26","a27","a28","a6","a7","a8","a9","a10","a29","a30","a31","a32","a33","a34","a35","a36","a37","a38","a39","a40","a41","a42","a43","a44","a45","a46","a47","a48","a49","a50","a51","a52","a53","a54","a55","a56","a57","a58","a59","a60","a61","a62","a63","a64","a65","a66","a67","a68","a69","a70","a71","a72","a73","a74","a203","a75","a204","a76","a77","a78","a79","a81","a82","a83","a84","a97","a98","a99","a100","","a89","a90","a93","a94","a91","a92","a205","a85","a206","a86","a87","a88","a95","a96","","","","","","","","","","","","","","","","","","","","a101","a102","a103","a104","a106","a107","a108","a112","a111","a110","a109","a120","a121","a122","a123","a124","a125","a126","a127","a128","a129","a130","a131","a132","a133","a134","a135","a136","a137","a138","a139","a140","a141","a142","a143","a144","a145","a146","a147","a148","a149","a150","a151","a152","a153","a154","a155","a156","a157","a158","a159","a160","a161","a163","a164","a196","a165","a192","a166","a167","a168","a169","a170","a171","a172","a173","a162","a174","a175","a176","a177","a178","a179","a193","a180","a199","a181","a200","a182","","a201","a183","a184","a197","a185","a194","a198","a186","a195","a187","a188","a189","a190","a191",""];I.ZapfDingbatsEncoding=L},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getFontType=function(b,r){switch(b){case"Type1":return"Type1C"===r?t.FontType.TYPE1C:t.FontType.TYPE1;case"CIDFontType0":return"CIDFontType0C"===r?t.FontType.CIDFONTTYPE0C:t.FontType.CIDFONTTYPE0;case"OpenType":return t.FontType.OPENTYPE;case"TrueType":return t.FontType.TRUETYPE;case"CIDFontType2":return t.FontType.CIDFONTTYPE2;case"MMType1":return t.FontType.MMTYPE1;case"Type0":return t.FontType.TYPE0;default:return t.FontType.UNKNOWN}},I.recoverGlyphName=L,I.type1FontGlyphMapping=function(b,r,w){const o=Object.create(null);let h,n,a;const p=!!(b.flags&x.Symbolic);if(b.baseEncodingName)for(a=(0,F.getEncoding)(b.baseEncodingName),n=0;n<a.length;n++)h=w.indexOf(a[n]),o[n]=h>=0?h:0;else if(p)for(n in r)o[n]=r[n];else for(a=F.StandardEncoding,n=0;n<a.length;n++)h=w.indexOf(a[n]),o[n]=h>=0?h:0;const v=b.differences;let m;if(v)for(n in v){const c=v[n];if(h=w.indexOf(c),-1===h){m||(m=(0,R.getGlyphsUnicode)());const f=L(c,m);f!==c&&(h=w.indexOf(f))}o[n]=h>=0?h:0}return o},I.SEAC_ANALYSIS_ENABLED=I.MacStandardGlyphOrdering=I.FontFlags=void 0;var t=G(2),F=G(37),R=G(39),e=G(40);I.SEAC_ANALYSIS_ENABLED=!0;const x={FixedPitch:1,Serif:2,Symbolic:4,Script:8,Nonsymbolic:32,Italic:64,AllCap:65536,SmallCap:131072,ForceBold:262144};function L(P,b){if(void 0!==b[P])return P;const r=(0,e.getUnicodeForGlyph)(P,b);if(-1!==r)for(const w in b)if(b[w]===r)return w;return(0,t.info)("Unable to recover a standard glyph name for: "+P),P}I.FontFlags=x,I.MacStandardGlyphOrdering=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"]},(ne,I,G)=>{G.r(I),G.d(I,{getDingbatsGlyphsUnicode:()=>R,getGlyphsUnicode:()=>F});var t=G(9);const F=(0,t.getArrayLookupTableFactory)(function(){return["A",65,"AE",198,"AEacute",508,"AEmacron",482,"AEsmall",63462,"Aacute",193,"Aacutesmall",63457,"Abreve",258,"Abreveacute",7854,"Abrevecyrillic",1232,"Abrevedotbelow",7862,"Abrevegrave",7856,"Abrevehookabove",7858,"Abrevetilde",7860,"Acaron",461,"Acircle",9398,"Acircumflex",194,"Acircumflexacute",7844,"Acircumflexdotbelow",7852,"Acircumflexgrave",7846,"Acircumflexhookabove",7848,"Acircumflexsmall",63458,"Acircumflextilde",7850,"Acute",63177,"Acutesmall",63412,"Acyrillic",1040,"Adblgrave",512,"Adieresis",196,"Adieresiscyrillic",1234,"Adieresismacron",478,"Adieresissmall",63460,"Adotbelow",7840,"Adotmacron",480,"Agrave",192,"Agravesmall",63456,"Ahookabove",7842,"Aiecyrillic",1236,"Ainvertedbreve",514,"Alpha",913,"Alphatonos",902,"Amacron",256,"Amonospace",65313,"Aogonek",260,"Aring",197,"Aringacute",506,"Aringbelow",7680,"Aringsmall",63461,"Asmall",63329,"Atilde",195,"Atildesmall",63459,"Aybarmenian",1329,"B",66,"Bcircle",9399,"Bdotaccent",7682,"Bdotbelow",7684,"Becyrillic",1041,"Benarmenian",1330,"Beta",914,"Bhook",385,"Blinebelow",7686,"Bmonospace",65314,"Brevesmall",63220,"Bsmall",63330,"Btopbar",386,"C",67,"Caarmenian",1342,"Cacute",262,"Caron",63178,"Caronsmall",63221,"Ccaron",268,"Ccedilla",199,"Ccedillaacute",7688,"Ccedillasmall",63463,"Ccircle",9400,"Ccircumflex",264,"Cdot",266,"Cdotaccent",266,"Cedillasmall",63416,"Chaarmenian",1353,"Cheabkhasiancyrillic",1212,"Checyrillic",1063,"Chedescenderabkhasiancyrillic",1214,"Chedescendercyrillic",1206,"Chedieresiscyrillic",1268,"Cheharmenian",1347,"Chekhakassiancyrillic",1227,"Cheverticalstrokecyrillic",1208,"Chi",935,"Chook",391,"Circumflexsmall",63222,"Cmonospace",65315,"Coarmenian",1361,"Csmall",63331,"D",68,"DZ",497,"DZcaron",452,"Daarmenian",1332,"Dafrican",393,"Dcaron",270,"Dcedilla",7696,"Dcircle",9401,"Dcircumflexbelow",7698,"Dcroat",272,"Ddotaccent",7690,"Ddotbelow",7692,"Decyrillic",1044,"Deicoptic",1006,"Delta",8710,"Deltagreek",916,"Dhook",394,"Dieresis",63179,"DieresisAcute",63180,"DieresisGrave",63181,"Dieresissmall",63400,"Digammagreek",988,"Djecyrillic",1026,"Dlinebelow",7694,"Dmonospace",65316,"Dotaccentsmall",63223,"Dslash",272,"Dsmall",63332,"Dtopbar",395,"Dz",498,"Dzcaron",453,"Dzeabkhasiancyrillic",1248,"Dzecyrillic",1029,"Dzhecyrillic",1039,"E",69,"Eacute",201,"Eacutesmall",63465,"Ebreve",276,"Ecaron",282,"Ecedillabreve",7708,"Echarmenian",1333,"Ecircle",9402,"Ecircumflex",202,"Ecircumflexacute",7870,"Ecircumflexbelow",7704,"Ecircumflexdotbelow",7878,"Ecircumflexgrave",7872,"Ecircumflexhookabove",7874,"Ecircumflexsmall",63466,"Ecircumflextilde",7876,"Ecyrillic",1028,"Edblgrave",516,"Edieresis",203,"Edieresissmall",63467,"Edot",278,"Edotaccent",278,"Edotbelow",7864,"Efcyrillic",1060,"Egrave",200,"Egravesmall",63464,"Eharmenian",1335,"Ehookabove",7866,"Eightroman",8551,"Einvertedbreve",518,"Eiotifiedcyrillic",1124,"Elcyrillic",1051,"Elevenroman",8554,"Emacron",274,"Emacronacute",7702,"Emacrongrave",7700,"Emcyrillic",1052,"Emonospace",65317,"Encyrillic",1053,"Endescendercyrillic",1186,"Eng",330,"Enghecyrillic",1188,"Enhookcyrillic",1223,"Eogonek",280,"Eopen",400,"Epsilon",917,"Epsilontonos",904,"Ercyrillic",1056,"Ereversed",398,"Ereversedcyrillic",1069,"Escyrillic",1057,"Esdescendercyrillic",1194,"Esh",425,"Esmall",63333,"Eta",919,"Etarmenian",1336,"Etatonos",905,"Eth",208,"Ethsmall",63472,"Etilde",7868,"Etildebelow",7706,"Euro",8364,"Ezh",439,"Ezhcaron",494,"Ezhreversed",440,"F",70,"Fcircle",9403,"Fdotaccent",7710,"Feharmenian",1366,"Feicoptic",996,"Fhook",401,"Fitacyrillic",1138,"Fiveroman",8548,"Fmonospace",65318,"Fourroman",8547,"Fsmall",63334,"G",71,"GBsquare",13191,"Gacute",500,"Gamma",915,"Gammaafrican",404,"Gangiacoptic",1002,"Gbreve",286,"Gcaron",486,"Gcedilla",290,"Gcircle",9404,"Gcircumflex",284,"Gcommaaccent",290,"Gdot",288,"Gdotaccent",288,"Gecyrillic",1043,"Ghadarmenian",1346,"Ghemiddlehookcyrillic",1172,"Ghestrokecyrillic",1170,"Gheupturncyrillic",1168,"Ghook",403,"Gimarmenian",1331,"Gjecyrillic",1027,"Gmacron",7712,"Gmonospace",65319,"Grave",63182,"Gravesmall",63328,"Gsmall",63335,"Gsmallhook",667,"Gstroke",484,"H",72,"H18533",9679,"H18543",9642,"H18551",9643,"H22073",9633,"HPsquare",13259,"Haabkhasiancyrillic",1192,"Hadescendercyrillic",1202,"Hardsigncyrillic",1066,"Hbar",294,"Hbrevebelow",7722,"Hcedilla",7720,"Hcircle",9405,"Hcircumflex",292,"Hdieresis",7718,"Hdotaccent",7714,"Hdotbelow",7716,"Hmonospace",65320,"Hoarmenian",1344,"Horicoptic",1e3,"Hsmall",63336,"Hungarumlaut",63183,"Hungarumlautsmall",63224,"Hzsquare",13200,"I",73,"IAcyrillic",1071,"IJ",306,"IUcyrillic",1070,"Iacute",205,"Iacutesmall",63469,"Ibreve",300,"Icaron",463,"Icircle",9406,"Icircumflex",206,"Icircumflexsmall",63470,"Icyrillic",1030,"Idblgrave",520,"Idieresis",207,"Idieresisacute",7726,"Idieresiscyrillic",1252,"Idieresissmall",63471,"Idot",304,"Idotaccent",304,"Idotbelow",7882,"Iebrevecyrillic",1238,"Iecyrillic",1045,"Ifraktur",8465,"Igrave",204,"Igravesmall",63468,"Ihookabove",7880,"Iicyrillic",1048,"Iinvertedbreve",522,"Iishortcyrillic",1049,"Imacron",298,"Imacroncyrillic",1250,"Imonospace",65321,"Iniarmenian",1339,"Iocyrillic",1025,"Iogonek",302,"Iota",921,"Iotaafrican",406,"Iotadieresis",938,"Iotatonos",906,"Ismall",63337,"Istroke",407,"Itilde",296,"Itildebelow",7724,"Izhitsacyrillic",1140,"Izhitsadblgravecyrillic",1142,"J",74,"Jaarmenian",1345,"Jcircle",9407,"Jcircumflex",308,"Jecyrillic",1032,"Jheharmenian",1355,"Jmonospace",65322,"Jsmall",63338,"K",75,"KBsquare",13189,"KKsquare",13261,"Kabashkircyrillic",1184,"Kacute",7728,"Kacyrillic",1050,"Kadescendercyrillic",1178,"Kahookcyrillic",1219,"Kappa",922,"Kastrokecyrillic",1182,"Kaverticalstrokecyrillic",1180,"Kcaron",488,"Kcedilla",310,"Kcircle",9408,"Kcommaaccent",310,"Kdotbelow",7730,"Keharmenian",1364,"Kenarmenian",1343,"Khacyrillic",1061,"Kheicoptic",998,"Khook",408,"Kjecyrillic",1036,"Klinebelow",7732,"Kmonospace",65323,"Koppacyrillic",1152,"Koppagreek",990,"Ksicyrillic",1134,"Ksmall",63339,"L",76,"LJ",455,"LL",63167,"Lacute",313,"Lambda",923,"Lcaron",317,"Lcedilla",315,"Lcircle",9409,"Lcircumflexbelow",7740,"Lcommaaccent",315,"Ldot",319,"Ldotaccent",319,"Ldotbelow",7734,"Ldotbelowmacron",7736,"Liwnarmenian",1340,"Lj",456,"Ljecyrillic",1033,"Llinebelow",7738,"Lmonospace",65324,"Lslash",321,"Lslashsmall",63225,"Lsmall",63340,"M",77,"MBsquare",13190,"Macron",63184,"Macronsmall",63407,"Macute",7742,"Mcircle",9410,"Mdotaccent",7744,"Mdotbelow",7746,"Menarmenian",1348,"Mmonospace",65325,"Msmall",63341,"Mturned",412,"Mu",924,"N",78,"NJ",458,"Nacute",323,"Ncaron",327,"Ncedilla",325,"Ncircle",9411,"Ncircumflexbelow",7754,"Ncommaaccent",325,"Ndotaccent",7748,"Ndotbelow",7750,"Nhookleft",413,"Nineroman",8552,"Nj",459,"Njecyrillic",1034,"Nlinebelow",7752,"Nmonospace",65326,"Nowarmenian",1350,"Nsmall",63342,"Ntilde",209,"Ntildesmall",63473,"Nu",925,"O",79,"OE",338,"OEsmall",63226,"Oacute",211,"Oacutesmall",63475,"Obarredcyrillic",1256,"Obarreddieresiscyrillic",1258,"Obreve",334,"Ocaron",465,"Ocenteredtilde",415,"Ocircle",9412,"Ocircumflex",212,"Ocircumflexacute",7888,"Ocircumflexdotbelow",7896,"Ocircumflexgrave",7890,"Ocircumflexhookabove",7892,"Ocircumflexsmall",63476,"Ocircumflextilde",7894,"Ocyrillic",1054,"Odblacute",336,"Odblgrave",524,"Odieresis",214,"Odieresiscyrillic",1254,"Odieresissmall",63478,"Odotbelow",7884,"Ogoneksmall",63227,"Ograve",210,"Ogravesmall",63474,"Oharmenian",1365,"Ohm",8486,"Ohookabove",7886,"Ohorn",416,"Ohornacute",7898,"Ohorndotbelow",7906,"Ohorngrave",7900,"Ohornhookabove",7902,"Ohorntilde",7904,"Ohungarumlaut",336,"Oi",418,"Oinvertedbreve",526,"Omacron",332,"Omacronacute",7762,"Omacrongrave",7760,"Omega",8486,"Omegacyrillic",1120,"Omegagreek",937,"Omegaroundcyrillic",1146,"Omegatitlocyrillic",1148,"Omegatonos",911,"Omicron",927,"Omicrontonos",908,"Omonospace",65327,"Oneroman",8544,"Oogonek",490,"Oogonekmacron",492,"Oopen",390,"Oslash",216,"Oslashacute",510,"Oslashsmall",63480,"Osmall",63343,"Ostrokeacute",510,"Otcyrillic",1150,"Otilde",213,"Otildeacute",7756,"Otildedieresis",7758,"Otildesmall",63477,"P",80,"Pacute",7764,"Pcircle",9413,"Pdotaccent",7766,"Pecyrillic",1055,"Peharmenian",1354,"Pemiddlehookcyrillic",1190,"Phi",934,"Phook",420,"Pi",928,"Piwrarmenian",1363,"Pmonospace",65328,"Psi",936,"Psicyrillic",1136,"Psmall",63344,"Q",81,"Qcircle",9414,"Qmonospace",65329,"Qsmall",63345,"R",82,"Raarmenian",1356,"Racute",340,"Rcaron",344,"Rcedilla",342,"Rcircle",9415,"Rcommaaccent",342,"Rdblgrave",528,"Rdotaccent",7768,"Rdotbelow",7770,"Rdotbelowmacron",7772,"Reharmenian",1360,"Rfraktur",8476,"Rho",929,"Ringsmall",63228,"Rinvertedbreve",530,"Rlinebelow",7774,"Rmonospace",65330,"Rsmall",63346,"Rsmallinverted",641,"Rsmallinvertedsuperior",694,"S",83,"SF010000",9484,"SF020000",9492,"SF030000",9488,"SF040000",9496,"SF050000",9532,"SF060000",9516,"SF070000",9524,"SF080000",9500,"SF090000",9508,"SF100000",9472,"SF110000",9474,"SF190000",9569,"SF200000",9570,"SF210000",9558,"SF220000",9557,"SF230000",9571,"SF240000",9553,"SF250000",9559,"SF260000",9565,"SF270000",9564,"SF280000",9563,"SF360000",9566,"SF370000",9567,"SF380000",9562,"SF390000",9556,"SF400000",9577,"SF410000",9574,"SF420000",9568,"SF430000",9552,"SF440000",9580,"SF450000",9575,"SF460000",9576,"SF470000",9572,"SF480000",9573,"SF490000",9561,"SF500000",9560,"SF510000",9554,"SF520000",9555,"SF530000",9579,"SF540000",9578,"Sacute",346,"Sacutedotaccent",7780,"Sampigreek",992,"Scaron",352,"Scarondotaccent",7782,"Scaronsmall",63229,"Scedilla",350,"Schwa",399,"Schwacyrillic",1240,"Schwadieresiscyrillic",1242,"Scircle",9416,"Scircumflex",348,"Scommaaccent",536,"Sdotaccent",7776,"Sdotbelow",7778,"Sdotbelowdotaccent",7784,"Seharmenian",1357,"Sevenroman",8550,"Shaarmenian",1351,"Shacyrillic",1064,"Shchacyrillic",1065,"Sheicoptic",994,"Shhacyrillic",1210,"Shimacoptic",1004,"Sigma",931,"Sixroman",8549,"Smonospace",65331,"Softsigncyrillic",1068,"Ssmall",63347,"Stigmagreek",986,"T",84,"Tau",932,"Tbar",358,"Tcaron",356,"Tcedilla",354,"Tcircle",9417,"Tcircumflexbelow",7792,"Tcommaaccent",354,"Tdotaccent",7786,"Tdotbelow",7788,"Tecyrillic",1058,"Tedescendercyrillic",1196,"Tenroman",8553,"Tetsecyrillic",1204,"Theta",920,"Thook",428,"Thorn",222,"Thornsmall",63486,"Threeroman",8546,"Tildesmall",63230,"Tiwnarmenian",1359,"Tlinebelow",7790,"Tmonospace",65332,"Toarmenian",1337,"Tonefive",444,"Tonesix",388,"Tonetwo",423,"Tretroflexhook",430,"Tsecyrillic",1062,"Tshecyrillic",1035,"Tsmall",63348,"Twelveroman",8555,"Tworoman",8545,"U",85,"Uacute",218,"Uacutesmall",63482,"Ubreve",364,"Ucaron",467,"Ucircle",9418,"Ucircumflex",219,"Ucircumflexbelow",7798,"Ucircumflexsmall",63483,"Ucyrillic",1059,"Udblacute",368,"Udblgrave",532,"Udieresis",220,"Udieresisacute",471,"Udieresisbelow",7794,"Udieresiscaron",473,"Udieresiscyrillic",1264,"Udieresisgrave",475,"Udieresismacron",469,"Udieresissmall",63484,"Udotbelow",7908,"Ugrave",217,"Ugravesmall",63481,"Uhookabove",7910,"Uhorn",431,"Uhornacute",7912,"Uhorndotbelow",7920,"Uhorngrave",7914,"Uhornhookabove",7916,"Uhorntilde",7918,"Uhungarumlaut",368,"Uhungarumlautcyrillic",1266,"Uinvertedbreve",534,"Ukcyrillic",1144,"Umacron",362,"Umacroncyrillic",1262,"Umacrondieresis",7802,"Umonospace",65333,"Uogonek",370,"Upsilon",933,"Upsilon1",978,"Upsilonacutehooksymbolgreek",979,"Upsilonafrican",433,"Upsilondieresis",939,"Upsilondieresishooksymbolgreek",980,"Upsilonhooksymbol",978,"Upsilontonos",910,"Uring",366,"Ushortcyrillic",1038,"Usmall",63349,"Ustraightcyrillic",1198,"Ustraightstrokecyrillic",1200,"Utilde",360,"Utildeacute",7800,"Utildebelow",7796,"V",86,"Vcircle",9419,"Vdotbelow",7806,"Vecyrillic",1042,"Vewarmenian",1358,"Vhook",434,"Vmonospace",65334,"Voarmenian",1352,"Vsmall",63350,"Vtilde",7804,"W",87,"Wacute",7810,"Wcircle",9420,"Wcircumflex",372,"Wdieresis",7812,"Wdotaccent",7814,"Wdotbelow",7816,"Wgrave",7808,"Wmonospace",65335,"Wsmall",63351,"X",88,"Xcircle",9421,"Xdieresis",7820,"Xdotaccent",7818,"Xeharmenian",1341,"Xi",926,"Xmonospace",65336,"Xsmall",63352,"Y",89,"Yacute",221,"Yacutesmall",63485,"Yatcyrillic",1122,"Ycircle",9422,"Ycircumflex",374,"Ydieresis",376,"Ydieresissmall",63487,"Ydotaccent",7822,"Ydotbelow",7924,"Yericyrillic",1067,"Yerudieresiscyrillic",1272,"Ygrave",7922,"Yhook",435,"Yhookabove",7926,"Yiarmenian",1349,"Yicyrillic",1031,"Yiwnarmenian",1362,"Ymonospace",65337,"Ysmall",63353,"Ytilde",7928,"Yusbigcyrillic",1130,"Yusbigiotifiedcyrillic",1132,"Yuslittlecyrillic",1126,"Yuslittleiotifiedcyrillic",1128,"Z",90,"Zaarmenian",1334,"Zacute",377,"Zcaron",381,"Zcaronsmall",63231,"Zcircle",9423,"Zcircumflex",7824,"Zdot",379,"Zdotaccent",379,"Zdotbelow",7826,"Zecyrillic",1047,"Zedescendercyrillic",1176,"Zedieresiscyrillic",1246,"Zeta",918,"Zhearmenian",1338,"Zhebrevecyrillic",1217,"Zhecyrillic",1046,"Zhedescendercyrillic",1174,"Zhedieresiscyrillic",1244,"Zlinebelow",7828,"Zmonospace",65338,"Zsmall",63354,"Zstroke",437,"a",97,"aabengali",2438,"aacute",225,"aadeva",2310,"aagujarati",2694,"aagurmukhi",2566,"aamatragurmukhi",2622,"aarusquare",13059,"aavowelsignbengali",2494,"aavowelsigndeva",2366,"aavowelsigngujarati",2750,"abbreviationmarkarmenian",1375,"abbreviationsigndeva",2416,"abengali",2437,"abopomofo",12570,"abreve",259,"abreveacute",7855,"abrevecyrillic",1233,"abrevedotbelow",7863,"abrevegrave",7857,"abrevehookabove",7859,"abrevetilde",7861,"acaron",462,"acircle",9424,"acircumflex",226,"acircumflexacute",7845,"acircumflexdotbelow",7853,"acircumflexgrave",7847,"acircumflexhookabove",7849,"acircumflextilde",7851,"acute",180,"acutebelowcmb",791,"acutecmb",769,"acutecomb",769,"acutedeva",2388,"acutelowmod",719,"acutetonecmb",833,"acyrillic",1072,"adblgrave",513,"addakgurmukhi",2673,"adeva",2309,"adieresis",228,"adieresiscyrillic",1235,"adieresismacron",479,"adotbelow",7841,"adotmacron",481,"ae",230,"aeacute",509,"aekorean",12624,"aemacron",483,"afii00208",8213,"afii08941",8356,"afii10017",1040,"afii10018",1041,"afii10019",1042,"afii10020",1043,"afii10021",1044,"afii10022",1045,"afii10023",1025,"afii10024",1046,"afii10025",1047,"afii10026",1048,"afii10027",1049,"afii10028",1050,"afii10029",1051,"afii10030",1052,"afii10031",1053,"afii10032",1054,"afii10033",1055,"afii10034",1056,"afii10035",1057,"afii10036",1058,"afii10037",1059,"afii10038",1060,"afii10039",1061,"afii10040",1062,"afii10041",1063,"afii10042",1064,"afii10043",1065,"afii10044",1066,"afii10045",1067,"afii10046",1068,"afii10047",1069,"afii10048",1070,"afii10049",1071,"afii10050",1168,"afii10051",1026,"afii10052",1027,"afii10053",1028,"afii10054",1029,"afii10055",1030,"afii10056",1031,"afii10057",1032,"afii10058",1033,"afii10059",1034,"afii10060",1035,"afii10061",1036,"afii10062",1038,"afii10063",63172,"afii10064",63173,"afii10065",1072,"afii10066",1073,"afii10067",1074,"afii10068",1075,"afii10069",1076,"afii10070",1077,"afii10071",1105,"afii10072",1078,"afii10073",1079,"afii10074",1080,"afii10075",1081,"afii10076",1082,"afii10077",1083,"afii10078",1084,"afii10079",1085,"afii10080",1086,"afii10081",1087,"afii10082",1088,"afii10083",1089,"afii10084",1090,"afii10085",1091,"afii10086",1092,"afii10087",1093,"afii10088",1094,"afii10089",1095,"afii10090",1096,"afii10091",1097,"afii10092",1098,"afii10093",1099,"afii10094",1100,"afii10095",1101,"afii10096",1102,"afii10097",1103,"afii10098",1169,"afii10099",1106,"afii10100",1107,"afii10101",1108,"afii10102",1109,"afii10103",1110,"afii10104",1111,"afii10105",1112,"afii10106",1113,"afii10107",1114,"afii10108",1115,"afii10109",1116,"afii10110",1118,"afii10145",1039,"afii10146",1122,"afii10147",1138,"afii10148",1140,"afii10192",63174,"afii10193",1119,"afii10194",1123,"afii10195",1139,"afii10196",1141,"afii10831",63175,"afii10832",63176,"afii10846",1241,"afii299",8206,"afii300",8207,"afii301",8205,"afii57381",1642,"afii57388",1548,"afii57392",1632,"afii57393",1633,"afii57394",1634,"afii57395",1635,"afii57396",1636,"afii57397",1637,"afii57398",1638,"afii57399",1639,"afii57400",1640,"afii57401",1641,"afii57403",1563,"afii57407",1567,"afii57409",1569,"afii57410",1570,"afii57411",1571,"afii57412",1572,"afii57413",1573,"afii57414",1574,"afii57415",1575,"afii57416",1576,"afii57417",1577,"afii57418",1578,"afii57419",1579,"afii57420",1580,"afii57421",1581,"afii57422",1582,"afii57423",1583,"afii57424",1584,"afii57425",1585,"afii57426",1586,"afii57427",1587,"afii57428",1588,"afii57429",1589,"afii57430",1590,"afii57431",1591,"afii57432",1592,"afii57433",1593,"afii57434",1594,"afii57440",1600,"afii57441",1601,"afii57442",1602,"afii57443",1603,"afii57444",1604,"afii57445",1605,"afii57446",1606,"afii57448",1608,"afii57449",1609,"afii57450",1610,"afii57451",1611,"afii57452",1612,"afii57453",1613,"afii57454",1614,"afii57455",1615,"afii57456",1616,"afii57457",1617,"afii57458",1618,"afii57470",1607,"afii57505",1700,"afii57506",1662,"afii57507",1670,"afii57508",1688,"afii57509",1711,"afii57511",1657,"afii57512",1672,"afii57513",1681,"afii57514",1722,"afii57519",1746,"afii57534",1749,"afii57636",8362,"afii57645",1470,"afii57658",1475,"afii57664",1488,"afii57665",1489,"afii57666",1490,"afii57667",1491,"afii57668",1492,"afii57669",1493,"afii57670",1494,"afii57671",1495,"afii57672",1496,"afii57673",1497,"afii57674",1498,"afii57675",1499,"afii57676",1500,"afii57677",1501,"afii57678",1502,"afii57679",1503,"afii57680",1504,"afii57681",1505,"afii57682",1506,"afii57683",1507,"afii57684",1508,"afii57685",1509,"afii57686",1510,"afii57687",1511,"afii57688",1512,"afii57689",1513,"afii57690",1514,"afii57694",64298,"afii57695",64299,"afii57700",64331,"afii57705",64287,"afii57716",1520,"afii57717",1521,"afii57718",1522,"afii57723",64309,"afii57793",1460,"afii57794",1461,"afii57795",1462,"afii57796",1467,"afii57797",1464,"afii57798",1463,"afii57799",1456,"afii57800",1458,"afii57801",1457,"afii57802",1459,"afii57803",1474,"afii57804",1473,"afii57806",1465,"afii57807",1468,"afii57839",1469,"afii57841",1471,"afii57842",1472,"afii57929",700,"afii61248",8453,"afii61289",8467,"afii61352",8470,"afii61573",8236,"afii61574",8237,"afii61575",8238,"afii61664",8204,"afii63167",1645,"afii64937",701,"agrave",224,"agujarati",2693,"agurmukhi",2565,"ahiragana",12354,"ahookabove",7843,"aibengali",2448,"aibopomofo",12574,"aideva",2320,"aiecyrillic",1237,"aigujarati",2704,"aigurmukhi",2576,"aimatragurmukhi",2632,"ainarabic",1593,"ainfinalarabic",65226,"aininitialarabic",65227,"ainmedialarabic",65228,"ainvertedbreve",515,"aivowelsignbengali",2504,"aivowelsigndeva",2376,"aivowelsigngujarati",2760,"akatakana",12450,"akatakanahalfwidth",65393,"akorean",12623,"alef",1488,"alefarabic",1575,"alefdageshhebrew",64304,"aleffinalarabic",65166,"alefhamzaabovearabic",1571,"alefhamzaabovefinalarabic",65156,"alefhamzabelowarabic",1573,"alefhamzabelowfinalarabic",65160,"alefhebrew",1488,"aleflamedhebrew",64335,"alefmaddaabovearabic",1570,"alefmaddaabovefinalarabic",65154,"alefmaksuraarabic",1609,"alefmaksurafinalarabic",65264,"alefmaksurainitialarabic",65267,"alefmaksuramedialarabic",65268,"alefpatahhebrew",64302,"alefqamatshebrew",64303,"aleph",8501,"allequal",8780,"alpha",945,"alphatonos",940,"amacron",257,"amonospace",65345,"ampersand",38,"ampersandmonospace",65286,"ampersandsmall",63270,"amsquare",13250,"anbopomofo",12578,"angbopomofo",12580,"angbracketleft",12296,"angbracketright",12297,"angkhankhuthai",3674,"angle",8736,"anglebracketleft",12296,"anglebracketleftvertical",65087,"anglebracketright",12297,"anglebracketrightvertical",65088,"angleleft",9001,"angleright",9002,"angstrom",8491,"anoteleia",903,"anudattadeva",2386,"anusvarabengali",2434,"anusvaradeva",2306,"anusvaragujarati",2690,"aogonek",261,"apaatosquare",13056,"aparen",9372,"apostrophearmenian",1370,"apostrophemod",700,"apple",63743,"approaches",8784,"approxequal",8776,"approxequalorimage",8786,"approximatelyequal",8773,"araeaekorean",12686,"araeakorean",12685,"arc",8978,"arighthalfring",7834,"aring",229,"aringacute",507,"aringbelow",7681,"arrowboth",8596,"arrowdashdown",8675,"arrowdashleft",8672,"arrowdashright",8674,"arrowdashup",8673,"arrowdblboth",8660,"arrowdbldown",8659,"arrowdblleft",8656,"arrowdblright",8658,"arrowdblup",8657,"arrowdown",8595,"arrowdownleft",8601,"arrowdownright",8600,"arrowdownwhite",8681,"arrowheaddownmod",709,"arrowheadleftmod",706,"arrowheadrightmod",707,"arrowheadupmod",708,"arrowhorizex",63719,"arrowleft",8592,"arrowleftdbl",8656,"arrowleftdblstroke",8653,"arrowleftoverright",8646,"arrowleftwhite",8678,"arrowright",8594,"arrowrightdblstroke",8655,"arrowrightheavy",10142,"arrowrightoverleft",8644,"arrowrightwhite",8680,"arrowtableft",8676,"arrowtabright",8677,"arrowup",8593,"arrowupdn",8597,"arrowupdnbse",8616,"arrowupdownbase",8616,"arrowupleft",8598,"arrowupleftofdown",8645,"arrowupright",8599,"arrowupwhite",8679,"arrowvertex",63718,"asciicircum",94,"asciicircummonospace",65342,"asciitilde",126,"asciitildemonospace",65374,"ascript",593,"ascriptturned",594,"asmallhiragana",12353,"asmallkatakana",12449,"asmallkatakanahalfwidth",65383,"asterisk",42,"asteriskaltonearabic",1645,"asteriskarabic",1645,"asteriskmath",8727,"asteriskmonospace",65290,"asterisksmall",65121,"asterism",8258,"asuperior",63209,"asymptoticallyequal",8771,"at",64,"atilde",227,"atmonospace",65312,"atsmall",65131,"aturned",592,"aubengali",2452,"aubopomofo",12576,"audeva",2324,"augujarati",2708,"augurmukhi",2580,"aulengthmarkbengali",2519,"aumatragurmukhi",2636,"auvowelsignbengali",2508,"auvowelsigndeva",2380,"auvowelsigngujarati",2764,"avagrahadeva",2365,"aybarmenian",1377,"ayin",1506,"ayinaltonehebrew",64288,"ayinhebrew",1506,"b",98,"babengali",2476,"backslash",92,"backslashmonospace",65340,"badeva",2348,"bagujarati",2732,"bagurmukhi",2604,"bahiragana",12400,"bahtthai",3647,"bakatakana",12496,"bar",124,"barmonospace",65372,"bbopomofo",12549,"bcircle",9425,"bdotaccent",7683,"bdotbelow",7685,"beamedsixteenthnotes",9836,"because",8757,"becyrillic",1073,"beharabic",1576,"behfinalarabic",65168,"behinitialarabic",65169,"behiragana",12409,"behmedialarabic",65170,"behmeeminitialarabic",64671,"behmeemisolatedarabic",64520,"behnoonfinalarabic",64621,"bekatakana",12505,"benarmenian",1378,"bet",1489,"beta",946,"betasymbolgreek",976,"betdagesh",64305,"betdageshhebrew",64305,"bethebrew",1489,"betrafehebrew",64332,"bhabengali",2477,"bhadeva",2349,"bhagujarati",2733,"bhagurmukhi",2605,"bhook",595,"bihiragana",12403,"bikatakana",12499,"bilabialclick",664,"bindigurmukhi",2562,"birusquare",13105,"blackcircle",9679,"blackdiamond",9670,"blackdownpointingtriangle",9660,"blackleftpointingpointer",9668,"blackleftpointingtriangle",9664,"blacklenticularbracketleft",12304,"blacklenticularbracketleftvertical",65083,"blacklenticularbracketright",12305,"blacklenticularbracketrightvertical",65084,"blacklowerlefttriangle",9699,"blacklowerrighttriangle",9698,"blackrectangle",9644,"blackrightpointingpointer",9658,"blackrightpointingtriangle",9654,"blacksmallsquare",9642,"blacksmilingface",9787,"blacksquare",9632,"blackstar",9733,"blackupperlefttriangle",9700,"blackupperrighttriangle",9701,"blackuppointingsmalltriangle",9652,"blackuppointingtriangle",9650,"blank",9251,"blinebelow",7687,"block",9608,"bmonospace",65346,"bobaimaithai",3610,"bohiragana",12412,"bokatakana",12508,"bparen",9373,"bqsquare",13251,"braceex",63732,"braceleft",123,"braceleftbt",63731,"braceleftmid",63730,"braceleftmonospace",65371,"braceleftsmall",65115,"bracelefttp",63729,"braceleftvertical",65079,"braceright",125,"bracerightbt",63742,"bracerightmid",63741,"bracerightmonospace",65373,"bracerightsmall",65116,"bracerighttp",63740,"bracerightvertical",65080,"bracketleft",91,"bracketleftbt",63728,"bracketleftex",63727,"bracketleftmonospace",65339,"bracketlefttp",63726,"bracketright",93,"bracketrightbt",63739,"bracketrightex",63738,"bracketrightmonospace",65341,"bracketrighttp",63737,"breve",728,"brevebelowcmb",814,"brevecmb",774,"breveinvertedbelowcmb",815,"breveinvertedcmb",785,"breveinverteddoublecmb",865,"bridgebelowcmb",810,"bridgeinvertedbelowcmb",826,"brokenbar",166,"bstroke",384,"bsuperior",63210,"btopbar",387,"buhiragana",12406,"bukatakana",12502,"bullet",8226,"bulletinverse",9688,"bulletoperator",8729,"bullseye",9678,"c",99,"caarmenian",1390,"cabengali",2458,"cacute",263,"cadeva",2330,"cagujarati",2714,"cagurmukhi",2586,"calsquare",13192,"candrabindubengali",2433,"candrabinducmb",784,"candrabindudeva",2305,"candrabindugujarati",2689,"capslock",8682,"careof",8453,"caron",711,"caronbelowcmb",812,"caroncmb",780,"carriagereturn",8629,"cbopomofo",12568,"ccaron",269,"ccedilla",231,"ccedillaacute",7689,"ccircle",9426,"ccircumflex",265,"ccurl",597,"cdot",267,"cdotaccent",267,"cdsquare",13253,"cedilla",184,"cedillacmb",807,"cent",162,"centigrade",8451,"centinferior",63199,"centmonospace",65504,"centoldstyle",63394,"centsuperior",63200,"chaarmenian",1401,"chabengali",2459,"chadeva",2331,"chagujarati",2715,"chagurmukhi",2587,"chbopomofo",12564,"cheabkhasiancyrillic",1213,"checkmark",10003,"checyrillic",1095,"chedescenderabkhasiancyrillic",1215,"chedescendercyrillic",1207,"chedieresiscyrillic",1269,"cheharmenian",1395,"chekhakassiancyrillic",1228,"cheverticalstrokecyrillic",1209,"chi",967,"chieuchacirclekorean",12919,"chieuchaparenkorean",12823,"chieuchcirclekorean",12905,"chieuchkorean",12618,"chieuchparenkorean",12809,"chochangthai",3594,"chochanthai",3592,"chochingthai",3593,"chochoethai",3596,"chook",392,"cieucacirclekorean",12918,"cieucaparenkorean",12822,"cieuccirclekorean",12904,"cieuckorean",12616,"cieucparenkorean",12808,"cieucuparenkorean",12828,"circle",9675,"circlecopyrt",169,"circlemultiply",8855,"circleot",8857,"circleplus",8853,"circlepostalmark",12342,"circlewithlefthalfblack",9680,"circlewithrighthalfblack",9681,"circumflex",710,"circumflexbelowcmb",813,"circumflexcmb",770,"clear",8999,"clickalveolar",450,"clickdental",448,"clicklateral",449,"clickretroflex",451,"club",9827,"clubsuitblack",9827,"clubsuitwhite",9831,"cmcubedsquare",13220,"cmonospace",65347,"cmsquaredsquare",13216,"coarmenian",1409,"colon",58,"colonmonetary",8353,"colonmonospace",65306,"colonsign",8353,"colonsmall",65109,"colontriangularhalfmod",721,"colontriangularmod",720,"comma",44,"commaabovecmb",787,"commaaboverightcmb",789,"commaaccent",63171,"commaarabic",1548,"commaarmenian",1373,"commainferior",63201,"commamonospace",65292,"commareversedabovecmb",788,"commareversedmod",701,"commasmall",65104,"commasuperior",63202,"commaturnedabovecmb",786,"commaturnedmod",699,"compass",9788,"congruent",8773,"contourintegral",8750,"control",8963,"controlACK",6,"controlBEL",7,"controlBS",8,"controlCAN",24,"controlCR",13,"controlDC1",17,"controlDC2",18,"controlDC3",19,"controlDC4",20,"controlDEL",127,"controlDLE",16,"controlEM",25,"controlENQ",5,"controlEOT",4,"controlESC",27,"controlETB",23,"controlETX",3,"controlFF",12,"controlFS",28,"controlGS",29,"controlHT",9,"controlLF",10,"controlNAK",21,"controlNULL",0,"controlRS",30,"controlSI",15,"controlSO",14,"controlSOT",2,"controlSTX",1,"controlSUB",26,"controlSYN",22,"controlUS",31,"controlVT",11,"copyright",169,"copyrightsans",63721,"copyrightserif",63193,"cornerbracketleft",12300,"cornerbracketlefthalfwidth",65378,"cornerbracketleftvertical",65089,"cornerbracketright",12301,"cornerbracketrighthalfwidth",65379,"cornerbracketrightvertical",65090,"corporationsquare",13183,"cosquare",13255,"coverkgsquare",13254,"cparen",9374,"cruzeiro",8354,"cstretched",663,"curlyand",8911,"curlyor",8910,"currency",164,"cyrBreve",63185,"cyrFlex",63186,"cyrbreve",63188,"cyrflex",63189,"d",100,"daarmenian",1380,"dabengali",2470,"dadarabic",1590,"dadeva",2342,"dadfinalarabic",65214,"dadinitialarabic",65215,"dadmedialarabic",65216,"dagesh",1468,"dageshhebrew",1468,"dagger",8224,"daggerdbl",8225,"dagujarati",2726,"dagurmukhi",2598,"dahiragana",12384,"dakatakana",12480,"dalarabic",1583,"dalet",1491,"daletdagesh",64307,"daletdageshhebrew",64307,"dalethebrew",1491,"dalfinalarabic",65194,"dammaarabic",1615,"dammalowarabic",1615,"dammatanaltonearabic",1612,"dammatanarabic",1612,"danda",2404,"dargahebrew",1447,"dargalefthebrew",1447,"dasiapneumatacyrilliccmb",1157,"dblGrave",63187,"dblanglebracketleft",12298,"dblanglebracketleftvertical",65085,"dblanglebracketright",12299,"dblanglebracketrightvertical",65086,"dblarchinvertedbelowcmb",811,"dblarrowleft",8660,"dblarrowright",8658,"dbldanda",2405,"dblgrave",63190,"dblgravecmb",783,"dblintegral",8748,"dbllowline",8215,"dbllowlinecmb",819,"dbloverlinecmb",831,"dblprimemod",698,"dblverticalbar",8214,"dblverticallineabovecmb",782,"dbopomofo",12553,"dbsquare",13256,"dcaron",271,"dcedilla",7697,"dcircle",9427,"dcircumflexbelow",7699,"dcroat",273,"ddabengali",2465,"ddadeva",2337,"ddagujarati",2721,"ddagurmukhi",2593,"ddalarabic",1672,"ddalfinalarabic",64393,"dddhadeva",2396,"ddhabengali",2466,"ddhadeva",2338,"ddhagujarati",2722,"ddhagurmukhi",2594,"ddotaccent",7691,"ddotbelow",7693,"decimalseparatorarabic",1643,"decimalseparatorpersian",1643,"decyrillic",1076,"degree",176,"dehihebrew",1453,"dehiragana",12391,"deicoptic",1007,"dekatakana",12487,"deleteleft",9003,"deleteright",8998,"delta",948,"deltaturned",397,"denominatorminusonenumeratorbengali",2552,"dezh",676,"dhabengali",2471,"dhadeva",2343,"dhagujarati",2727,"dhagurmukhi",2599,"dhook",599,"dialytikatonos",901,"dialytikatonoscmb",836,"diamond",9830,"diamondsuitwhite",9826,"dieresis",168,"dieresisacute",63191,"dieresisbelowcmb",804,"dieresiscmb",776,"dieresisgrave",63192,"dieresistonos",901,"dihiragana",12386,"dikatakana",12482,"dittomark",12291,"divide",247,"divides",8739,"divisionslash",8725,"djecyrillic",1106,"dkshade",9619,"dlinebelow",7695,"dlsquare",13207,"dmacron",273,"dmonospace",65348,"dnblock",9604,"dochadathai",3598,"dodekthai",3604,"dohiragana",12393,"dokatakana",12489,"dollar",36,"dollarinferior",63203,"dollarmonospace",65284,"dollaroldstyle",63268,"dollarsmall",65129,"dollarsuperior",63204,"dong",8363,"dorusquare",13094,"dotaccent",729,"dotaccentcmb",775,"dotbelowcmb",803,"dotbelowcomb",803,"dotkatakana",12539,"dotlessi",305,"dotlessj",63166,"dotlessjstrokehook",644,"dotmath",8901,"dottedcircle",9676,"doubleyodpatah",64287,"doubleyodpatahhebrew",64287,"downtackbelowcmb",798,"downtackmod",725,"dparen",9375,"dsuperior",63211,"dtail",598,"dtopbar",396,"duhiragana",12389,"dukatakana",12485,"dz",499,"dzaltone",675,"dzcaron",454,"dzcurl",677,"dzeabkhasiancyrillic",1249,"dzecyrillic",1109,"dzhecyrillic",1119,"e",101,"eacute",233,"earth",9793,"ebengali",2447,"ebopomofo",12572,"ebreve",277,"ecandradeva",2317,"ecandragujarati",2701,"ecandravowelsigndeva",2373,"ecandravowelsigngujarati",2757,"ecaron",283,"ecedillabreve",7709,"echarmenian",1381,"echyiwnarmenian",1415,"ecircle",9428,"ecircumflex",234,"ecircumflexacute",7871,"ecircumflexbelow",7705,"ecircumflexdotbelow",7879,"ecircumflexgrave",7873,"ecircumflexhookabove",7875,"ecircumflextilde",7877,"ecyrillic",1108,"edblgrave",517,"edeva",2319,"edieresis",235,"edot",279,"edotaccent",279,"edotbelow",7865,"eegurmukhi",2575,"eematragurmukhi",2631,"efcyrillic",1092,"egrave",232,"egujarati",2703,"eharmenian",1383,"ehbopomofo",12573,"ehiragana",12360,"ehookabove",7867,"eibopomofo",12575,"eight",56,"eightarabic",1640,"eightbengali",2542,"eightcircle",9319,"eightcircleinversesansserif",10129,"eightdeva",2414,"eighteencircle",9329,"eighteenparen",9349,"eighteenperiod",9369,"eightgujarati",2798,"eightgurmukhi",2670,"eighthackarabic",1640,"eighthangzhou",12328,"eighthnotebeamed",9835,"eightideographicparen",12839,"eightinferior",8328,"eightmonospace",65304,"eightoldstyle",63288,"eightparen",9339,"eightperiod",9359,"eightpersian",1784,"eightroman",8567,"eightsuperior",8312,"eightthai",3672,"einvertedbreve",519,"eiotifiedcyrillic",1125,"ekatakana",12456,"ekatakanahalfwidth",65396,"ekonkargurmukhi",2676,"ekorean",12628,"elcyrillic",1083,"element",8712,"elevencircle",9322,"elevenparen",9342,"elevenperiod",9362,"elevenroman",8570,"ellipsis",8230,"ellipsisvertical",8942,"emacron",275,"emacronacute",7703,"emacrongrave",7701,"emcyrillic",1084,"emdash",8212,"emdashvertical",65073,"emonospace",65349,"emphasismarkarmenian",1371,"emptyset",8709,"enbopomofo",12579,"encyrillic",1085,"endash",8211,"endashvertical",65074,"endescendercyrillic",1187,"eng",331,"engbopomofo",12581,"enghecyrillic",1189,"enhookcyrillic",1224,"enspace",8194,"eogonek",281,"eokorean",12627,"eopen",603,"eopenclosed",666,"eopenreversed",604,"eopenreversedclosed",606,"eopenreversedhook",605,"eparen",9376,"epsilon",949,"epsilontonos",941,"equal",61,"equalmonospace",65309,"equalsmall",65126,"equalsuperior",8316,"equivalence",8801,"erbopomofo",12582,"ercyrillic",1088,"ereversed",600,"ereversedcyrillic",1101,"escyrillic",1089,"esdescendercyrillic",1195,"esh",643,"eshcurl",646,"eshortdeva",2318,"eshortvowelsigndeva",2374,"eshreversedloop",426,"eshsquatreversed",645,"esmallhiragana",12359,"esmallkatakana",12455,"esmallkatakanahalfwidth",65386,"estimated",8494,"esuperior",63212,"eta",951,"etarmenian",1384,"etatonos",942,"eth",240,"etilde",7869,"etildebelow",7707,"etnahtafoukhhebrew",1425,"etnahtafoukhlefthebrew",1425,"etnahtahebrew",1425,"etnahtalefthebrew",1425,"eturned",477,"eukorean",12641,"euro",8364,"evowelsignbengali",2503,"evowelsigndeva",2375,"evowelsigngujarati",2759,"exclam",33,"exclamarmenian",1372,"exclamdbl",8252,"exclamdown",161,"exclamdownsmall",63393,"exclammonospace",65281,"exclamsmall",63265,"existential",8707,"ezh",658,"ezhcaron",495,"ezhcurl",659,"ezhreversed",441,"ezhtail",442,"f",102,"fadeva",2398,"fagurmukhi",2654,"fahrenheit",8457,"fathaarabic",1614,"fathalowarabic",1614,"fathatanarabic",1611,"fbopomofo",12552,"fcircle",9429,"fdotaccent",7711,"feharabic",1601,"feharmenian",1414,"fehfinalarabic",65234,"fehinitialarabic",65235,"fehmedialarabic",65236,"feicoptic",997,"female",9792,"ff",64256,"f_f",64256,"ffi",64259,"ffl",64260,"fi",64257,"fifteencircle",9326,"fifteenparen",9346,"fifteenperiod",9366,"figuredash",8210,"filledbox",9632,"filledrect",9644,"finalkaf",1498,"finalkafdagesh",64314,"finalkafdageshhebrew",64314,"finalkafhebrew",1498,"finalmem",1501,"finalmemhebrew",1501,"finalnun",1503,"finalnunhebrew",1503,"finalpe",1507,"finalpehebrew",1507,"finaltsadi",1509,"finaltsadihebrew",1509,"firsttonechinese",713,"fisheye",9673,"fitacyrillic",1139,"five",53,"fivearabic",1637,"fivebengali",2539,"fivecircle",9316,"fivecircleinversesansserif",10126,"fivedeva",2411,"fiveeighths",8541,"fivegujarati",2795,"fivegurmukhi",2667,"fivehackarabic",1637,"fivehangzhou",12325,"fiveideographicparen",12836,"fiveinferior",8325,"fivemonospace",65301,"fiveoldstyle",63285,"fiveparen",9336,"fiveperiod",9356,"fivepersian",1781,"fiveroman",8564,"fivesuperior",8309,"fivethai",3669,"fl",64258,"florin",402,"fmonospace",65350,"fmsquare",13209,"fofanthai",3615,"fofathai",3613,"fongmanthai",3663,"forall",8704,"four",52,"fourarabic",1636,"fourbengali",2538,"fourcircle",9315,"fourcircleinversesansserif",10125,"fourdeva",2410,"fourgujarati",2794,"fourgurmukhi",2666,"fourhackarabic",1636,"fourhangzhou",12324,"fourideographicparen",12835,"fourinferior",8324,"fourmonospace",65300,"fournumeratorbengali",2551,"fouroldstyle",63284,"fourparen",9335,"fourperiod",9355,"fourpersian",1780,"fourroman",8563,"foursuperior",8308,"fourteencircle",9325,"fourteenparen",9345,"fourteenperiod",9365,"fourthai",3668,"fourthtonechinese",715,"fparen",9377,"fraction",8260,"franc",8355,"g",103,"gabengali",2455,"gacute",501,"gadeva",2327,"gafarabic",1711,"gaffinalarabic",64403,"gafinitialarabic",64404,"gafmedialarabic",64405,"gagujarati",2711,"gagurmukhi",2583,"gahiragana",12364,"gakatakana",12460,"gamma",947,"gammalatinsmall",611,"gammasuperior",736,"gangiacoptic",1003,"gbopomofo",12557,"gbreve",287,"gcaron",487,"gcedilla",291,"gcircle",9430,"gcircumflex",285,"gcommaaccent",291,"gdot",289,"gdotaccent",289,"gecyrillic",1075,"gehiragana",12370,"gekatakana",12466,"geometricallyequal",8785,"gereshaccenthebrew",1436,"gereshhebrew",1523,"gereshmuqdamhebrew",1437,"germandbls",223,"gershayimaccenthebrew",1438,"gershayimhebrew",1524,"getamark",12307,"ghabengali",2456,"ghadarmenian",1394,"ghadeva",2328,"ghagujarati",2712,"ghagurmukhi",2584,"ghainarabic",1594,"ghainfinalarabic",65230,"ghaininitialarabic",65231,"ghainmedialarabic",65232,"ghemiddlehookcyrillic",1173,"ghestrokecyrillic",1171,"gheupturncyrillic",1169,"ghhadeva",2394,"ghhagurmukhi",2650,"ghook",608,"ghzsquare",13203,"gihiragana",12366,"gikatakana",12462,"gimarmenian",1379,"gimel",1490,"gimeldagesh",64306,"gimeldageshhebrew",64306,"gimelhebrew",1490,"gjecyrillic",1107,"glottalinvertedstroke",446,"glottalstop",660,"glottalstopinverted",662,"glottalstopmod",704,"glottalstopreversed",661,"glottalstopreversedmod",705,"glottalstopreversedsuperior",740,"glottalstopstroke",673,"glottalstopstrokereversed",674,"gmacron",7713,"gmonospace",65351,"gohiragana",12372,"gokatakana",12468,"gparen",9378,"gpasquare",13228,"gradient",8711,"grave",96,"gravebelowcmb",790,"gravecmb",768,"gravecomb",768,"gravedeva",2387,"gravelowmod",718,"gravemonospace",65344,"gravetonecmb",832,"greater",62,"greaterequal",8805,"greaterequalorless",8923,"greatermonospace",65310,"greaterorequivalent",8819,"greaterorless",8823,"greateroverequal",8807,"greatersmall",65125,"gscript",609,"gstroke",485,"guhiragana",12368,"guillemotleft",171,"guillemotright",187,"guilsinglleft",8249,"guilsinglright",8250,"gukatakana",12464,"guramusquare",13080,"gysquare",13257,"h",104,"haabkhasiancyrillic",1193,"haaltonearabic",1729,"habengali",2489,"hadescendercyrillic",1203,"hadeva",2361,"hagujarati",2745,"hagurmukhi",2617,"haharabic",1581,"hahfinalarabic",65186,"hahinitialarabic",65187,"hahiragana",12399,"hahmedialarabic",65188,"haitusquare",13098,"hakatakana",12495,"hakatakanahalfwidth",65418,"halantgurmukhi",2637,"hamzaarabic",1569,"hamzalowarabic",1569,"hangulfiller",12644,"hardsigncyrillic",1098,"harpoonleftbarbup",8636,"harpoonrightbarbup",8640,"hasquare",13258,"hatafpatah",1458,"hatafpatah16",1458,"hatafpatah23",1458,"hatafpatah2f",1458,"hatafpatahhebrew",1458,"hatafpatahnarrowhebrew",1458,"hatafpatahquarterhebrew",1458,"hatafpatahwidehebrew",1458,"hatafqamats",1459,"hatafqamats1b",1459,"hatafqamats28",1459,"hatafqamats34",1459,"hatafqamatshebrew",1459,"hatafqamatsnarrowhebrew",1459,"hatafqamatsquarterhebrew",1459,"hatafqamatswidehebrew",1459,"hatafsegol",1457,"hatafsegol17",1457,"hatafsegol24",1457,"hatafsegol30",1457,"hatafsegolhebrew",1457,"hatafsegolnarrowhebrew",1457,"hatafsegolquarterhebrew",1457,"hatafsegolwidehebrew",1457,"hbar",295,"hbopomofo",12559,"hbrevebelow",7723,"hcedilla",7721,"hcircle",9431,"hcircumflex",293,"hdieresis",7719,"hdotaccent",7715,"hdotbelow",7717,"he",1492,"heart",9829,"heartsuitblack",9829,"heartsuitwhite",9825,"hedagesh",64308,"hedageshhebrew",64308,"hehaltonearabic",1729,"heharabic",1607,"hehebrew",1492,"hehfinalaltonearabic",64423,"hehfinalalttwoarabic",65258,"hehfinalarabic",65258,"hehhamzaabovefinalarabic",64421,"hehhamzaaboveisolatedarabic",64420,"hehinitialaltonearabic",64424,"hehinitialarabic",65259,"hehiragana",12408,"hehmedialaltonearabic",64425,"hehmedialarabic",65260,"heiseierasquare",13179,"hekatakana",12504,"hekatakanahalfwidth",65421,"hekutaarusquare",13110,"henghook",615,"herutusquare",13113,"het",1495,"hethebrew",1495,"hhook",614,"hhooksuperior",689,"hieuhacirclekorean",12923,"hieuhaparenkorean",12827,"hieuhcirclekorean",12909,"hieuhkorean",12622,"hieuhparenkorean",12813,"hihiragana",12402,"hikatakana",12498,"hikatakanahalfwidth",65419,"hiriq",1460,"hiriq14",1460,"hiriq21",1460,"hiriq2d",1460,"hiriqhebrew",1460,"hiriqnarrowhebrew",1460,"hiriqquarterhebrew",1460,"hiriqwidehebrew",1460,"hlinebelow",7830,"hmonospace",65352,"hoarmenian",1392,"hohipthai",3627,"hohiragana",12411,"hokatakana",12507,"hokatakanahalfwidth",65422,"holam",1465,"holam19",1465,"holam26",1465,"holam32",1465,"holamhebrew",1465,"holamnarrowhebrew",1465,"holamquarterhebrew",1465,"holamwidehebrew",1465,"honokhukthai",3630,"hookabovecomb",777,"hookcmb",777,"hookpalatalizedbelowcmb",801,"hookretroflexbelowcmb",802,"hoonsquare",13122,"horicoptic",1001,"horizontalbar",8213,"horncmb",795,"hotsprings",9832,"house",8962,"hparen",9379,"hsuperior",688,"hturned",613,"huhiragana",12405,"huiitosquare",13107,"hukatakana",12501,"hukatakanahalfwidth",65420,"hungarumlaut",733,"hungarumlautcmb",779,"hv",405,"hyphen",45,"hypheninferior",63205,"hyphenmonospace",65293,"hyphensmall",65123,"hyphensuperior",63206,"hyphentwo",8208,"i",105,"iacute",237,"iacyrillic",1103,"ibengali",2439,"ibopomofo",12583,"ibreve",301,"icaron",464,"icircle",9432,"icircumflex",238,"icyrillic",1110,"idblgrave",521,"ideographearthcircle",12943,"ideographfirecircle",12939,"ideographicallianceparen",12863,"ideographiccallparen",12858,"ideographiccentrecircle",12965,"ideographicclose",12294,"ideographiccomma",12289,"ideographiccommaleft",65380,"ideographiccongratulationparen",12855,"ideographiccorrectcircle",12963,"ideographicearthparen",12847,"ideographicenterpriseparen",12861,"ideographicexcellentcircle",12957,"ideographicfestivalparen",12864,"ideographicfinancialcircle",12950,"ideographicfinancialparen",12854,"ideographicfireparen",12843,"ideographichaveparen",12850,"ideographichighcircle",12964,"ideographiciterationmark",12293,"ideographiclaborcircle",12952,"ideographiclaborparen",12856,"ideographicleftcircle",12967,"ideographiclowcircle",12966,"ideographicmedicinecircle",12969,"ideographicmetalparen",12846,"ideographicmoonparen",12842,"ideographicnameparen",12852,"ideographicperiod",12290,"ideographicprintcircle",12958,"ideographicreachparen",12867,"ideographicrepresentparen",12857,"ideographicresourceparen",12862,"ideographicrightcircle",12968,"ideographicsecretcircle",12953,"ideographicselfparen",12866,"ideographicsocietyparen",12851,"ideographicspace",12288,"ideographicspecialparen",12853,"ideographicstockparen",12849,"ideographicstudyparen",12859,"ideographicsunparen",12848,"ideographicsuperviseparen",12860,"ideographicwaterparen",12844,"ideographicwoodparen",12845,"ideographiczero",12295,"ideographmetalcircle",12942,"ideographmooncircle",12938,"ideographnamecircle",12948,"ideographsuncircle",12944,"ideographwatercircle",12940,"ideographwoodcircle",12941,"ideva",2311,"idieresis",239,"idieresisacute",7727,"idieresiscyrillic",1253,"idotbelow",7883,"iebrevecyrillic",1239,"iecyrillic",1077,"ieungacirclekorean",12917,"ieungaparenkorean",12821,"ieungcirclekorean",12903,"ieungkorean",12615,"ieungparenkorean",12807,"igrave",236,"igujarati",2695,"igurmukhi",2567,"ihiragana",12356,"ihookabove",7881,"iibengali",2440,"iicyrillic",1080,"iideva",2312,"iigujarati",2696,"iigurmukhi",2568,"iimatragurmukhi",2624,"iinvertedbreve",523,"iishortcyrillic",1081,"iivowelsignbengali",2496,"iivowelsigndeva",2368,"iivowelsigngujarati",2752,"ij",307,"ikatakana",12452,"ikatakanahalfwidth",65394,"ikorean",12643,"ilde",732,"iluyhebrew",1452,"imacron",299,"imacroncyrillic",1251,"imageorapproximatelyequal",8787,"imatragurmukhi",2623,"imonospace",65353,"increment",8710,"infinity",8734,"iniarmenian",1387,"integral",8747,"integralbottom",8993,"integralbt",8993,"integralex",63733,"integraltop",8992,"integraltp",8992,"intersection",8745,"intisquare",13061,"invbullet",9688,"invcircle",9689,"invsmileface",9787,"iocyrillic",1105,"iogonek",303,"iota",953,"iotadieresis",970,"iotadieresistonos",912,"iotalatin",617,"iotatonos",943,"iparen",9380,"irigurmukhi",2674,"ismallhiragana",12355,"ismallkatakana",12451,"ismallkatakanahalfwidth",65384,"issharbengali",2554,"istroke",616,"isuperior",63213,"iterationhiragana",12445,"iterationkatakana",12541,"itilde",297,"itildebelow",7725,"iubopomofo",12585,"iucyrillic",1102,"ivowelsignbengali",2495,"ivowelsigndeva",2367,"ivowelsigngujarati",2751,"izhitsacyrillic",1141,"izhitsadblgravecyrillic",1143,"j",106,"jaarmenian",1393,"jabengali",2460,"jadeva",2332,"jagujarati",2716,"jagurmukhi",2588,"jbopomofo",12560,"jcaron",496,"jcircle",9433,"jcircumflex",309,"jcrossedtail",669,"jdotlessstroke",607,"jecyrillic",1112,"jeemarabic",1580,"jeemfinalarabic",65182,"jeeminitialarabic",65183,"jeemmedialarabic",65184,"jeharabic",1688,"jehfinalarabic",64395,"jhabengali",2461,"jhadeva",2333,"jhagujarati",2717,"jhagurmukhi",2589,"jheharmenian",1403,"jis",12292,"jmonospace",65354,"jparen",9381,"jsuperior",690,"k",107,"kabashkircyrillic",1185,"kabengali",2453,"kacute",7729,"kacyrillic",1082,"kadescendercyrillic",1179,"kadeva",2325,"kaf",1499,"kafarabic",1603,"kafdagesh",64315,"kafdageshhebrew",64315,"kaffinalarabic",65242,"kafhebrew",1499,"kafinitialarabic",65243,"kafmedialarabic",65244,"kafrafehebrew",64333,"kagujarati",2709,"kagurmukhi",2581,"kahiragana",12363,"kahookcyrillic",1220,"kakatakana",12459,"kakatakanahalfwidth",65398,"kappa",954,"kappasymbolgreek",1008,"kapyeounmieumkorean",12657,"kapyeounphieuphkorean",12676,"kapyeounpieupkorean",12664,"kapyeounssangpieupkorean",12665,"karoriisquare",13069,"kashidaautoarabic",1600,"kashidaautonosidebearingarabic",1600,"kasmallkatakana",12533,"kasquare",13188,"kasraarabic",1616,"kasratanarabic",1613,"kastrokecyrillic",1183,"katahiraprolongmarkhalfwidth",65392,"kaverticalstrokecyrillic",1181,"kbopomofo",12558,"kcalsquare",13193,"kcaron",489,"kcedilla",311,"kcircle",9434,"kcommaaccent",311,"kdotbelow",7731,"keharmenian",1412,"kehiragana",12369,"kekatakana",12465,"kekatakanahalfwidth",65401,"kenarmenian",1391,"kesmallkatakana",12534,"kgreenlandic",312,"khabengali",2454,"khacyrillic",1093,"khadeva",2326,"khagujarati",2710,"khagurmukhi",2582,"khaharabic",1582,"khahfinalarabic",65190,"khahinitialarabic",65191,"khahmedialarabic",65192,"kheicoptic",999,"khhadeva",2393,"khhagurmukhi",2649,"khieukhacirclekorean",12920,"khieukhaparenkorean",12824,"khieukhcirclekorean",12906,"khieukhkorean",12619,"khieukhparenkorean",12810,"khokhaithai",3586,"khokhonthai",3589,"khokhuatthai",3587,"khokhwaithai",3588,"khomutthai",3675,"khook",409,"khorakhangthai",3590,"khzsquare",13201,"kihiragana",12365,"kikatakana",12461,"kikatakanahalfwidth",65399,"kiroguramusquare",13077,"kiromeetorusquare",13078,"kirosquare",13076,"kiyeokacirclekorean",12910,"kiyeokaparenkorean",12814,"kiyeokcirclekorean",12896,"kiyeokkorean",12593,"kiyeokparenkorean",12800,"kiyeoksioskorean",12595,"kjecyrillic",1116,"klinebelow",7733,"klsquare",13208,"kmcubedsquare",13222,"kmonospace",65355,"kmsquaredsquare",13218,"kohiragana",12371,"kohmsquare",13248,"kokaithai",3585,"kokatakana",12467,"kokatakanahalfwidth",65402,"kooposquare",13086,"koppacyrillic",1153,"koreanstandardsymbol",12927,"koroniscmb",835,"kparen",9382,"kpasquare",13226,"ksicyrillic",1135,"ktsquare",13263,"kturned",670,"kuhiragana",12367,"kukatakana",12463,"kukatakanahalfwidth",65400,"kvsquare",13240,"kwsquare",13246,"l",108,"labengali",2482,"lacute",314,"ladeva",2354,"lagujarati",2738,"lagurmukhi",2610,"lakkhangyaothai",3653,"lamaleffinalarabic",65276,"lamalefhamzaabovefinalarabic",65272,"lamalefhamzaaboveisolatedarabic",65271,"lamalefhamzabelowfinalarabic",65274,"lamalefhamzabelowisolatedarabic",65273,"lamalefisolatedarabic",65275,"lamalefmaddaabovefinalarabic",65270,"lamalefmaddaaboveisolatedarabic",65269,"lamarabic",1604,"lambda",955,"lambdastroke",411,"lamed",1500,"lameddagesh",64316,"lameddageshhebrew",64316,"lamedhebrew",1500,"lamfinalarabic",65246,"lamhahinitialarabic",64714,"laminitialarabic",65247,"lamjeeminitialarabic",64713,"lamkhahinitialarabic",64715,"lamlamhehisolatedarabic",65010,"lammedialarabic",65248,"lammeemhahinitialarabic",64904,"lammeeminitialarabic",64716,"largecircle",9711,"lbar",410,"lbelt",620,"lbopomofo",12556,"lcaron",318,"lcedilla",316,"lcircle",9435,"lcircumflexbelow",7741,"lcommaaccent",316,"ldot",320,"ldotaccent",320,"ldotbelow",7735,"ldotbelowmacron",7737,"leftangleabovecmb",794,"lefttackbelowcmb",792,"less",60,"lessequal",8804,"lessequalorgreater",8922,"lessmonospace",65308,"lessorequivalent",8818,"lessorgreater",8822,"lessoverequal",8806,"lesssmall",65124,"lezh",622,"lfblock",9612,"lhookretroflex",621,"lira",8356,"liwnarmenian",1388,"lj",457,"ljecyrillic",1113,"ll",63168,"lladeva",2355,"llagujarati",2739,"llinebelow",7739,"llladeva",2356,"llvocalicbengali",2529,"llvocalicdeva",2401,"llvocalicvowelsignbengali",2531,"llvocalicvowelsigndeva",2403,"lmiddletilde",619,"lmonospace",65356,"lmsquare",13264,"lochulathai",3628,"logicaland",8743,"logicalnot",172,"logicalnotreversed",8976,"logicalor",8744,"lolingthai",3621,"longs",383,"lowlinecenterline",65102,"lowlinecmb",818,"lowlinedashed",65101,"lozenge",9674,"lparen",9383,"lslash",322,"lsquare",8467,"lsuperior",63214,"ltshade",9617,"luthai",3622,"lvocalicbengali",2444,"lvocalicdeva",2316,"lvocalicvowelsignbengali",2530,"lvocalicvowelsigndeva",2402,"lxsquare",13267,"m",109,"mabengali",2478,"macron",175,"macronbelowcmb",817,"macroncmb",772,"macronlowmod",717,"macronmonospace",65507,"macute",7743,"madeva",2350,"magujarati",2734,"magurmukhi",2606,"mahapakhhebrew",1444,"mahapakhlefthebrew",1444,"mahiragana",12414,"maichattawalowleftthai",63637,"maichattawalowrightthai",63636,"maichattawathai",3659,"maichattawaupperleftthai",63635,"maieklowleftthai",63628,"maieklowrightthai",63627,"maiekthai",3656,"maiekupperleftthai",63626,"maihanakatleftthai",63620,"maihanakatthai",3633,"maitaikhuleftthai",63625,"maitaikhuthai",3655,"maitholowleftthai",63631,"maitholowrightthai",63630,"maithothai",3657,"maithoupperleftthai",63629,"maitrilowleftthai",63634,"maitrilowrightthai",63633,"maitrithai",3658,"maitriupperleftthai",63632,"maiyamokthai",3654,"makatakana",12510,"makatakanahalfwidth",65423,"male",9794,"mansyonsquare",13127,"maqafhebrew",1470,"mars",9794,"masoracirclehebrew",1455,"masquare",13187,"mbopomofo",12551,"mbsquare",13268,"mcircle",9436,"mcubedsquare",13221,"mdotaccent",7745,"mdotbelow",7747,"meemarabic",1605,"meemfinalarabic",65250,"meeminitialarabic",65251,"meemmedialarabic",65252,"meemmeeminitialarabic",64721,"meemmeemisolatedarabic",64584,"meetorusquare",13133,"mehiragana",12417,"meizierasquare",13182,"mekatakana",12513,"mekatakanahalfwidth",65426,"mem",1502,"memdagesh",64318,"memdageshhebrew",64318,"memhebrew",1502,"menarmenian",1396,"merkhahebrew",1445,"merkhakefulahebrew",1446,"merkhakefulalefthebrew",1446,"merkhalefthebrew",1445,"mhook",625,"mhzsquare",13202,"middledotkatakanahalfwidth",65381,"middot",183,"mieumacirclekorean",12914,"mieumaparenkorean",12818,"mieumcirclekorean",12900,"mieumkorean",12609,"mieumpansioskorean",12656,"mieumparenkorean",12804,"mieumpieupkorean",12654,"mieumsioskorean",12655,"mihiragana",12415,"mikatakana",12511,"mikatakanahalfwidth",65424,"minus",8722,"minusbelowcmb",800,"minuscircle",8854,"minusmod",727,"minusplus",8723,"minute",8242,"miribaarusquare",13130,"mirisquare",13129,"mlonglegturned",624,"mlsquare",13206,"mmcubedsquare",13219,"mmonospace",65357,"mmsquaredsquare",13215,"mohiragana",12418,"mohmsquare",13249,"mokatakana",12514,"mokatakanahalfwidth",65427,"molsquare",13270,"momathai",3617,"moverssquare",13223,"moverssquaredsquare",13224,"mparen",9384,"mpasquare",13227,"mssquare",13235,"msuperior",63215,"mturned",623,"mu",181,"mu1",181,"muasquare",13186,"muchgreater",8811,"muchless",8810,"mufsquare",13196,"mugreek",956,"mugsquare",13197,"muhiragana",12416,"mukatakana",12512,"mukatakanahalfwidth",65425,"mulsquare",13205,"multiply",215,"mumsquare",13211,"munahhebrew",1443,"munahlefthebrew",1443,"musicalnote",9834,"musicalnotedbl",9835,"musicflatsign",9837,"musicsharpsign",9839,"mussquare",13234,"muvsquare",13238,"muwsquare",13244,"mvmegasquare",13241,"mvsquare",13239,"mwmegasquare",13247,"mwsquare",13245,"n",110,"nabengali",2472,"nabla",8711,"nacute",324,"nadeva",2344,"nagujarati",2728,"nagurmukhi",2600,"nahiragana",12394,"nakatakana",12490,"nakatakanahalfwidth",65413,"napostrophe",329,"nasquare",13185,"nbopomofo",12555,"nbspace",160,"ncaron",328,"ncedilla",326,"ncircle",9437,"ncircumflexbelow",7755,"ncommaaccent",326,"ndotaccent",7749,"ndotbelow",7751,"nehiragana",12397,"nekatakana",12493,"nekatakanahalfwidth",65416,"newsheqelsign",8362,"nfsquare",13195,"ngabengali",2457,"ngadeva",2329,"ngagujarati",2713,"ngagurmukhi",2585,"ngonguthai",3591,"nhiragana",12435,"nhookleft",626,"nhookretroflex",627,"nieunacirclekorean",12911,"nieunaparenkorean",12815,"nieuncieuckorean",12597,"nieuncirclekorean",12897,"nieunhieuhkorean",12598,"nieunkorean",12596,"nieunpansioskorean",12648,"nieunparenkorean",12801,"nieunsioskorean",12647,"nieuntikeutkorean",12646,"nihiragana",12395,"nikatakana",12491,"nikatakanahalfwidth",65414,"nikhahitleftthai",63641,"nikhahitthai",3661,"nine",57,"ninearabic",1641,"ninebengali",2543,"ninecircle",9320,"ninecircleinversesansserif",10130,"ninedeva",2415,"ninegujarati",2799,"ninegurmukhi",2671,"ninehackarabic",1641,"ninehangzhou",12329,"nineideographicparen",12840,"nineinferior",8329,"ninemonospace",65305,"nineoldstyle",63289,"nineparen",9340,"nineperiod",9360,"ninepersian",1785,"nineroman",8568,"ninesuperior",8313,"nineteencircle",9330,"nineteenparen",9350,"nineteenperiod",9370,"ninethai",3673,"nj",460,"njecyrillic",1114,"nkatakana",12531,"nkatakanahalfwidth",65437,"nlegrightlong",414,"nlinebelow",7753,"nmonospace",65358,"nmsquare",13210,"nnabengali",2467,"nnadeva",2339,"nnagujarati",2723,"nnagurmukhi",2595,"nnnadeva",2345,"nohiragana",12398,"nokatakana",12494,"nokatakanahalfwidth",65417,"nonbreakingspace",160,"nonenthai",3603,"nonuthai",3609,"noonarabic",1606,"noonfinalarabic",65254,"noonghunnaarabic",1722,"noonghunnafinalarabic",64415,"nooninitialarabic",65255,"noonjeeminitialarabic",64722,"noonjeemisolatedarabic",64587,"noonmedialarabic",65256,"noonmeeminitialarabic",64725,"noonmeemisolatedarabic",64590,"noonnoonfinalarabic",64653,"notcontains",8716,"notelement",8713,"notelementof",8713,"notequal",8800,"notgreater",8815,"notgreaternorequal",8817,"notgreaternorless",8825,"notidentical",8802,"notless",8814,"notlessnorequal",8816,"notparallel",8742,"notprecedes",8832,"notsubset",8836,"notsucceeds",8833,"notsuperset",8837,"nowarmenian",1398,"nparen",9385,"nssquare",13233,"nsuperior",8319,"ntilde",241,"nu",957,"nuhiragana",12396,"nukatakana",12492,"nukatakanahalfwidth",65415,"nuktabengali",2492,"nuktadeva",2364,"nuktagujarati",2748,"nuktagurmukhi",2620,"numbersign",35,"numbersignmonospace",65283,"numbersignsmall",65119,"numeralsigngreek",884,"numeralsignlowergreek",885,"numero",8470,"nun",1504,"nundagesh",64320,"nundageshhebrew",64320,"nunhebrew",1504,"nvsquare",13237,"nwsquare",13243,"nyabengali",2462,"nyadeva",2334,"nyagujarati",2718,"nyagurmukhi",2590,"o",111,"oacute",243,"oangthai",3629,"obarred",629,"obarredcyrillic",1257,"obarreddieresiscyrillic",1259,"obengali",2451,"obopomofo",12571,"obreve",335,"ocandradeva",2321,"ocandragujarati",2705,"ocandravowelsigndeva",2377,"ocandravowelsigngujarati",2761,"ocaron",466,"ocircle",9438,"ocircumflex",244,"ocircumflexacute",7889,"ocircumflexdotbelow",7897,"ocircumflexgrave",7891,"ocircumflexhookabove",7893,"ocircumflextilde",7895,"ocyrillic",1086,"odblacute",337,"odblgrave",525,"odeva",2323,"odieresis",246,"odieresiscyrillic",1255,"odotbelow",7885,"oe",339,"oekorean",12634,"ogonek",731,"ogonekcmb",808,"ograve",242,"ogujarati",2707,"oharmenian",1413,"ohiragana",12362,"ohookabove",7887,"ohorn",417,"ohornacute",7899,"ohorndotbelow",7907,"ohorngrave",7901,"ohornhookabove",7903,"ohorntilde",7905,"ohungarumlaut",337,"oi",419,"oinvertedbreve",527,"okatakana",12458,"okatakanahalfwidth",65397,"okorean",12631,"olehebrew",1451,"omacron",333,"omacronacute",7763,"omacrongrave",7761,"omdeva",2384,"omega",969,"omega1",982,"omegacyrillic",1121,"omegalatinclosed",631,"omegaroundcyrillic",1147,"omegatitlocyrillic",1149,"omegatonos",974,"omgujarati",2768,"omicron",959,"omicrontonos",972,"omonospace",65359,"one",49,"onearabic",1633,"onebengali",2535,"onecircle",9312,"onecircleinversesansserif",10122,"onedeva",2407,"onedotenleader",8228,"oneeighth",8539,"onefitted",63196,"onegujarati",2791,"onegurmukhi",2663,"onehackarabic",1633,"onehalf",189,"onehangzhou",12321,"oneideographicparen",12832,"oneinferior",8321,"onemonospace",65297,"onenumeratorbengali",2548,"oneoldstyle",63281,"oneparen",9332,"oneperiod",9352,"onepersian",1777,"onequarter",188,"oneroman",8560,"onesuperior",185,"onethai",3665,"onethird",8531,"oogonek",491,"oogonekmacron",493,"oogurmukhi",2579,"oomatragurmukhi",2635,"oopen",596,"oparen",9386,"openbullet",9702,"option",8997,"ordfeminine",170,"ordmasculine",186,"orthogonal",8735,"oshortdeva",2322,"oshortvowelsigndeva",2378,"oslash",248,"oslashacute",511,"osmallhiragana",12361,"osmallkatakana",12457,"osmallkatakanahalfwidth",65387,"ostrokeacute",511,"osuperior",63216,"otcyrillic",1151,"otilde",245,"otildeacute",7757,"otildedieresis",7759,"oubopomofo",12577,"overline",8254,"overlinecenterline",65098,"overlinecmb",773,"overlinedashed",65097,"overlinedblwavy",65100,"overlinewavy",65099,"overscore",175,"ovowelsignbengali",2507,"ovowelsigndeva",2379,"ovowelsigngujarati",2763,"p",112,"paampssquare",13184,"paasentosquare",13099,"pabengali",2474,"pacute",7765,"padeva",2346,"pagedown",8671,"pageup",8670,"pagujarati",2730,"pagurmukhi",2602,"pahiragana",12401,"paiyannoithai",3631,"pakatakana",12497,"palatalizationcyrilliccmb",1156,"palochkacyrillic",1216,"pansioskorean",12671,"paragraph",182,"parallel",8741,"parenleft",40,"parenleftaltonearabic",64830,"parenleftbt",63725,"parenleftex",63724,"parenleftinferior",8333,"parenleftmonospace",65288,"parenleftsmall",65113,"parenleftsuperior",8317,"parenlefttp",63723,"parenleftvertical",65077,"parenright",41,"parenrightaltonearabic",64831,"parenrightbt",63736,"parenrightex",63735,"parenrightinferior",8334,"parenrightmonospace",65289,"parenrightsmall",65114,"parenrightsuperior",8318,"parenrighttp",63734,"parenrightvertical",65078,"partialdiff",8706,"paseqhebrew",1472,"pashtahebrew",1433,"pasquare",13225,"patah",1463,"patah11",1463,"patah1d",1463,"patah2a",1463,"patahhebrew",1463,"patahnarrowhebrew",1463,"patahquarterhebrew",1463,"patahwidehebrew",1463,"pazerhebrew",1441,"pbopomofo",12550,"pcircle",9439,"pdotaccent",7767,"pe",1508,"pecyrillic",1087,"pedagesh",64324,"pedageshhebrew",64324,"peezisquare",13115,"pefinaldageshhebrew",64323,"peharabic",1662,"peharmenian",1402,"pehebrew",1508,"pehfinalarabic",64343,"pehinitialarabic",64344,"pehiragana",12410,"pehmedialarabic",64345,"pekatakana",12506,"pemiddlehookcyrillic",1191,"perafehebrew",64334,"percent",37,"percentarabic",1642,"percentmonospace",65285,"percentsmall",65130,"period",46,"periodarmenian",1417,"periodcentered",183,"periodhalfwidth",65377,"periodinferior",63207,"periodmonospace",65294,"periodsmall",65106,"periodsuperior",63208,"perispomenigreekcmb",834,"perpendicular",8869,"perthousand",8240,"peseta",8359,"pfsquare",13194,"phabengali",2475,"phadeva",2347,"phagujarati",2731,"phagurmukhi",2603,"phi",966,"phi1",981,"phieuphacirclekorean",12922,"phieuphaparenkorean",12826,"phieuphcirclekorean",12908,"phieuphkorean",12621,"phieuphparenkorean",12812,"philatin",632,"phinthuthai",3642,"phisymbolgreek",981,"phook",421,"phophanthai",3614,"phophungthai",3612,"phosamphaothai",3616,"pi",960,"pieupacirclekorean",12915,"pieupaparenkorean",12819,"pieupcieuckorean",12662,"pieupcirclekorean",12901,"pieupkiyeokkorean",12658,"pieupkorean",12610,"pieupparenkorean",12805,"pieupsioskiyeokkorean",12660,"pieupsioskorean",12612,"pieupsiostikeutkorean",12661,"pieupthieuthkorean",12663,"pieuptikeutkorean",12659,"pihiragana",12404,"pikatakana",12500,"pisymbolgreek",982,"piwrarmenian",1411,"plus",43,"plusbelowcmb",799,"pluscircle",8853,"plusminus",177,"plusmod",726,"plusmonospace",65291,"plussmall",65122,"plussuperior",8314,"pmonospace",65360,"pmsquare",13272,"pohiragana",12413,"pointingindexdownwhite",9759,"pointingindexleftwhite",9756,"pointingindexrightwhite",9758,"pointingindexupwhite",9757,"pokatakana",12509,"poplathai",3611,"postalmark",12306,"postalmarkface",12320,"pparen",9387,"precedes",8826,"prescription",8478,"primemod",697,"primereversed",8245,"product",8719,"projective",8965,"prolongedkana",12540,"propellor",8984,"propersubset",8834,"propersuperset",8835,"proportion",8759,"proportional",8733,"psi",968,"psicyrillic",1137,"psilipneumatacyrilliccmb",1158,"pssquare",13232,"puhiragana",12407,"pukatakana",12503,"pvsquare",13236,"pwsquare",13242,"q",113,"qadeva",2392,"qadmahebrew",1448,"qafarabic",1602,"qaffinalarabic",65238,"qafinitialarabic",65239,"qafmedialarabic",65240,"qamats",1464,"qamats10",1464,"qamats1a",1464,"qamats1c",1464,"qamats27",1464,"qamats29",1464,"qamats33",1464,"qamatsde",1464,"qamatshebrew",1464,"qamatsnarrowhebrew",1464,"qamatsqatanhebrew",1464,"qamatsqatannarrowhebrew",1464,"qamatsqatanquarterhebrew",1464,"qamatsqatanwidehebrew",1464,"qamatsquarterhebrew",1464,"qamatswidehebrew",1464,"qarneyparahebrew",1439,"qbopomofo",12561,"qcircle",9440,"qhook",672,"qmonospace",65361,"qof",1511,"qofdagesh",64327,"qofdageshhebrew",64327,"qofhebrew",1511,"qparen",9388,"quarternote",9833,"qubuts",1467,"qubuts18",1467,"qubuts25",1467,"qubuts31",1467,"qubutshebrew",1467,"qubutsnarrowhebrew",1467,"qubutsquarterhebrew",1467,"qubutswidehebrew",1467,"question",63,"questionarabic",1567,"questionarmenian",1374,"questiondown",191,"questiondownsmall",63423,"questiongreek",894,"questionmonospace",65311,"questionsmall",63295,"quotedbl",34,"quotedblbase",8222,"quotedblleft",8220,"quotedblmonospace",65282,"quotedblprime",12318,"quotedblprimereversed",12317,"quotedblright",8221,"quoteleft",8216,"quoteleftreversed",8219,"quotereversed",8219,"quoteright",8217,"quoterightn",329,"quotesinglbase",8218,"quotesingle",39,"quotesinglemonospace",65287,"r",114,"raarmenian",1404,"rabengali",2480,"racute",341,"radeva",2352,"radical",8730,"radicalex",63717,"radoverssquare",13230,"radoverssquaredsquare",13231,"radsquare",13229,"rafe",1471,"rafehebrew",1471,"ragujarati",2736,"ragurmukhi",2608,"rahiragana",12425,"rakatakana",12521,"rakatakanahalfwidth",65431,"ralowerdiagonalbengali",2545,"ramiddlediagonalbengali",2544,"ramshorn",612,"ratio",8758,"rbopomofo",12566,"rcaron",345,"rcedilla",343,"rcircle",9441,"rcommaaccent",343,"rdblgrave",529,"rdotaccent",7769,"rdotbelow",7771,"rdotbelowmacron",7773,"referencemark",8251,"reflexsubset",8838,"reflexsuperset",8839,"registered",174,"registersans",63720,"registerserif",63194,"reharabic",1585,"reharmenian",1408,"rehfinalarabic",65198,"rehiragana",12428,"rekatakana",12524,"rekatakanahalfwidth",65434,"resh",1512,"reshdageshhebrew",64328,"reshhebrew",1512,"reversedtilde",8765,"reviahebrew",1431,"reviamugrashhebrew",1431,"revlogicalnot",8976,"rfishhook",638,"rfishhookreversed",639,"rhabengali",2525,"rhadeva",2397,"rho",961,"rhook",637,"rhookturned",635,"rhookturnedsuperior",693,"rhosymbolgreek",1009,"rhotichookmod",734,"rieulacirclekorean",12913,"rieulaparenkorean",12817,"rieulcirclekorean",12899,"rieulhieuhkorean",12608,"rieulkiyeokkorean",12602,"rieulkiyeoksioskorean",12649,"rieulkorean",12601,"rieulmieumkorean",12603,"rieulpansioskorean",12652,"rieulparenkorean",12803,"rieulphieuphkorean",12607,"rieulpieupkorean",12604,"rieulpieupsioskorean",12651,"rieulsioskorean",12605,"rieulthieuthkorean",12606,"rieultikeutkorean",12650,"rieulyeorinhieuhkorean",12653,"rightangle",8735,"righttackbelowcmb",793,"righttriangle",8895,"rihiragana",12426,"rikatakana",12522,"rikatakanahalfwidth",65432,"ring",730,"ringbelowcmb",805,"ringcmb",778,"ringhalfleft",703,"ringhalfleftarmenian",1369,"ringhalfleftbelowcmb",796,"ringhalfleftcentered",723,"ringhalfright",702,"ringhalfrightbelowcmb",825,"ringhalfrightcentered",722,"rinvertedbreve",531,"rittorusquare",13137,"rlinebelow",7775,"rlongleg",636,"rlonglegturned",634,"rmonospace",65362,"rohiragana",12429,"rokatakana",12525,"rokatakanahalfwidth",65435,"roruathai",3619,"rparen",9389,"rrabengali",2524,"rradeva",2353,"rragurmukhi",2652,"rreharabic",1681,"rrehfinalarabic",64397,"rrvocalicbengali",2528,"rrvocalicdeva",2400,"rrvocalicgujarati",2784,"rrvocalicvowelsignbengali",2500,"rrvocalicvowelsigndeva",2372,"rrvocalicvowelsigngujarati",2756,"rsuperior",63217,"rtblock",9616,"rturned",633,"rturnedsuperior",692,"ruhiragana",12427,"rukatakana",12523,"rukatakanahalfwidth",65433,"rupeemarkbengali",2546,"rupeesignbengali",2547,"rupiah",63197,"ruthai",3620,"rvocalicbengali",2443,"rvocalicdeva",2315,"rvocalicgujarati",2699,"rvocalicvowelsignbengali",2499,"rvocalicvowelsigndeva",2371,"rvocalicvowelsigngujarati",2755,"s",115,"sabengali",2488,"sacute",347,"sacutedotaccent",7781,"sadarabic",1589,"sadeva",2360,"sadfinalarabic",65210,"sadinitialarabic",65211,"sadmedialarabic",65212,"sagujarati",2744,"sagurmukhi",2616,"sahiragana",12373,"sakatakana",12469,"sakatakanahalfwidth",65403,"sallallahoualayhewasallamarabic",65018,"samekh",1505,"samekhdagesh",64321,"samekhdageshhebrew",64321,"samekhhebrew",1505,"saraaathai",3634,"saraaethai",3649,"saraaimaimalaithai",3652,"saraaimaimuanthai",3651,"saraamthai",3635,"saraathai",3632,"saraethai",3648,"saraiileftthai",63622,"saraiithai",3637,"saraileftthai",63621,"saraithai",3636,"saraothai",3650,"saraueeleftthai",63624,"saraueethai",3639,"saraueleftthai",63623,"sarauethai",3638,"sarauthai",3640,"sarauuthai",3641,"sbopomofo",12569,"scaron",353,"scarondotaccent",7783,"scedilla",351,"schwa",601,"schwacyrillic",1241,"schwadieresiscyrillic",1243,"schwahook",602,"scircle",9442,"scircumflex",349,"scommaaccent",537,"sdotaccent",7777,"sdotbelow",7779,"sdotbelowdotaccent",7785,"seagullbelowcmb",828,"second",8243,"secondtonechinese",714,"section",167,"seenarabic",1587,"seenfinalarabic",65202,"seeninitialarabic",65203,"seenmedialarabic",65204,"segol",1462,"segol13",1462,"segol1f",1462,"segol2c",1462,"segolhebrew",1462,"segolnarrowhebrew",1462,"segolquarterhebrew",1462,"segoltahebrew",1426,"segolwidehebrew",1462,"seharmenian",1405,"sehiragana",12379,"sekatakana",12475,"sekatakanahalfwidth",65406,"semicolon",59,"semicolonarabic",1563,"semicolonmonospace",65307,"semicolonsmall",65108,"semivoicedmarkkana",12444,"semivoicedmarkkanahalfwidth",65439,"sentisquare",13090,"sentosquare",13091,"seven",55,"sevenarabic",1639,"sevenbengali",2541,"sevencircle",9318,"sevencircleinversesansserif",10128,"sevendeva",2413,"seveneighths",8542,"sevengujarati",2797,"sevengurmukhi",2669,"sevenhackarabic",1639,"sevenhangzhou",12327,"sevenideographicparen",12838,"seveninferior",8327,"sevenmonospace",65303,"sevenoldstyle",63287,"sevenparen",9338,"sevenperiod",9358,"sevenpersian",1783,"sevenroman",8566,"sevensuperior",8311,"seventeencircle",9328,"seventeenparen",9348,"seventeenperiod",9368,"seventhai",3671,"sfthyphen",173,"shaarmenian",1399,"shabengali",2486,"shacyrillic",1096,"shaddaarabic",1617,"shaddadammaarabic",64609,"shaddadammatanarabic",64606,"shaddafathaarabic",64608,"shaddakasraarabic",64610,"shaddakasratanarabic",64607,"shade",9618,"shadedark",9619,"shadelight",9617,"shademedium",9618,"shadeva",2358,"shagujarati",2742,"shagurmukhi",2614,"shalshelethebrew",1427,"shbopomofo",12565,"shchacyrillic",1097,"sheenarabic",1588,"sheenfinalarabic",65206,"sheeninitialarabic",65207,"sheenmedialarabic",65208,"sheicoptic",995,"sheqel",8362,"sheqelhebrew",8362,"sheva",1456,"sheva115",1456,"sheva15",1456,"sheva22",1456,"sheva2e",1456,"shevahebrew",1456,"shevanarrowhebrew",1456,"shevaquarterhebrew",1456,"shevawidehebrew",1456,"shhacyrillic",1211,"shimacoptic",1005,"shin",1513,"shindagesh",64329,"shindageshhebrew",64329,"shindageshshindot",64300,"shindageshshindothebrew",64300,"shindageshsindot",64301,"shindageshsindothebrew",64301,"shindothebrew",1473,"shinhebrew",1513,"shinshindot",64298,"shinshindothebrew",64298,"shinsindot",64299,"shinsindothebrew",64299,"shook",642,"sigma",963,"sigma1",962,"sigmafinal",962,"sigmalunatesymbolgreek",1010,"sihiragana",12375,"sikatakana",12471,"sikatakanahalfwidth",65404,"siluqhebrew",1469,"siluqlefthebrew",1469,"similar",8764,"sindothebrew",1474,"siosacirclekorean",12916,"siosaparenkorean",12820,"sioscieuckorean",12670,"sioscirclekorean",12902,"sioskiyeokkorean",12666,"sioskorean",12613,"siosnieunkorean",12667,"siosparenkorean",12806,"siospieupkorean",12669,"siostikeutkorean",12668,"six",54,"sixarabic",1638,"sixbengali",2540,"sixcircle",9317,"sixcircleinversesansserif",10127,"sixdeva",2412,"sixgujarati",2796,"sixgurmukhi",2668,"sixhackarabic",1638,"sixhangzhou",12326,"sixideographicparen",12837,"sixinferior",8326,"sixmonospace",65302,"sixoldstyle",63286,"sixparen",9337,"sixperiod",9357,"sixpersian",1782,"sixroman",8565,"sixsuperior",8310,"sixteencircle",9327,"sixteencurrencydenominatorbengali",2553,"sixteenparen",9347,"sixteenperiod",9367,"sixthai",3670,"slash",47,"slashmonospace",65295,"slong",383,"slongdotaccent",7835,"smileface",9786,"smonospace",65363,"sofpasuqhebrew",1475,"softhyphen",173,"softsigncyrillic",1100,"sohiragana",12381,"sokatakana",12477,"sokatakanahalfwidth",65407,"soliduslongoverlaycmb",824,"solidusshortoverlaycmb",823,"sorusithai",3625,"sosalathai",3624,"sosothai",3595,"sosuathai",3626,"space",32,"spacehackarabic",32,"spade",9824,"spadesuitblack",9824,"spadesuitwhite",9828,"sparen",9390,"squarebelowcmb",827,"squarecc",13252,"squarecm",13213,"squarediagonalcrosshatchfill",9641,"squarehorizontalfill",9636,"squarekg",13199,"squarekm",13214,"squarekmcapital",13262,"squareln",13265,"squarelog",13266,"squaremg",13198,"squaremil",13269,"squaremm",13212,"squaremsquared",13217,"squareorthogonalcrosshatchfill",9638,"squareupperlefttolowerrightfill",9639,"squareupperrighttolowerleftfill",9640,"squareverticalfill",9637,"squarewhitewithsmallblack",9635,"srsquare",13275,"ssabengali",2487,"ssadeva",2359,"ssagujarati",2743,"ssangcieuckorean",12617,"ssanghieuhkorean",12677,"ssangieungkorean",12672,"ssangkiyeokkorean",12594,"ssangnieunkorean",12645,"ssangpieupkorean",12611,"ssangsioskorean",12614,"ssangtikeutkorean",12600,"ssuperior",63218,"sterling",163,"sterlingmonospace",65505,"strokelongoverlaycmb",822,"strokeshortoverlaycmb",821,"subset",8834,"subsetnotequal",8842,"subsetorequal",8838,"succeeds",8827,"suchthat",8715,"suhiragana",12377,"sukatakana",12473,"sukatakanahalfwidth",65405,"sukunarabic",1618,"summation",8721,"sun",9788,"superset",8835,"supersetnotequal",8843,"supersetorequal",8839,"svsquare",13276,"syouwaerasquare",13180,"t",116,"tabengali",2468,"tackdown",8868,"tackleft",8867,"tadeva",2340,"tagujarati",2724,"tagurmukhi",2596,"taharabic",1591,"tahfinalarabic",65218,"tahinitialarabic",65219,"tahiragana",12383,"tahmedialarabic",65220,"taisyouerasquare",13181,"takatakana",12479,"takatakanahalfwidth",65408,"tatweelarabic",1600,"tau",964,"tav",1514,"tavdages",64330,"tavdagesh",64330,"tavdageshhebrew",64330,"tavhebrew",1514,"tbar",359,"tbopomofo",12554,"tcaron",357,"tccurl",680,"tcedilla",355,"tcheharabic",1670,"tchehfinalarabic",64379,"tchehinitialarabic",64380,"tchehmedialarabic",64381,"tcircle",9443,"tcircumflexbelow",7793,"tcommaaccent",355,"tdieresis",7831,"tdotaccent",7787,"tdotbelow",7789,"tecyrillic",1090,"tedescendercyrillic",1197,"teharabic",1578,"tehfinalarabic",65174,"tehhahinitialarabic",64674,"tehhahisolatedarabic",64524,"tehinitialarabic",65175,"tehiragana",12390,"tehjeeminitialarabic",64673,"tehjeemisolatedarabic",64523,"tehmarbutaarabic",1577,"tehmarbutafinalarabic",65172,"tehmedialarabic",65176,"tehmeeminitialarabic",64676,"tehmeemisolatedarabic",64526,"tehnoonfinalarabic",64627,"tekatakana",12486,"tekatakanahalfwidth",65411,"telephone",8481,"telephoneblack",9742,"telishagedolahebrew",1440,"telishaqetanahebrew",1449,"tencircle",9321,"tenideographicparen",12841,"tenparen",9341,"tenperiod",9361,"tenroman",8569,"tesh",679,"tet",1496,"tetdagesh",64312,"tetdageshhebrew",64312,"tethebrew",1496,"tetsecyrillic",1205,"tevirhebrew",1435,"tevirlefthebrew",1435,"thabengali",2469,"thadeva",2341,"thagujarati",2725,"thagurmukhi",2597,"thalarabic",1584,"thalfinalarabic",65196,"thanthakhatlowleftthai",63640,"thanthakhatlowrightthai",63639,"thanthakhatthai",3660,"thanthakhatupperleftthai",63638,"theharabic",1579,"thehfinalarabic",65178,"thehinitialarabic",65179,"thehmedialarabic",65180,"thereexists",8707,"therefore",8756,"theta",952,"theta1",977,"thetasymbolgreek",977,"thieuthacirclekorean",12921,"thieuthaparenkorean",12825,"thieuthcirclekorean",12907,"thieuthkorean",12620,"thieuthparenkorean",12811,"thirteencircle",9324,"thirteenparen",9344,"thirteenperiod",9364,"thonangmonthothai",3601,"thook",429,"thophuthaothai",3602,"thorn",254,"thothahanthai",3607,"thothanthai",3600,"thothongthai",3608,"thothungthai",3606,"thousandcyrillic",1154,"thousandsseparatorarabic",1644,"thousandsseparatorpersian",1644,"three",51,"threearabic",1635,"threebengali",2537,"threecircle",9314,"threecircleinversesansserif",10124,"threedeva",2409,"threeeighths",8540,"threegujarati",2793,"threegurmukhi",2665,"threehackarabic",1635,"threehangzhou",12323,"threeideographicparen",12834,"threeinferior",8323,"threemonospace",65299,"threenumeratorbengali",2550,"threeoldstyle",63283,"threeparen",9334,"threeperiod",9354,"threepersian",1779,"threequarters",190,"threequartersemdash",63198,"threeroman",8562,"threesuperior",179,"threethai",3667,"thzsquare",13204,"tihiragana",12385,"tikatakana",12481,"tikatakanahalfwidth",65409,"tikeutacirclekorean",12912,"tikeutaparenkorean",12816,"tikeutcirclekorean",12898,"tikeutkorean",12599,"tikeutparenkorean",12802,"tilde",732,"tildebelowcmb",816,"tildecmb",771,"tildecomb",771,"tildedoublecmb",864,"tildeoperator",8764,"tildeoverlaycmb",820,"tildeverticalcmb",830,"timescircle",8855,"tipehahebrew",1430,"tipehalefthebrew",1430,"tippigurmukhi",2672,"titlocyrilliccmb",1155,"tiwnarmenian",1407,"tlinebelow",7791,"tmonospace",65364,"toarmenian",1385,"tohiragana",12392,"tokatakana",12488,"tokatakanahalfwidth",65412,"tonebarextrahighmod",741,"tonebarextralowmod",745,"tonebarhighmod",742,"tonebarlowmod",744,"tonebarmidmod",743,"tonefive",445,"tonesix",389,"tonetwo",424,"tonos",900,"tonsquare",13095,"topatakthai",3599,"tortoiseshellbracketleft",12308,"tortoiseshellbracketleftsmall",65117,"tortoiseshellbracketleftvertical",65081,"tortoiseshellbracketright",12309,"tortoiseshellbracketrightsmall",65118,"tortoiseshellbracketrightvertical",65082,"totaothai",3605,"tpalatalhook",427,"tparen",9391,"trademark",8482,"trademarksans",63722,"trademarkserif",63195,"tretroflexhook",648,"triagdn",9660,"triaglf",9668,"triagrt",9658,"triagup",9650,"ts",678,"tsadi",1510,"tsadidagesh",64326,"tsadidageshhebrew",64326,"tsadihebrew",1510,"tsecyrillic",1094,"tsere",1461,"tsere12",1461,"tsere1e",1461,"tsere2b",1461,"tserehebrew",1461,"tserenarrowhebrew",1461,"tserequarterhebrew",1461,"tserewidehebrew",1461,"tshecyrillic",1115,"tsuperior",63219,"ttabengali",2463,"ttadeva",2335,"ttagujarati",2719,"ttagurmukhi",2591,"tteharabic",1657,"ttehfinalarabic",64359,"ttehinitialarabic",64360,"ttehmedialarabic",64361,"tthabengali",2464,"tthadeva",2336,"tthagujarati",2720,"tthagurmukhi",2592,"tturned",647,"tuhiragana",12388,"tukatakana",12484,"tukatakanahalfwidth",65410,"tusmallhiragana",12387,"tusmallkatakana",12483,"tusmallkatakanahalfwidth",65391,"twelvecircle",9323,"twelveparen",9343,"twelveperiod",9363,"twelveroman",8571,"twentycircle",9331,"twentyhangzhou",21316,"twentyparen",9351,"twentyperiod",9371,"two",50,"twoarabic",1634,"twobengali",2536,"twocircle",9313,"twocircleinversesansserif",10123,"twodeva",2408,"twodotenleader",8229,"twodotleader",8229,"twodotleadervertical",65072,"twogujarati",2792,"twogurmukhi",2664,"twohackarabic",1634,"twohangzhou",12322,"twoideographicparen",12833,"twoinferior",8322,"twomonospace",65298,"twonumeratorbengali",2549,"twooldstyle",63282,"twoparen",9333,"twoperiod",9353,"twopersian",1778,"tworoman",8561,"twostroke",443,"twosuperior",178,"twothai",3666,"twothirds",8532,"u",117,"uacute",250,"ubar",649,"ubengali",2441,"ubopomofo",12584,"ubreve",365,"ucaron",468,"ucircle",9444,"ucircumflex",251,"ucircumflexbelow",7799,"ucyrillic",1091,"udattadeva",2385,"udblacute",369,"udblgrave",533,"udeva",2313,"udieresis",252,"udieresisacute",472,"udieresisbelow",7795,"udieresiscaron",474,"udieresiscyrillic",1265,"udieresisgrave",476,"udieresismacron",470,"udotbelow",7909,"ugrave",249,"ugujarati",2697,"ugurmukhi",2569,"uhiragana",12358,"uhookabove",7911,"uhorn",432,"uhornacute",7913,"uhorndotbelow",7921,"uhorngrave",7915,"uhornhookabove",7917,"uhorntilde",7919,"uhungarumlaut",369,"uhungarumlautcyrillic",1267,"uinvertedbreve",535,"ukatakana",12454,"ukatakanahalfwidth",65395,"ukcyrillic",1145,"ukorean",12636,"umacron",363,"umacroncyrillic",1263,"umacrondieresis",7803,"umatragurmukhi",2625,"umonospace",65365,"underscore",95,"underscoredbl",8215,"underscoremonospace",65343,"underscorevertical",65075,"underscorewavy",65103,"union",8746,"universal",8704,"uogonek",371,"uparen",9392,"upblock",9600,"upperdothebrew",1476,"upsilon",965,"upsilondieresis",971,"upsilondieresistonos",944,"upsilonlatin",650,"upsilontonos",973,"uptackbelowcmb",797,"uptackmod",724,"uragurmukhi",2675,"uring",367,"ushortcyrillic",1118,"usmallhiragana",12357,"usmallkatakana",12453,"usmallkatakanahalfwidth",65385,"ustraightcyrillic",1199,"ustraightstrokecyrillic",1201,"utilde",361,"utildeacute",7801,"utildebelow",7797,"uubengali",2442,"uudeva",2314,"uugujarati",2698,"uugurmukhi",2570,"uumatragurmukhi",2626,"uuvowelsignbengali",2498,"uuvowelsigndeva",2370,"uuvowelsigngujarati",2754,"uvowelsignbengali",2497,"uvowelsigndeva",2369,"uvowelsigngujarati",2753,"v",118,"vadeva",2357,"vagujarati",2741,"vagurmukhi",2613,"vakatakana",12535,"vav",1493,"vavdagesh",64309,"vavdagesh65",64309,"vavdageshhebrew",64309,"vavhebrew",1493,"vavholam",64331,"vavholamhebrew",64331,"vavvavhebrew",1520,"vavyodhebrew",1521,"vcircle",9445,"vdotbelow",7807,"vecyrillic",1074,"veharabic",1700,"vehfinalarabic",64363,"vehinitialarabic",64364,"vehmedialarabic",64365,"vekatakana",12537,"venus",9792,"verticalbar",124,"verticallineabovecmb",781,"verticallinebelowcmb",809,"verticallinelowmod",716,"verticallinemod",712,"vewarmenian",1406,"vhook",651,"vikatakana",12536,"viramabengali",2509,"viramadeva",2381,"viramagujarati",2765,"visargabengali",2435,"visargadeva",2307,"visargagujarati",2691,"vmonospace",65366,"voarmenian",1400,"voicediterationhiragana",12446,"voicediterationkatakana",12542,"voicedmarkkana",12443,"voicedmarkkanahalfwidth",65438,"vokatakana",12538,"vparen",9393,"vtilde",7805,"vturned",652,"vuhiragana",12436,"vukatakana",12532,"w",119,"wacute",7811,"waekorean",12633,"wahiragana",12431,"wakatakana",12527,"wakatakanahalfwidth",65436,"wakorean",12632,"wasmallhiragana",12430,"wasmallkatakana",12526,"wattosquare",13143,"wavedash",12316,"wavyunderscorevertical",65076,"wawarabic",1608,"wawfinalarabic",65262,"wawhamzaabovearabic",1572,"wawhamzaabovefinalarabic",65158,"wbsquare",13277,"wcircle",9446,"wcircumflex",373,"wdieresis",7813,"wdotaccent",7815,"wdotbelow",7817,"wehiragana",12433,"weierstrass",8472,"wekatakana",12529,"wekorean",12638,"weokorean",12637,"wgrave",7809,"whitebullet",9702,"whitecircle",9675,"whitecircleinverse",9689,"whitecornerbracketleft",12302,"whitecornerbracketleftvertical",65091,"whitecornerbracketright",12303,"whitecornerbracketrightvertical",65092,"whitediamond",9671,"whitediamondcontainingblacksmalldiamond",9672,"whitedownpointingsmalltriangle",9663,"whitedownpointingtriangle",9661,"whiteleftpointingsmalltriangle",9667,"whiteleftpointingtriangle",9665,"whitelenticularbracketleft",12310,"whitelenticularbracketright",12311,"whiterightpointingsmalltriangle",9657,"whiterightpointingtriangle",9655,"whitesmallsquare",9643,"whitesmilingface",9786,"whitesquare",9633,"whitestar",9734,"whitetelephone",9743,"whitetortoiseshellbracketleft",12312,"whitetortoiseshellbracketright",12313,"whiteuppointingsmalltriangle",9653,"whiteuppointingtriangle",9651,"wihiragana",12432,"wikatakana",12528,"wikorean",12639,"wmonospace",65367,"wohiragana",12434,"wokatakana",12530,"wokatakanahalfwidth",65382,"won",8361,"wonmonospace",65510,"wowaenthai",3623,"wparen",9394,"wring",7832,"wsuperior",695,"wturned",653,"wynn",447,"x",120,"xabovecmb",829,"xbopomofo",12562,"xcircle",9447,"xdieresis",7821,"xdotaccent",7819,"xeharmenian",1389,"xi",958,"xmonospace",65368,"xparen",9395,"xsuperior",739,"y",121,"yaadosquare",13134,"yabengali",2479,"yacute",253,"yadeva",2351,"yaekorean",12626,"yagujarati",2735,"yagurmukhi",2607,"yahiragana",12420,"yakatakana",12516,"yakatakanahalfwidth",65428,"yakorean",12625,"yamakkanthai",3662,"yasmallhiragana",12419,"yasmallkatakana",12515,"yasmallkatakanahalfwidth",65388,"yatcyrillic",1123,"ycircle",9448,"ycircumflex",375,"ydieresis",255,"ydotaccent",7823,"ydotbelow",7925,"yeharabic",1610,"yehbarreearabic",1746,"yehbarreefinalarabic",64431,"yehfinalarabic",65266,"yehhamzaabovearabic",1574,"yehhamzaabovefinalarabic",65162,"yehhamzaaboveinitialarabic",65163,"yehhamzaabovemedialarabic",65164,"yehinitialarabic",65267,"yehmedialarabic",65268,"yehmeeminitialarabic",64733,"yehmeemisolatedarabic",64600,"yehnoonfinalarabic",64660,"yehthreedotsbelowarabic",1745,"yekorean",12630,"yen",165,"yenmonospace",65509,"yeokorean",12629,"yeorinhieuhkorean",12678,"yerahbenyomohebrew",1450,"yerahbenyomolefthebrew",1450,"yericyrillic",1099,"yerudieresiscyrillic",1273,"yesieungkorean",12673,"yesieungpansioskorean",12675,"yesieungsioskorean",12674,"yetivhebrew",1434,"ygrave",7923,"yhook",436,"yhookabove",7927,"yiarmenian",1397,"yicyrillic",1111,"yikorean",12642,"yinyang",9775,"yiwnarmenian",1410,"ymonospace",65369,"yod",1497,"yoddagesh",64313,"yoddageshhebrew",64313,"yodhebrew",1497,"yodyodhebrew",1522,"yodyodpatahhebrew",64287,"yohiragana",12424,"yoikorean",12681,"yokatakana",12520,"yokatakanahalfwidth",65430,"yokorean",12635,"yosmallhiragana",12423,"yosmallkatakana",12519,"yosmallkatakanahalfwidth",65390,"yotgreek",1011,"yoyaekorean",12680,"yoyakorean",12679,"yoyakthai",3618,"yoyingthai",3597,"yparen",9396,"ypogegrammeni",890,"ypogegrammenigreekcmb",837,"yr",422,"yring",7833,"ysuperior",696,"ytilde",7929,"yturned",654,"yuhiragana",12422,"yuikorean",12684,"yukatakana",12518,"yukatakanahalfwidth",65429,"yukorean",12640,"yusbigcyrillic",1131,"yusbigiotifiedcyrillic",1133,"yuslittlecyrillic",1127,"yuslittleiotifiedcyrillic",1129,"yusmallhiragana",12421,"yusmallkatakana",12517,"yusmallkatakanahalfwidth",65389,"yuyekorean",12683,"yuyeokorean",12682,"yyabengali",2527,"yyadeva",2399,"z",122,"zaarmenian",1382,"zacute",378,"zadeva",2395,"zagurmukhi",2651,"zaharabic",1592,"zahfinalarabic",65222,"zahinitialarabic",65223,"zahiragana",12374,"zahmedialarabic",65224,"zainarabic",1586,"zainfinalarabic",65200,"zakatakana",12470,"zaqefgadolhebrew",1429,"zaqefqatanhebrew",1428,"zarqahebrew",1432,"zayin",1494,"zayindagesh",64310,"zayindageshhebrew",64310,"zayinhebrew",1494,"zbopomofo",12567,"zcaron",382,"zcircle",9449,"zcircumflex",7825,"zcurl",657,"zdot",380,"zdotaccent",380,"zdotbelow",7827,"zecyrillic",1079,"zedescendercyrillic",1177,"zedieresiscyrillic",1247,"zehiragana",12380,"zekatakana",12476,"zero",48,"zeroarabic",1632,"zerobengali",2534,"zerodeva",2406,"zerogujarati",2790,"zerogurmukhi",2662,"zerohackarabic",1632,"zeroinferior",8320,"zeromonospace",65296,"zerooldstyle",63280,"zeropersian",1776,"zerosuperior",8304,"zerothai",3664,"zerowidthjoiner",65279,"zerowidthnonjoiner",8204,"zerowidthspace",8203,"zeta",950,"zhbopomofo",12563,"zhearmenian",1386,"zhebrevecyrillic",1218,"zhecyrillic",1078,"zhedescendercyrillic",1175,"zhedieresiscyrillic",1245,"zihiragana",12376,"zikatakana",12472,"zinorhebrew",1454,"zlinebelow",7829,"zmonospace",65370,"zohiragana",12382,"zokatakana",12478,"zparen",9397,"zretroflexhook",656,"zstroke",438,"zuhiragana",12378,"zukatakana",12474,".notdef",0,"angbracketleftbig",9001,"angbracketleftBig",9001,"angbracketleftbigg",9001,"angbracketleftBigg",9001,"angbracketrightBig",9002,"angbracketrightbig",9002,"angbracketrightBigg",9002,"angbracketrightbigg",9002,"arrowhookleft",8618,"arrowhookright",8617,"arrowlefttophalf",8636,"arrowleftbothalf",8637,"arrownortheast",8599,"arrownorthwest",8598,"arrowrighttophalf",8640,"arrowrightbothalf",8641,"arrowsoutheast",8600,"arrowsouthwest",8601,"backslashbig",8726,"backslashBig",8726,"backslashBigg",8726,"backslashbigg",8726,"bardbl",8214,"bracehtipdownleft",65079,"bracehtipdownright",65079,"bracehtipupleft",65080,"bracehtipupright",65080,"braceleftBig",123,"braceleftbig",123,"braceleftbigg",123,"braceleftBigg",123,"bracerightBig",125,"bracerightbig",125,"bracerightbigg",125,"bracerightBigg",125,"bracketleftbig",91,"bracketleftBig",91,"bracketleftbigg",91,"bracketleftBigg",91,"bracketrightBig",93,"bracketrightbig",93,"bracketrightbigg",93,"bracketrightBigg",93,"ceilingleftbig",8968,"ceilingleftBig",8968,"ceilingleftBigg",8968,"ceilingleftbigg",8968,"ceilingrightbig",8969,"ceilingrightBig",8969,"ceilingrightbigg",8969,"ceilingrightBigg",8969,"circledotdisplay",8857,"circledottext",8857,"circlemultiplydisplay",8855,"circlemultiplytext",8855,"circleplusdisplay",8853,"circleplustext",8853,"contintegraldisplay",8750,"contintegraltext",8750,"coproductdisplay",8720,"coproducttext",8720,"floorleftBig",8970,"floorleftbig",8970,"floorleftbigg",8970,"floorleftBigg",8970,"floorrightbig",8971,"floorrightBig",8971,"floorrightBigg",8971,"floorrightbigg",8971,"hatwide",770,"hatwider",770,"hatwidest",770,"intercal",7488,"integraldisplay",8747,"integraltext",8747,"intersectiondisplay",8898,"intersectiontext",8898,"logicalanddisplay",8743,"logicalandtext",8743,"logicalordisplay",8744,"logicalortext",8744,"parenleftBig",40,"parenleftbig",40,"parenleftBigg",40,"parenleftbigg",40,"parenrightBig",41,"parenrightbig",41,"parenrightBigg",41,"parenrightbigg",41,"prime",8242,"productdisplay",8719,"producttext",8719,"radicalbig",8730,"radicalBig",8730,"radicalBigg",8730,"radicalbigg",8730,"radicalbt",8730,"radicaltp",8730,"radicalvertex",8730,"slashbig",47,"slashBig",47,"slashBigg",47,"slashbigg",47,"summationdisplay",8721,"summationtext",8721,"tildewide",732,"tildewider",732,"tildewidest",732,"uniondisplay",8899,"unionmultidisplay",8846,"unionmultitext",8846,"unionsqdisplay",8852,"unionsqtext",8852,"uniontext",8899,"vextenddouble",8741,"vextendsingle",8739]}),R=(0,t.getArrayLookupTableFactory)(function(){return["space",32,"a1",9985,"a2",9986,"a202",9987,"a3",9988,"a4",9742,"a5",9990,"a119",9991,"a118",9992,"a117",9993,"a11",9755,"a12",9758,"a13",9996,"a14",9997,"a15",9998,"a16",9999,"a105",1e4,"a17",10001,"a18",10002,"a19",10003,"a20",10004,"a21",10005,"a22",10006,"a23",10007,"a24",10008,"a25",10009,"a26",10010,"a27",10011,"a28",10012,"a6",10013,"a7",10014,"a8",10015,"a9",10016,"a10",10017,"a29",10018,"a30",10019,"a31",10020,"a32",10021,"a33",10022,"a34",10023,"a35",9733,"a36",10025,"a37",10026,"a38",10027,"a39",10028,"a40",10029,"a41",10030,"a42",10031,"a43",10032,"a44",10033,"a45",10034,"a46",10035,"a47",10036,"a48",10037,"a49",10038,"a50",10039,"a51",10040,"a52",10041,"a53",10042,"a54",10043,"a55",10044,"a56",10045,"a57",10046,"a58",10047,"a59",10048,"a60",10049,"a61",10050,"a62",10051,"a63",10052,"a64",10053,"a65",10054,"a66",10055,"a67",10056,"a68",10057,"a69",10058,"a70",10059,"a71",9679,"a72",10061,"a73",9632,"a74",10063,"a203",10064,"a75",10065,"a204",10066,"a76",9650,"a77",9660,"a78",9670,"a79",10070,"a81",9687,"a82",10072,"a83",10073,"a84",10074,"a97",10075,"a98",10076,"a99",10077,"a100",10078,"a101",10081,"a102",10082,"a103",10083,"a104",10084,"a106",10085,"a107",10086,"a108",10087,"a112",9827,"a111",9830,"a110",9829,"a109",9824,"a120",9312,"a121",9313,"a122",9314,"a123",9315,"a124",9316,"a125",9317,"a126",9318,"a127",9319,"a128",9320,"a129",9321,"a130",10102,"a131",10103,"a132",10104,"a133",10105,"a134",10106,"a135",10107,"a136",10108,"a137",10109,"a138",10110,"a139",10111,"a140",10112,"a141",10113,"a142",10114,"a143",10115,"a144",10116,"a145",10117,"a146",10118,"a147",10119,"a148",10120,"a149",10121,"a150",10122,"a151",10123,"a152",10124,"a153",10125,"a154",10126,"a155",10127,"a156",10128,"a157",10129,"a158",10130,"a159",10131,"a160",10132,"a161",8594,"a163",8596,"a164",8597,"a196",10136,"a165",10137,"a192",10138,"a166",10139,"a167",10140,"a168",10141,"a169",10142,"a170",10143,"a171",10144,"a172",10145,"a173",10146,"a162",10147,"a174",10148,"a175",10149,"a176",10150,"a177",10151,"a178",10152,"a179",10153,"a193",10154,"a180",10155,"a199",10156,"a181",10157,"a200",10158,"a182",10159,"a201",10161,"a183",10162,"a184",10163,"a197",10164,"a185",10165,"a194",10166,"a198",10167,"a186",10168,"a195",10169,"a187",10170,"a188",10171,"a189",10172,"a190",10173,"a191",10174,"a89",10088,"a90",10089,"a93",10090,"a94",10091,"a91",10092,"a92",10093,"a205",10094,"a85",10095,"a206",10096,"a86",10097,"a87",10098,"a88",10099,"a95",10100,"a96",10101,".notdef",0]})},(ne,I,G)=>{G.r(I),G.d(I,{getNormalizedUnicodes:()=>P,getUnicodeForGlyph:()=>e,getUnicodeRangeFor:()=>L,mapSpecialUnicodeValues:()=>R,reverseIfRtl:()=>b});var t=G(9);const F=(0,t.getLookupTableFactory)(function(r){r[63721]=169,r[63193]=169,r[63720]=174,r[63194]=174,r[63722]=8482,r[63195]=8482,r[63729]=9127,r[63730]=9128,r[63731]=9129,r[63740]=9131,r[63741]=9132,r[63742]=9133,r[63726]=9121,r[63727]=9122,r[63728]=9123,r[63737]=9124,r[63738]=9125,r[63739]=9126,r[63723]=9115,r[63724]=9116,r[63725]=9117,r[63734]=9118,r[63735]=9119,r[63736]=9120});function R(r){return r>=65520&&r<=65535?0:r>=62976&&r<=63743?F()[r]||r:173===r?45:r}function e(r,w){let o=w[r];if(void 0!==o)return o;if(!r)return-1;if("u"===r[0]){const h=r.length;let n;if(7===h&&"n"===r[1]&&"i"===r[2])n=r.substring(3);else{if(!(h>=5&&h<=7))return-1;n=r.substring(1)}if(n===n.toUpperCase()&&(o=parseInt(n,16),o>=0))return o}return-1}const x=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}];function L(r){for(let w=0,o=x.length;w<o;w++){const h=x[w];if(r>=h.begin&&r<h.end)return w}return-1}const P=(0,t.getArrayLookupTableFactory)(function(){return["\xa8"," \u0308","\xaf"," \u0304","\xb4"," \u0301","\xb5","\u03bc","\xb8"," \u0327","\u0132","IJ","\u0133","ij","\u013f","L\xb7","\u0140","l\xb7","\u0149","\u02bcn","\u017f","s","\u01c4","D\u017d","\u01c5","D\u017e","\u01c6","d\u017e","\u01c7","LJ","\u01c8","Lj","\u01c9","lj","\u01ca","NJ","\u01cb","Nj","\u01cc","nj","\u01f1","DZ","\u01f2","Dz","\u01f3","dz","\u02d8"," \u0306","\u02d9"," \u0307","\u02da"," \u030a","\u02db"," \u0328","\u02dc"," \u0303","\u02dd"," \u030b","\u037a"," \u0345","\u0384"," \u0301","\u03d0","\u03b2","\u03d1","\u03b8","\u03d2","\u03a5","\u03d5","\u03c6","\u03d6","\u03c0","\u03f0","\u03ba","\u03f1","\u03c1","\u03f2","\u03c2","\u03f4","\u0398","\u03f5","\u03b5","\u03f9","\u03a3","\u0587","\u0565\u0582","\u0675","\u0627\u0674","\u0676","\u0648\u0674","\u0677","\u06c7\u0674","\u0678","\u064a\u0674","\u0e33","\u0e4d\u0e32","\u0eb3","\u0ecd\u0eb2","\u0edc","\u0eab\u0e99","\u0edd","\u0eab\u0ea1","\u0f77","\u0fb2\u0f81","\u0f79","\u0fb3\u0f81","\u1e9a","a\u02be","\u1fbd"," \u0313","\u1fbf"," \u0313","\u1fc0"," \u0342","\u1ffe"," \u0314","\u2002"," ","\u2003"," ","\u2004"," ","\u2005"," ","\u2006"," ","\u2008"," ","\u2009"," ","\u200a"," ","\u2017"," \u0333","\u2024",".","\u2025","..","\u2026","...","\u2033","\u2032\u2032","\u2034","\u2032\u2032\u2032","\u2036","\u2035\u2035","\u2037","\u2035\u2035\u2035","\u203c","!!","\u203e"," \u0305","\u2047","??","\u2048","?!","\u2049","!?","\u2057","\u2032\u2032\u2032\u2032","\u205f"," ","\u20a8","Rs","\u2100","a/c","\u2101","a/s","\u2103","\xb0C","\u2105","c/o","\u2106","c/u","\u2107","\u0190","\u2109","\xb0F","\u2116","No","\u2121","TEL","\u2135","\u05d0","\u2136","\u05d1","\u2137","\u05d2","\u2138","\u05d3","\u213b","FAX","\u2160","I","\u2161","II","\u2162","III","\u2163","IV","\u2164","V","\u2165","VI","\u2166","VII","\u2167","VIII","\u2168","IX","\u2169","X","\u216a","XI","\u216b","XII","\u216c","L","\u216d","C","\u216e","D","\u216f","M","\u2170","i","\u2171","ii","\u2172","iii","\u2173","iv","\u2174","v","\u2175","vi","\u2176","vii","\u2177","viii","\u2178","ix","\u2179","x","\u217a","xi","\u217b","xii","\u217c","l","\u217d","c","\u217e","d","\u217f","m","\u222c","\u222b\u222b","\u222d","\u222b\u222b\u222b","\u222f","\u222e\u222e","\u2230","\u222e\u222e\u222e","\u2474","(1)","\u2475","(2)","\u2476","(3)","\u2477","(4)","\u2478","(5)","\u2479","(6)","\u247a","(7)","\u247b","(8)","\u247c","(9)","\u247d","(10)","\u247e","(11)","\u247f","(12)","\u2480","(13)","\u2481","(14)","\u2482","(15)","\u2483","(16)","\u2484","(17)","\u2485","(18)","\u2486","(19)","\u2487","(20)","\u2488","1.","\u2489","2.","\u248a","3.","\u248b","4.","\u248c","5.","\u248d","6.","\u248e","7.","\u248f","8.","\u2490","9.","\u2491","10.","\u2492","11.","\u2493","12.","\u2494","13.","\u2495","14.","\u2496","15.","\u2497","16.","\u2498","17.","\u2499","18.","\u249a","19.","\u249b","20.","\u249c","(a)","\u249d","(b)","\u249e","(c)","\u249f","(d)","\u24a0","(e)","\u24a1","(f)","\u24a2","(g)","\u24a3","(h)","\u24a4","(i)","\u24a5","(j)","\u24a6","(k)","\u24a7","(l)","\u24a8","(m)","\u24a9","(n)","\u24aa","(o)","\u24ab","(p)","\u24ac","(q)","\u24ad","(r)","\u24ae","(s)","\u24af","(t)","\u24b0","(u)","\u24b1","(v)","\u24b2","(w)","\u24b3","(x)","\u24b4","(y)","\u24b5","(z)","\u2a0c","\u222b\u222b\u222b\u222b","\u2a74","::=","\u2a75","==","\u2a76","===","\u2e9f","\u6bcd","\u2ef3","\u9f9f","\u2f00","\u4e00","\u2f01","\u4e28","\u2f02","\u4e36","\u2f03","\u4e3f","\u2f04","\u4e59","\u2f05","\u4e85","\u2f06","\u4e8c","\u2f07","\u4ea0","\u2f08","\u4eba","\u2f09","\u513f","\u2f0a","\u5165","\u2f0b","\u516b","\u2f0c","\u5182","\u2f0d","\u5196","\u2f0e","\u51ab","\u2f0f","\u51e0","\u2f10","\u51f5","\u2f11","\u5200","\u2f12","\u529b","\u2f13","\u52f9","\u2f14","\u5315","\u2f15","\u531a","\u2f16","\u5338","\u2f17","\u5341","\u2f18","\u535c","\u2f19","\u5369","\u2f1a","\u5382","\u2f1b","\u53b6","\u2f1c","\u53c8","\u2f1d","\u53e3","\u2f1e","\u56d7","\u2f1f","\u571f","\u2f20","\u58eb","\u2f21","\u5902","\u2f22","\u590a","\u2f23","\u5915","\u2f24","\u5927","\u2f25","\u5973","\u2f26","\u5b50","\u2f27","\u5b80","\u2f28","\u5bf8","\u2f29","\u5c0f","\u2f2a","\u5c22","\u2f2b","\u5c38","\u2f2c","\u5c6e","\u2f2d","\u5c71","\u2f2e","\u5ddb","\u2f2f","\u5de5","\u2f30","\u5df1","\u2f31","\u5dfe","\u2f32","\u5e72","\u2f33","\u5e7a","\u2f34","\u5e7f","\u2f35","\u5ef4","\u2f36","\u5efe","\u2f37","\u5f0b","\u2f38","\u5f13","\u2f39","\u5f50","\u2f3a","\u5f61","\u2f3b","\u5f73","\u2f3c","\u5fc3","\u2f3d","\u6208","\u2f3e","\u6236","\u2f3f","\u624b","\u2f40","\u652f","\u2f41","\u6534","\u2f42","\u6587","\u2f43","\u6597","\u2f44","\u65a4","\u2f45","\u65b9","\u2f46","\u65e0","\u2f47","\u65e5","\u2f48","\u66f0","\u2f49","\u6708","\u2f4a","\u6728","\u2f4b","\u6b20","\u2f4c","\u6b62","\u2f4d","\u6b79","\u2f4e","\u6bb3","\u2f4f","\u6bcb","\u2f50","\u6bd4","\u2f51","\u6bdb","\u2f52","\u6c0f","\u2f53","\u6c14","\u2f54","\u6c34","\u2f55","\u706b","\u2f56","\u722a","\u2f57","\u7236","\u2f58","\u723b","\u2f59","\u723f","\u2f5a","\u7247","\u2f5b","\u7259","\u2f5c","\u725b","\u2f5d","\u72ac","\u2f5e","\u7384","\u2f5f","\u7389","\u2f60","\u74dc","\u2f61","\u74e6","\u2f62","\u7518","\u2f63","\u751f","\u2f64","\u7528","\u2f65","\u7530","\u2f66","\u758b","\u2f67","\u7592","\u2f68","\u7676","\u2f69","\u767d","\u2f6a","\u76ae","\u2f6b","\u76bf","\u2f6c","\u76ee","\u2f6d","\u77db","\u2f6e","\u77e2","\u2f6f","\u77f3","\u2f70","\u793a","\u2f71","\u79b8","\u2f72","\u79be","\u2f73","\u7a74","\u2f74","\u7acb","\u2f75","\u7af9","\u2f76","\u7c73","\u2f77","\u7cf8","\u2f78","\u7f36","\u2f79","\u7f51","\u2f7a","\u7f8a","\u2f7b","\u7fbd","\u2f7c","\u8001","\u2f7d","\u800c","\u2f7e","\u8012","\u2f7f","\u8033","\u2f80","\u807f","\u2f81","\u8089","\u2f82","\u81e3","\u2f83","\u81ea","\u2f84","\u81f3","\u2f85","\u81fc","\u2f86","\u820c","\u2f87","\u821b","\u2f88","\u821f","\u2f89","\u826e","\u2f8a","\u8272","\u2f8b","\u8278","\u2f8c","\u864d","\u2f8d","\u866b","\u2f8e","\u8840","\u2f8f","\u884c","\u2f90","\u8863","\u2f91","\u897e","\u2f92","\u898b","\u2f93","\u89d2","\u2f94","\u8a00","\u2f95","\u8c37","\u2f96","\u8c46","\u2f97","\u8c55","\u2f98","\u8c78","\u2f99","\u8c9d","\u2f9a","\u8d64","\u2f9b","\u8d70","\u2f9c","\u8db3","\u2f9d","\u8eab","\u2f9e","\u8eca","\u2f9f","\u8f9b","\u2fa0","\u8fb0","\u2fa1","\u8fb5","\u2fa2","\u9091","\u2fa3","\u9149","\u2fa4","\u91c6","\u2fa5","\u91cc","\u2fa6","\u91d1","\u2fa7","\u9577","\u2fa8","\u9580","\u2fa9","\u961c","\u2faa","\u96b6","\u2fab","\u96b9","\u2fac","\u96e8","\u2fad","\u9751","\u2fae","\u975e","\u2faf","\u9762","\u2fb0","\u9769","\u2fb1","\u97cb","\u2fb2","\u97ed","\u2fb3","\u97f3","\u2fb4","\u9801","\u2fb5","\u98a8","\u2fb6","\u98db","\u2fb7","\u98df","\u2fb8","\u9996","\u2fb9","\u9999","\u2fba","\u99ac","\u2fbb","\u9aa8","\u2fbc","\u9ad8","\u2fbd","\u9adf","\u2fbe","\u9b25","\u2fbf","\u9b2f","\u2fc0","\u9b32","\u2fc1","\u9b3c","\u2fc2","\u9b5a","\u2fc3","\u9ce5","\u2fc4","\u9e75","\u2fc5","\u9e7f","\u2fc6","\u9ea5","\u2fc7","\u9ebb","\u2fc8","\u9ec3","\u2fc9","\u9ecd","\u2fca","\u9ed1","\u2fcb","\u9ef9","\u2fcc","\u9efd","\u2fcd","\u9f0e","\u2fce","\u9f13","\u2fcf","\u9f20","\u2fd0","\u9f3b","\u2fd1","\u9f4a","\u2fd2","\u9f52","\u2fd3","\u9f8d","\u2fd4","\u9f9c","\u2fd5","\u9fa0","\u3036","\u3012","\u3038","\u5341","\u3039","\u5344","\u303a","\u5345","\u309b"," \u3099","\u309c"," \u309a","\u3131","\u1100","\u3132","\u1101","\u3133","\u11aa","\u3134","\u1102","\u3135","\u11ac","\u3136","\u11ad","\u3137","\u1103","\u3138","\u1104","\u3139","\u1105","\u313a","\u11b0","\u313b","\u11b1","\u313c","\u11b2","\u313d","\u11b3","\u313e","\u11b4","\u313f","\u11b5","\u3140","\u111a","\u3141","\u1106","\u3142","\u1107","\u3143","\u1108","\u3144","\u1121","\u3145","\u1109","\u3146","\u110a","\u3147","\u110b","\u3148","\u110c","\u3149","\u110d","\u314a","\u110e","\u314b","\u110f","\u314c","\u1110","\u314d","\u1111","\u314e","\u1112","\u314f","\u1161","\u3150","\u1162","\u3151","\u1163","\u3152","\u1164","\u3153","\u1165","\u3154","\u1166","\u3155","\u1167","\u3156","\u1168","\u3157","\u1169","\u3158","\u116a","\u3159","\u116b","\u315a","\u116c","\u315b","\u116d","\u315c","\u116e","\u315d","\u116f","\u315e","\u1170","\u315f","\u1171","\u3160","\u1172","\u3161","\u1173","\u3162","\u1174","\u3163","\u1175","\u3164","\u1160","\u3165","\u1114","\u3166","\u1115","\u3167","\u11c7","\u3168","\u11c8","\u3169","\u11cc","\u316a","\u11ce","\u316b","\u11d3","\u316c","\u11d7","\u316d","\u11d9","\u316e","\u111c","\u316f","\u11dd","\u3170","\u11df","\u3171","\u111d","\u3172","\u111e","\u3173","\u1120","\u3174","\u1122","\u3175","\u1123","\u3176","\u1127","\u3177","\u1129","\u3178","\u112b","\u3179","\u112c","\u317a","\u112d","\u317b","\u112e","\u317c","\u112f","\u317d","\u1132","\u317e","\u1136","\u317f","\u1140","\u3180","\u1147","\u3181","\u114c","\u3182","\u11f1","\u3183","\u11f2","\u3184","\u1157","\u3185","\u1158","\u3186","\u1159","\u3187","\u1184","\u3188","\u1185","\u3189","\u1188","\u318a","\u1191","\u318b","\u1192","\u318c","\u1194","\u318d","\u119e","\u318e","\u11a1","\u3200","(\u1100)","\u3201","(\u1102)","\u3202","(\u1103)","\u3203","(\u1105)","\u3204","(\u1106)","\u3205","(\u1107)","\u3206","(\u1109)","\u3207","(\u110b)","\u3208","(\u110c)","\u3209","(\u110e)","\u320a","(\u110f)","\u320b","(\u1110)","\u320c","(\u1111)","\u320d","(\u1112)","\u320e","(\u1100\u1161)","\u320f","(\u1102\u1161)","\u3210","(\u1103\u1161)","\u3211","(\u1105\u1161)","\u3212","(\u1106\u1161)","\u3213","(\u1107\u1161)","\u3214","(\u1109\u1161)","\u3215","(\u110b\u1161)","\u3216","(\u110c\u1161)","\u3217","(\u110e\u1161)","\u3218","(\u110f\u1161)","\u3219","(\u1110\u1161)","\u321a","(\u1111\u1161)","\u321b","(\u1112\u1161)","\u321c","(\u110c\u116e)","\u321d","(\u110b\u1169\u110c\u1165\u11ab)","\u321e","(\u110b\u1169\u1112\u116e)","\u3220","(\u4e00)","\u3221","(\u4e8c)","\u3222","(\u4e09)","\u3223","(\u56db)","\u3224","(\u4e94)","\u3225","(\u516d)","\u3226","(\u4e03)","\u3227","(\u516b)","\u3228","(\u4e5d)","\u3229","(\u5341)","\u322a","(\u6708)","\u322b","(\u706b)","\u322c","(\u6c34)","\u322d","(\u6728)","\u322e","(\u91d1)","\u322f","(\u571f)","\u3230","(\u65e5)","\u3231","(\u682a)","\u3232","(\u6709)","\u3233","(\u793e)","\u3234","(\u540d)","\u3235","(\u7279)","\u3236","(\u8ca1)","\u3237","(\u795d)","\u3238","(\u52b4)","\u3239","(\u4ee3)","\u323a","(\u547c)","\u323b","(\u5b66)","\u323c","(\u76e3)","\u323d","(\u4f01)","\u323e","(\u8cc7)","\u323f","(\u5354)","\u3240","(\u796d)","\u3241","(\u4f11)","\u3242","(\u81ea)","\u3243","(\u81f3)","\u32c0","1\u6708","\u32c1","2\u6708","\u32c2","3\u6708","\u32c3","4\u6708","\u32c4","5\u6708","\u32c5","6\u6708","\u32c6","7\u6708","\u32c7","8\u6708","\u32c8","9\u6708","\u32c9","10\u6708","\u32ca","11\u6708","\u32cb","12\u6708","\u3358","0\u70b9","\u3359","1\u70b9","\u335a","2\u70b9","\u335b","3\u70b9","\u335c","4\u70b9","\u335d","5\u70b9","\u335e","6\u70b9","\u335f","7\u70b9","\u3360","8\u70b9","\u3361","9\u70b9","\u3362","10\u70b9","\u3363","11\u70b9","\u3364","12\u70b9","\u3365","13\u70b9","\u3366","14\u70b9","\u3367","15\u70b9","\u3368","16\u70b9","\u3369","17\u70b9","\u336a","18\u70b9","\u336b","19\u70b9","\u336c","20\u70b9","\u336d","21\u70b9","\u336e","22\u70b9","\u336f","23\u70b9","\u3370","24\u70b9","\u33e0","1\u65e5","\u33e1","2\u65e5","\u33e2","3\u65e5","\u33e3","4\u65e5","\u33e4","5\u65e5","\u33e5","6\u65e5","\u33e6","7\u65e5","\u33e7","8\u65e5","\u33e8","9\u65e5","\u33e9","10\u65e5","\u33ea","11\u65e5","\u33eb","12\u65e5","\u33ec","13\u65e5","\u33ed","14\u65e5","\u33ee","15\u65e5","\u33ef","16\u65e5","\u33f0","17\u65e5","\u33f1","18\u65e5","\u33f2","19\u65e5","\u33f3","20\u65e5","\u33f4","21\u65e5","\u33f5","22\u65e5","\u33f6","23\u65e5","\u33f7","24\u65e5","\u33f8","25\u65e5","\u33f9","26\u65e5","\u33fa","27\u65e5","\u33fb","28\u65e5","\u33fc","29\u65e5","\u33fd","30\u65e5","\u33fe","31\u65e5","\ufb00","ff","\ufb01","fi","\ufb02","fl","\ufb03","ffi","\ufb04","ffl","\ufb05","\u017ft","\ufb06","st","\ufb13","\u0574\u0576","\ufb14","\u0574\u0565","\ufb15","\u0574\u056b","\ufb16","\u057e\u0576","\ufb17","\u0574\u056d","\ufb4f","\u05d0\u05dc","\ufb50","\u0671","\ufb51","\u0671","\ufb52","\u067b","\ufb53","\u067b","\ufb54","\u067b","\ufb55","\u067b","\ufb56","\u067e","\ufb57","\u067e","\ufb58","\u067e","\ufb59","\u067e","\ufb5a","\u0680","\ufb5b","\u0680","\ufb5c","\u0680","\ufb5d","\u0680","\ufb5e","\u067a","\ufb5f","\u067a","\ufb60","\u067a","\ufb61","\u067a","\ufb62","\u067f","\ufb63","\u067f","\ufb64","\u067f","\ufb65","\u067f","\ufb66","\u0679","\ufb67","\u0679","\ufb68","\u0679","\ufb69","\u0679","\ufb6a","\u06a4","\ufb6b","\u06a4","\ufb6c","\u06a4","\ufb6d","\u06a4","\ufb6e","\u06a6","\ufb6f","\u06a6","\ufb70","\u06a6","\ufb71","\u06a6","\ufb72","\u0684","\ufb73","\u0684","\ufb74","\u0684","\ufb75","\u0684","\ufb76","\u0683","\ufb77","\u0683","\ufb78","\u0683","\ufb79","\u0683","\ufb7a","\u0686","\ufb7b","\u0686","\ufb7c","\u0686","\ufb7d","\u0686","\ufb7e","\u0687","\ufb7f","\u0687","\ufb80","\u0687","\ufb81","\u0687","\ufb82","\u068d","\ufb83","\u068d","\ufb84","\u068c","\ufb85","\u068c","\ufb86","\u068e","\ufb87","\u068e","\ufb88","\u0688","\ufb89","\u0688","\ufb8a","\u0698","\ufb8b","\u0698","\ufb8c","\u0691","\ufb8d","\u0691","\ufb8e","\u06a9","\ufb8f","\u06a9","\ufb90","\u06a9","\ufb91","\u06a9","\ufb92","\u06af","\ufb93","\u06af","\ufb94","\u06af","\ufb95","\u06af","\ufb96","\u06b3","\ufb97","\u06b3","\ufb98","\u06b3","\ufb99","\u06b3","\ufb9a","\u06b1","\ufb9b","\u06b1","\ufb9c","\u06b1","\ufb9d","\u06b1","\ufb9e","\u06ba","\ufb9f","\u06ba","\ufba0","\u06bb","\ufba1","\u06bb","\ufba2","\u06bb","\ufba3","\u06bb","\ufba4","\u06c0","\ufba5","\u06c0","\ufba6","\u06c1","\ufba7","\u06c1","\ufba8","\u06c1","\ufba9","\u06c1","\ufbaa","\u06be","\ufbab","\u06be","\ufbac","\u06be","\ufbad","\u06be","\ufbae","\u06d2","\ufbaf","\u06d2","\ufbb0","\u06d3","\ufbb1","\u06d3","\ufbd3","\u06ad","\ufbd4","\u06ad","\ufbd5","\u06ad","\ufbd6","\u06ad","\ufbd7","\u06c7","\ufbd8","\u06c7","\ufbd9","\u06c6","\ufbda","\u06c6","\ufbdb","\u06c8","\ufbdc","\u06c8","\ufbdd","\u0677","\ufbde","\u06cb","\ufbdf","\u06cb","\ufbe0","\u06c5","\ufbe1","\u06c5","\ufbe2","\u06c9","\ufbe3","\u06c9","\ufbe4","\u06d0","\ufbe5","\u06d0","\ufbe6","\u06d0","\ufbe7","\u06d0","\ufbe8","\u0649","\ufbe9","\u0649","\ufbea","\u0626\u0627","\ufbeb","\u0626\u0627","\ufbec","\u0626\u06d5","\ufbed","\u0626\u06d5","\ufbee","\u0626\u0648","\ufbef","\u0626\u0648","\ufbf0","\u0626\u06c7","\ufbf1","\u0626\u06c7","\ufbf2","\u0626\u06c6","\ufbf3","\u0626\u06c6","\ufbf4","\u0626\u06c8","\ufbf5","\u0626\u06c8","\ufbf6","\u0626\u06d0","\ufbf7","\u0626\u06d0","\ufbf8","\u0626\u06d0","\ufbf9","\u0626\u0649","\ufbfa","\u0626\u0649","\ufbfb","\u0626\u0649","\ufbfc","\u06cc","\ufbfd","\u06cc","\ufbfe","\u06cc","\ufbff","\u06cc","\ufc00","\u0626\u062c","\ufc01","\u0626\u062d","\ufc02","\u0626\u0645","\ufc03","\u0626\u0649","\ufc04","\u0626\u064a","\ufc05","\u0628\u062c","\ufc06","\u0628\u062d","\ufc07","\u0628\u062e","\ufc08","\u0628\u0645","\ufc09","\u0628\u0649","\ufc0a","\u0628\u064a","\ufc0b","\u062a\u062c","\ufc0c","\u062a\u062d","\ufc0d","\u062a\u062e","\ufc0e","\u062a\u0645","\ufc0f","\u062a\u0649","\ufc10","\u062a\u064a","\ufc11","\u062b\u062c","\ufc12","\u062b\u0645","\ufc13","\u062b\u0649","\ufc14","\u062b\u064a","\ufc15","\u062c\u062d","\ufc16","\u062c\u0645","\ufc17","\u062d\u062c","\ufc18","\u062d\u0645","\ufc19","\u062e\u062c","\ufc1a","\u062e\u062d","\ufc1b","\u062e\u0645","\ufc1c","\u0633\u062c","\ufc1d","\u0633\u062d","\ufc1e","\u0633\u062e","\ufc1f","\u0633\u0645","\ufc20","\u0635\u062d","\ufc21","\u0635\u0645","\ufc22","\u0636\u062c","\ufc23","\u0636\u062d","\ufc24","\u0636\u062e","\ufc25","\u0636\u0645","\ufc26","\u0637\u062d","\ufc27","\u0637\u0645","\ufc28","\u0638\u0645","\ufc29","\u0639\u062c","\ufc2a","\u0639\u0645","\ufc2b","\u063a\u062c","\ufc2c","\u063a\u0645","\ufc2d","\u0641\u062c","\ufc2e","\u0641\u062d","\ufc2f","\u0641\u062e","\ufc30","\u0641\u0645","\ufc31","\u0641\u0649","\ufc32","\u0641\u064a","\ufc33","\u0642\u062d","\ufc34","\u0642\u0645","\ufc35","\u0642\u0649","\ufc36","\u0642\u064a","\ufc37","\u0643\u0627","\ufc38","\u0643\u062c","\ufc39","\u0643\u062d","\ufc3a","\u0643\u062e","\ufc3b","\u0643\u0644","\ufc3c","\u0643\u0645","\ufc3d","\u0643\u0649","\ufc3e","\u0643\u064a","\ufc3f","\u0644\u062c","\ufc40","\u0644\u062d","\ufc41","\u0644\u062e","\ufc42","\u0644\u0645","\ufc43","\u0644\u0649","\ufc44","\u0644\u064a","\ufc45","\u0645\u062c","\ufc46","\u0645\u062d","\ufc47","\u0645\u062e","\ufc48","\u0645\u0645","\ufc49","\u0645\u0649","\ufc4a","\u0645\u064a","\ufc4b","\u0646\u062c","\ufc4c","\u0646\u062d","\ufc4d","\u0646\u062e","\ufc4e","\u0646\u0645","\ufc4f","\u0646\u0649","\ufc50","\u0646\u064a","\ufc51","\u0647\u062c","\ufc52","\u0647\u0645","\ufc53","\u0647\u0649","\ufc54","\u0647\u064a","\ufc55","\u064a\u062c","\ufc56","\u064a\u062d","\ufc57","\u064a\u062e","\ufc58","\u064a\u0645","\ufc59","\u064a\u0649","\ufc5a","\u064a\u064a","\ufc5b","\u0630\u0670","\ufc5c","\u0631\u0670","\ufc5d","\u0649\u0670","\ufc5e"," \u064c\u0651","\ufc5f"," \u064d\u0651","\ufc60"," \u064e\u0651","\ufc61"," \u064f\u0651","\ufc62"," \u0650\u0651","\ufc63"," \u0651\u0670","\ufc64","\u0626\u0631","\ufc65","\u0626\u0632","\ufc66","\u0626\u0645","\ufc67","\u0626\u0646","\ufc68","\u0626\u0649","\ufc69","\u0626\u064a","\ufc6a","\u0628\u0631","\ufc6b","\u0628\u0632","\ufc6c","\u0628\u0645","\ufc6d","\u0628\u0646","\ufc6e","\u0628\u0649","\ufc6f","\u0628\u064a","\ufc70","\u062a\u0631","\ufc71","\u062a\u0632","\ufc72","\u062a\u0645","\ufc73","\u062a\u0646","\ufc74","\u062a\u0649","\ufc75","\u062a\u064a","\ufc76","\u062b\u0631","\ufc77","\u062b\u0632","\ufc78","\u062b\u0645","\ufc79","\u062b\u0646","\ufc7a","\u062b\u0649","\ufc7b","\u062b\u064a","\ufc7c","\u0641\u0649","\ufc7d","\u0641\u064a","\ufc7e","\u0642\u0649","\ufc7f","\u0642\u064a","\ufc80","\u0643\u0627","\ufc81","\u0643\u0644","\ufc82","\u0643\u0645","\ufc83","\u0643\u0649","\ufc84","\u0643\u064a","\ufc85","\u0644\u0645","\ufc86","\u0644\u0649","\ufc87","\u0644\u064a","\ufc88","\u0645\u0627","\ufc89","\u0645\u0645","\ufc8a","\u0646\u0631","\ufc8b","\u0646\u0632","\ufc8c","\u0646\u0645","\ufc8d","\u0646\u0646","\ufc8e","\u0646\u0649","\ufc8f","\u0646\u064a","\ufc90","\u0649\u0670","\ufc91","\u064a\u0631","\ufc92","\u064a\u0632","\ufc93","\u064a\u0645","\ufc94","\u064a\u0646","\ufc95","\u064a\u0649","\ufc96","\u064a\u064a","\ufc97","\u0626\u062c","\ufc98","\u0626\u062d","\ufc99","\u0626\u062e","\ufc9a","\u0626\u0645","\ufc9b","\u0626\u0647","\ufc9c","\u0628\u062c","\ufc9d","\u0628\u062d","\ufc9e","\u0628\u062e","\ufc9f","\u0628\u0645","\ufca0","\u0628\u0647","\ufca1","\u062a\u062c","\ufca2","\u062a\u062d","\ufca3","\u062a\u062e","\ufca4","\u062a\u0645","\ufca5","\u062a\u0647","\ufca6","\u062b\u0645","\ufca7","\u062c\u062d","\ufca8","\u062c\u0645","\ufca9","\u062d\u062c","\ufcaa","\u062d\u0645","\ufcab","\u062e\u062c","\ufcac","\u062e\u0645","\ufcad","\u0633\u062c","\ufcae","\u0633\u062d","\ufcaf","\u0633\u062e","\ufcb0","\u0633\u0645","\ufcb1","\u0635\u062d","\ufcb2","\u0635\u062e","\ufcb3","\u0635\u0645","\ufcb4","\u0636\u062c","\ufcb5","\u0636\u062d","\ufcb6","\u0636\u062e","\ufcb7","\u0636\u0645","\ufcb8","\u0637\u062d","\ufcb9","\u0638\u0645","\ufcba","\u0639\u062c","\ufcbb","\u0639\u0645","\ufcbc","\u063a\u062c","\ufcbd","\u063a\u0645","\ufcbe","\u0641\u062c","\ufcbf","\u0641\u062d","\ufcc0","\u0641\u062e","\ufcc1","\u0641\u0645","\ufcc2","\u0642\u062d","\ufcc3","\u0642\u0645","\ufcc4","\u0643\u062c","\ufcc5","\u0643\u062d","\ufcc6","\u0643\u062e","\ufcc7","\u0643\u0644","\ufcc8","\u0643\u0645","\ufcc9","\u0644\u062c","\ufcca","\u0644\u062d","\ufccb","\u0644\u062e","\ufccc","\u0644\u0645","\ufccd","\u0644\u0647","\ufcce","\u0645\u062c","\ufccf","\u0645\u062d","\ufcd0","\u0645\u062e","\ufcd1","\u0645\u0645","\ufcd2","\u0646\u062c","\ufcd3","\u0646\u062d","\ufcd4","\u0646\u062e","\ufcd5","\u0646\u0645","\ufcd6","\u0646\u0647","\ufcd7","\u0647\u062c","\ufcd8","\u0647\u0645","\ufcd9","\u0647\u0670","\ufcda","\u064a\u062c","\ufcdb","\u064a\u062d","\ufcdc","\u064a\u062e","\ufcdd","\u064a\u0645","\ufcde","\u064a\u0647","\ufcdf","\u0626\u0645","\ufce0","\u0626\u0647","\ufce1","\u0628\u0645","\ufce2","\u0628\u0647","\ufce3","\u062a\u0645","\ufce4","\u062a\u0647","\ufce5","\u062b\u0645","\ufce6","\u062b\u0647","\ufce7","\u0633\u0645","\ufce8","\u0633\u0647","\ufce9","\u0634\u0645","\ufcea","\u0634\u0647","\ufceb","\u0643\u0644","\ufcec","\u0643\u0645","\ufced","\u0644\u0645","\ufcee","\u0646\u0645","\ufcef","\u0646\u0647","\ufcf0","\u064a\u0645","\ufcf1","\u064a\u0647","\ufcf2","\u0640\u064e\u0651","\ufcf3","\u0640\u064f\u0651","\ufcf4","\u0640\u0650\u0651","\ufcf5","\u0637\u0649","\ufcf6","\u0637\u064a","\ufcf7","\u0639\u0649","\ufcf8","\u0639\u064a","\ufcf9","\u063a\u0649","\ufcfa","\u063a\u064a","\ufcfb","\u0633\u0649","\ufcfc","\u0633\u064a","\ufcfd","\u0634\u0649","\ufcfe","\u0634\u064a","\ufcff","\u062d\u0649","\ufd00","\u062d\u064a","\ufd01","\u062c\u0649","\ufd02","\u062c\u064a","\ufd03","\u062e\u0649","\ufd04","\u062e\u064a","\ufd05","\u0635\u0649","\ufd06","\u0635\u064a","\ufd07","\u0636\u0649","\ufd08","\u0636\u064a","\ufd09","\u0634\u062c","\ufd0a","\u0634\u062d","\ufd0b","\u0634\u062e","\ufd0c","\u0634\u0645","\ufd0d","\u0634\u0631","\ufd0e","\u0633\u0631","\ufd0f","\u0635\u0631","\ufd10","\u0636\u0631","\ufd11","\u0637\u0649","\ufd12","\u0637\u064a","\ufd13","\u0639\u0649","\ufd14","\u0639\u064a","\ufd15","\u063a\u0649","\ufd16","\u063a\u064a","\ufd17","\u0633\u0649","\ufd18","\u0633\u064a","\ufd19","\u0634\u0649","\ufd1a","\u0634\u064a","\ufd1b","\u062d\u0649","\ufd1c","\u062d\u064a","\ufd1d","\u062c\u0649","\ufd1e","\u062c\u064a","\ufd1f","\u062e\u0649","\ufd20","\u062e\u064a","\ufd21","\u0635\u0649","\ufd22","\u0635\u064a","\ufd23","\u0636\u0649","\ufd24","\u0636\u064a","\ufd25","\u0634\u062c","\ufd26","\u0634\u062d","\ufd27","\u0634\u062e","\ufd28","\u0634\u0645","\ufd29","\u0634\u0631","\ufd2a","\u0633\u0631","\ufd2b","\u0635\u0631","\ufd2c","\u0636\u0631","\ufd2d","\u0634\u062c","\ufd2e","\u0634\u062d","\ufd2f","\u0634\u062e","\ufd30","\u0634\u0645","\ufd31","\u0633\u0647","\ufd32","\u0634\u0647","\ufd33","\u0637\u0645","\ufd34","\u0633\u062c","\ufd35","\u0633\u062d","\ufd36","\u0633\u062e","\ufd37","\u0634\u062c","\ufd38","\u0634\u062d","\ufd39","\u0634\u062e","\ufd3a","\u0637\u0645","\ufd3b","\u0638\u0645","\ufd3c","\u0627\u064b","\ufd3d","\u0627\u064b","\ufd50","\u062a\u062c\u0645","\ufd51","\u062a\u062d\u062c","\ufd52","\u062a\u062d\u062c","\ufd53","\u062a\u062d\u0645","\ufd54","\u062a\u062e\u0645","\ufd55","\u062a\u0645\u062c","\ufd56","\u062a\u0645\u062d","\ufd57","\u062a\u0645\u062e","\ufd58","\u062c\u0645\u062d","\ufd59","\u062c\u0645\u062d","\ufd5a","\u062d\u0645\u064a","\ufd5b","\u062d\u0645\u0649","\ufd5c","\u0633\u062d\u062c","\ufd5d","\u0633\u062c\u062d","\ufd5e","\u0633\u062c\u0649","\ufd5f","\u0633\u0645\u062d","\ufd60","\u0633\u0645\u062d","\ufd61","\u0633\u0645\u062c","\ufd62","\u0633\u0645\u0645","\ufd63","\u0633\u0645\u0645","\ufd64","\u0635\u062d\u062d","\ufd65","\u0635\u062d\u062d","\ufd66","\u0635\u0645\u0645","\ufd67","\u0634\u062d\u0645","\ufd68","\u0634\u062d\u0645","\ufd69","\u0634\u062c\u064a","\ufd6a","\u0634\u0645\u062e","\ufd6b","\u0634\u0645\u062e","\ufd6c","\u0634\u0645\u0645","\ufd6d","\u0634\u0645\u0645","\ufd6e","\u0636\u062d\u0649","\ufd6f","\u0636\u062e\u0645","\ufd70","\u0636\u062e\u0645","\ufd71","\u0637\u0645\u062d","\ufd72","\u0637\u0645\u062d","\ufd73","\u0637\u0645\u0645","\ufd74","\u0637\u0645\u064a","\ufd75","\u0639\u062c\u0645","\ufd76","\u0639\u0645\u0645","\ufd77","\u0639\u0645\u0645","\ufd78","\u0639\u0645\u0649","\ufd79","\u063a\u0645\u0645","\ufd7a","\u063a\u0645\u064a","\ufd7b","\u063a\u0645\u0649","\ufd7c","\u0641\u062e\u0645","\ufd7d","\u0641\u062e\u0645","\ufd7e","\u0642\u0645\u062d","\ufd7f","\u0642\u0645\u0645","\ufd80","\u0644\u062d\u0645","\ufd81","\u0644\u062d\u064a","\ufd82","\u0644\u062d\u0649","\ufd83","\u0644\u062c\u062c","\ufd84","\u0644\u062c\u062c","\ufd85","\u0644\u062e\u0645","\ufd86","\u0644\u062e\u0645","\ufd87","\u0644\u0645\u062d","\ufd88","\u0644\u0645\u062d","\ufd89","\u0645\u062d\u062c","\ufd8a","\u0645\u062d\u0645","\ufd8b","\u0645\u062d\u064a","\ufd8c","\u0645\u062c\u062d","\ufd8d","\u0645\u062c\u0645","\ufd8e","\u0645\u062e\u062c","\ufd8f","\u0645\u062e\u0645","\ufd92","\u0645\u062c\u062e","\ufd93","\u0647\u0645\u062c","\ufd94","\u0647\u0645\u0645","\ufd95","\u0646\u062d\u0645","\ufd96","\u0646\u062d\u0649","\ufd97","\u0646\u062c\u0645","\ufd98","\u0646\u062c\u0645","\ufd99","\u0646\u062c\u0649","\ufd9a","\u0646\u0645\u064a","\ufd9b","\u0646\u0645\u0649","\ufd9c","\u064a\u0645\u0645","\ufd9d","\u064a\u0645\u0645","\ufd9e","\u0628\u062e\u064a","\ufd9f","\u062a\u062c\u064a","\ufda0","\u062a\u062c\u0649","\ufda1","\u062a\u062e\u064a","\ufda2","\u062a\u062e\u0649","\ufda3","\u062a\u0645\u064a","\ufda4","\u062a\u0645\u0649","\ufda5","\u062c\u0645\u064a","\ufda6","\u062c\u062d\u0649","\ufda7","\u062c\u0645\u0649","\ufda8","\u0633\u062e\u0649","\ufda9","\u0635\u062d\u064a","\ufdaa","\u0634\u062d\u064a","\ufdab","\u0636\u062d\u064a","\ufdac","\u0644\u062c\u064a","\ufdad","\u0644\u0645\u064a","\ufdae","\u064a\u062d\u064a","\ufdaf","\u064a\u062c\u064a","\ufdb0","\u064a\u0645\u064a","\ufdb1","\u0645\u0645\u064a","\ufdb2","\u0642\u0645\u064a","\ufdb3","\u0646\u062d\u064a","\ufdb4","\u0642\u0645\u062d","\ufdb5","\u0644\u062d\u0645","\ufdb6","\u0639\u0645\u064a","\ufdb7","\u0643\u0645\u064a","\ufdb8","\u0646\u062c\u062d","\ufdb9","\u0645\u062e\u064a","\ufdba","\u0644\u062c\u0645","\ufdbb","\u0643\u0645\u0645","\ufdbc","\u0644\u062c\u0645","\ufdbd","\u0646\u062c\u062d","\ufdbe","\u062c\u062d\u064a","\ufdbf","\u062d\u062c\u064a","\ufdc0","\u0645\u062c\u064a","\ufdc1","\u0641\u0645\u064a","\ufdc2","\u0628\u062d\u064a","\ufdc3","\u0643\u0645\u0645","\ufdc4","\u0639\u062c\u0645","\ufdc5","\u0635\u0645\u0645","\ufdc6","\u0633\u062e\u064a","\ufdc7","\u0646\u062c\u064a","\ufe49","\u203e","\ufe4a","\u203e","\ufe4b","\u203e","\ufe4c","\u203e","\ufe4d","_","\ufe4e","_","\ufe4f","_","\ufe80","\u0621","\ufe81","\u0622","\ufe82","\u0622","\ufe83","\u0623","\ufe84","\u0623","\ufe85","\u0624","\ufe86","\u0624","\ufe87","\u0625","\ufe88","\u0625","\ufe89","\u0626","\ufe8a","\u0626","\ufe8b","\u0626","\ufe8c","\u0626","\ufe8d","\u0627","\ufe8e","\u0627","\ufe8f","\u0628","\ufe90","\u0628","\ufe91","\u0628","\ufe92","\u0628","\ufe93","\u0629","\ufe94","\u0629","\ufe95","\u062a","\ufe96","\u062a","\ufe97","\u062a","\ufe98","\u062a","\ufe99","\u062b","\ufe9a","\u062b","\ufe9b","\u062b","\ufe9c","\u062b","\ufe9d","\u062c","\ufe9e","\u062c","\ufe9f","\u062c","\ufea0","\u062c","\ufea1","\u062d","\ufea2","\u062d","\ufea3","\u062d","\ufea4","\u062d","\ufea5","\u062e","\ufea6","\u062e","\ufea7","\u062e","\ufea8","\u062e","\ufea9","\u062f","\ufeaa","\u062f","\ufeab","\u0630","\ufeac","\u0630","\ufead","\u0631","\ufeae","\u0631","\ufeaf","\u0632","\ufeb0","\u0632","\ufeb1","\u0633","\ufeb2","\u0633","\ufeb3","\u0633","\ufeb4","\u0633","\ufeb5","\u0634","\ufeb6","\u0634","\ufeb7","\u0634","\ufeb8","\u0634","\ufeb9","\u0635","\ufeba","\u0635","\ufebb","\u0635","\ufebc","\u0635","\ufebd","\u0636","\ufebe","\u0636","\ufebf","\u0636","\ufec0","\u0636","\ufec1","\u0637","\ufec2","\u0637","\ufec3","\u0637","\ufec4","\u0637","\ufec5","\u0638","\ufec6","\u0638","\ufec7","\u0638","\ufec8","\u0638","\ufec9","\u0639","\ufeca","\u0639","\ufecb","\u0639","\ufecc","\u0639","\ufecd","\u063a","\ufece","\u063a","\ufecf","\u063a","\ufed0","\u063a","\ufed1","\u0641","\ufed2","\u0641","\ufed3","\u0641","\ufed4","\u0641","\ufed5","\u0642","\ufed6","\u0642","\ufed7","\u0642","\ufed8","\u0642","\ufed9","\u0643","\ufeda","\u0643","\ufedb","\u0643","\ufedc","\u0643","\ufedd","\u0644","\ufede","\u0644","\ufedf","\u0644","\ufee0","\u0644","\ufee1","\u0645","\ufee2","\u0645","\ufee3","\u0645","\ufee4","\u0645","\ufee5","\u0646","\ufee6","\u0646","\ufee7","\u0646","\ufee8","\u0646","\ufee9","\u0647","\ufeea","\u0647","\ufeeb","\u0647","\ufeec","\u0647","\ufeed","\u0648","\ufeee","\u0648","\ufeef","\u0649","\ufef0","\u0649","\ufef1","\u064a","\ufef2","\u064a","\ufef3","\u064a","\ufef4","\u064a","\ufef5","\u0644\u0622","\ufef6","\u0644\u0622","\ufef7","\u0644\u0623","\ufef8","\u0644\u0623","\ufef9","\u0644\u0625","\ufefa","\u0644\u0625","\ufefb","\u0644\u0627","\ufefc","\u0644\u0627"]});function b(r){const w=r.length;if(w<=1||!function(n){let a=x[13];return n>=a.begin&&n<a.end||(a=x[11],n>=a.begin&&n<a.end)}(r.charCodeAt(0)))return r;const o=[];for(let h=w-1;h>=0;h--)o.push(r[h]);return o.join("")}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getSymbolsFonts=I.getSupplementalGlyphMapForCalibri=I.getSupplementalGlyphMapForArialBlack=I.getStdFontMap=I.getSerifFonts=I.getNonStdFontMap=I.getGlyphMapForStandardFonts=void 0;var t=G(9);const F=(0,t.getLookupTableFactory)(function(r){r.ArialNarrow="Helvetica",r["ArialNarrow-Bold"]="Helvetica-Bold",r["ArialNarrow-BoldItalic"]="Helvetica-BoldOblique",r["ArialNarrow-Italic"]="Helvetica-Oblique",r.ArialBlack="Helvetica",r["ArialBlack-Bold"]="Helvetica-Bold",r["ArialBlack-BoldItalic"]="Helvetica-BoldOblique",r["ArialBlack-Italic"]="Helvetica-Oblique",r["Arial-Black"]="Helvetica",r["Arial-Black-Bold"]="Helvetica-Bold",r["Arial-Black-BoldItalic"]="Helvetica-BoldOblique",r["Arial-Black-Italic"]="Helvetica-Oblique",r.Arial="Helvetica",r["Arial-Bold"]="Helvetica-Bold",r["Arial-BoldItalic"]="Helvetica-BoldOblique",r["Arial-Italic"]="Helvetica-Oblique",r["Arial-BoldItalicMT"]="Helvetica-BoldOblique",r["Arial-BoldMT"]="Helvetica-Bold",r["Arial-ItalicMT"]="Helvetica-Oblique",r.ArialMT="Helvetica",r["Courier-Bold"]="Courier-Bold",r["Courier-BoldItalic"]="Courier-BoldOblique",r["Courier-Italic"]="Courier-Oblique",r.CourierNew="Courier",r["CourierNew-Bold"]="Courier-Bold",r["CourierNew-BoldItalic"]="Courier-BoldOblique",r["CourierNew-Italic"]="Courier-Oblique",r["CourierNewPS-BoldItalicMT"]="Courier-BoldOblique",r["CourierNewPS-BoldMT"]="Courier-Bold",r["CourierNewPS-ItalicMT"]="Courier-Oblique",r.CourierNewPSMT="Courier",r.Helvetica="Helvetica",r["Helvetica-Bold"]="Helvetica-Bold",r["Helvetica-BoldItalic"]="Helvetica-BoldOblique",r["Helvetica-BoldOblique"]="Helvetica-BoldOblique",r["Helvetica-Italic"]="Helvetica-Oblique",r["Helvetica-Oblique"]="Helvetica-Oblique",r["Symbol-Bold"]="Symbol",r["Symbol-BoldItalic"]="Symbol",r["Symbol-Italic"]="Symbol",r.TimesNewRoman="Times-Roman",r["TimesNewRoman-Bold"]="Times-Bold",r["TimesNewRoman-BoldItalic"]="Times-BoldItalic",r["TimesNewRoman-Italic"]="Times-Italic",r.TimesNewRomanPS="Times-Roman",r["TimesNewRomanPS-Bold"]="Times-Bold",r["TimesNewRomanPS-BoldItalic"]="Times-BoldItalic",r["TimesNewRomanPS-BoldItalicMT"]="Times-BoldItalic",r["TimesNewRomanPS-BoldMT"]="Times-Bold",r["TimesNewRomanPS-Italic"]="Times-Italic",r["TimesNewRomanPS-ItalicMT"]="Times-Italic",r.TimesNewRomanPSMT="Times-Roman",r["TimesNewRomanPSMT-Bold"]="Times-Bold",r["TimesNewRomanPSMT-BoldItalic"]="Times-BoldItalic",r["TimesNewRomanPSMT-Italic"]="Times-Italic"});I.getStdFontMap=F;const R=(0,t.getLookupTableFactory)(function(r){r.Calibri="Helvetica",r["Calibri-Bold"]="Helvetica-Bold",r["Calibri-BoldItalic"]="Helvetica-BoldOblique",r["Calibri-Italic"]="Helvetica-Oblique",r.CenturyGothic="Helvetica",r["CenturyGothic-Bold"]="Helvetica-Bold",r["CenturyGothic-BoldItalic"]="Helvetica-BoldOblique",r["CenturyGothic-Italic"]="Helvetica-Oblique",r.ComicSansMS="Comic Sans MS",r["ComicSansMS-Bold"]="Comic Sans MS-Bold",r["ComicSansMS-BoldItalic"]="Comic Sans MS-BoldItalic",r["ComicSansMS-Italic"]="Comic Sans MS-Italic",r.LucidaConsole="Courier",r["LucidaConsole-Bold"]="Courier-Bold",r["LucidaConsole-BoldItalic"]="Courier-BoldOblique",r["LucidaConsole-Italic"]="Courier-Oblique",r["LucidaSans-Demi"]="Helvetica-Bold",r["MS-Gothic"]="MS Gothic",r["MS-Gothic-Bold"]="MS Gothic-Bold",r["MS-Gothic-BoldItalic"]="MS Gothic-BoldItalic",r["MS-Gothic-Italic"]="MS Gothic-Italic",r["MS-Mincho"]="MS Mincho",r["MS-Mincho-Bold"]="MS Mincho-Bold",r["MS-Mincho-BoldItalic"]="MS Mincho-BoldItalic",r["MS-Mincho-Italic"]="MS Mincho-Italic",r["MS-PGothic"]="MS PGothic",r["MS-PGothic-Bold"]="MS PGothic-Bold",r["MS-PGothic-BoldItalic"]="MS PGothic-BoldItalic",r["MS-PGothic-Italic"]="MS PGothic-Italic",r["MS-PMincho"]="MS PMincho",r["MS-PMincho-Bold"]="MS PMincho-Bold",r["MS-PMincho-BoldItalic"]="MS PMincho-BoldItalic",r["MS-PMincho-Italic"]="MS PMincho-Italic",r.NuptialScript="Times-Italic",r.SegoeUISymbol="Helvetica",r.Wingdings="ZapfDingbats",r["Wingdings-Regular"]="ZapfDingbats"});I.getNonStdFontMap=R;const e=(0,t.getLookupTableFactory)(function(r){r["Adobe Jenson"]=!0,r["Adobe Text"]=!0,r.Albertus=!0,r.Aldus=!0,r.Alexandria=!0,r.Algerian=!0,r["American Typewriter"]=!0,r.Antiqua=!0,r.Apex=!0,r.Arno=!0,r.Aster=!0,r.Aurora=!0,r.Baskerville=!0,r.Bell=!0,r.Bembo=!0,r["Bembo Schoolbook"]=!0,r.Benguiat=!0,r["Berkeley Old Style"]=!0,r["Bernhard Modern"]=!0,r["Berthold City"]=!0,r.Bodoni=!0,r["Bauer Bodoni"]=!0,r["Book Antiqua"]=!0,r.Bookman=!0,r["Bordeaux Roman"]=!0,r["Californian FB"]=!0,r.Calisto=!0,r.Calvert=!0,r.Capitals=!0,r.Cambria=!0,r.Cartier=!0,r.Caslon=!0,r.Catull=!0,r.Centaur=!0,r["Century Old Style"]=!0,r["Century Schoolbook"]=!0,r.Chaparral=!0,r["Charis SIL"]=!0,r.Cheltenham=!0,r["Cholla Slab"]=!0,r.Clarendon=!0,r.Clearface=!0,r.Cochin=!0,r.Colonna=!0,r["Computer Modern"]=!0,r["Concrete Roman"]=!0,r.Constantia=!0,r["Cooper Black"]=!0,r.Corona=!0,r.Ecotype=!0,r.Egyptienne=!0,r.Elephant=!0,r.Excelsior=!0,r.Fairfield=!0,r["FF Scala"]=!0,r.Folkard=!0,r.Footlight=!0,r.FreeSerif=!0,r["Friz Quadrata"]=!0,r.Garamond=!0,r.Gentium=!0,r.Georgia=!0,r.Gloucester=!0,r["Goudy Old Style"]=!0,r["Goudy Schoolbook"]=!0,r["Goudy Pro Font"]=!0,r.Granjon=!0,r["Guardian Egyptian"]=!0,r.Heather=!0,r.Hercules=!0,r["High Tower Text"]=!0,r.Hiroshige=!0,r["Hoefler Text"]=!0,r["Humana Serif"]=!0,r.Imprint=!0,r["Ionic No. 5"]=!0,r.Janson=!0,r.Joanna=!0,r.Korinna=!0,r.Lexicon=!0,r["Liberation Serif"]=!0,r["Linux Libertine"]=!0,r.Literaturnaya=!0,r.Lucida=!0,r["Lucida Bright"]=!0,r.Melior=!0,r.Memphis=!0,r.Miller=!0,r.Minion=!0,r.Modern=!0,r["Mona Lisa"]=!0,r["Mrs Eaves"]=!0,r["MS Serif"]=!0,r["Museo Slab"]=!0,r["New York"]=!0,r["Nimbus Roman"]=!0,r["NPS Rawlinson Roadway"]=!0,r.NuptialScript=!0,r.Palatino=!0,r.Perpetua=!0,r.Plantin=!0,r["Plantin Schoolbook"]=!0,r.Playbill=!0,r["Poor Richard"]=!0,r["Rawlinson Roadway"]=!0,r.Renault=!0,r.Requiem=!0,r.Rockwell=!0,r.Roman=!0,r["Rotis Serif"]=!0,r.Sabon=!0,r.Scala=!0,r.Seagull=!0,r.Sistina=!0,r.Souvenir=!0,r.STIX=!0,r["Stone Informal"]=!0,r["Stone Serif"]=!0,r.Sylfaen=!0,r.Times=!0,r.Trajan=!0,r.Trinit\u00e9=!0,r["Trump Mediaeval"]=!0,r.Utopia=!0,r["Vale Type"]=!0,r["Bitstream Vera"]=!0,r["Vera Serif"]=!0,r.Versailles=!0,r.Wanted=!0,r.Weiss=!0,r["Wide Latin"]=!0,r.Windsor=!0,r.XITS=!0});I.getSerifFonts=e;const x=(0,t.getLookupTableFactory)(function(r){r.Dingbats=!0,r.Symbol=!0,r.ZapfDingbats=!0});I.getSymbolsFonts=x;const L=(0,t.getLookupTableFactory)(function(r){r[2]=10,r[3]=32,r[4]=33,r[5]=34,r[6]=35,r[7]=36,r[8]=37,r[9]=38,r[10]=39,r[11]=40,r[12]=41,r[13]=42,r[14]=43,r[15]=44,r[16]=45,r[17]=46,r[18]=47,r[19]=48,r[20]=49,r[21]=50,r[22]=51,r[23]=52,r[24]=53,r[25]=54,r[26]=55,r[27]=56,r[28]=57,r[29]=58,r[30]=894,r[31]=60,r[32]=61,r[33]=62,r[34]=63,r[35]=64,r[36]=65,r[37]=66,r[38]=67,r[39]=68,r[40]=69,r[41]=70,r[42]=71,r[43]=72,r[44]=73,r[45]=74,r[46]=75,r[47]=76,r[48]=77,r[49]=78,r[50]=79,r[51]=80,r[52]=81,r[53]=82,r[54]=83,r[55]=84,r[56]=85,r[57]=86,r[58]=87,r[59]=88,r[60]=89,r[61]=90,r[62]=91,r[63]=92,r[64]=93,r[65]=94,r[66]=95,r[67]=96,r[68]=97,r[69]=98,r[70]=99,r[71]=100,r[72]=101,r[73]=102,r[74]=103,r[75]=104,r[76]=105,r[77]=106,r[78]=107,r[79]=108,r[80]=109,r[81]=110,r[82]=111,r[83]=112,r[84]=113,r[85]=114,r[86]=115,r[87]=116,r[88]=117,r[89]=118,r[90]=119,r[91]=120,r[92]=121,r[93]=122,r[94]=123,r[95]=124,r[96]=125,r[97]=126,r[98]=196,r[99]=197,r[100]=199,r[101]=201,r[102]=209,r[103]=214,r[104]=220,r[105]=225,r[106]=224,r[107]=226,r[108]=228,r[109]=227,r[110]=229,r[111]=231,r[112]=233,r[113]=232,r[114]=234,r[115]=235,r[116]=237,r[117]=236,r[118]=238,r[119]=239,r[120]=241,r[121]=243,r[122]=242,r[123]=244,r[124]=246,r[125]=245,r[126]=250,r[127]=249,r[128]=251,r[129]=252,r[130]=8224,r[131]=176,r[132]=162,r[133]=163,r[134]=167,r[135]=8226,r[136]=182,r[137]=223,r[138]=174,r[139]=169,r[140]=8482,r[141]=180,r[142]=168,r[143]=8800,r[144]=198,r[145]=216,r[146]=8734,r[147]=177,r[148]=8804,r[149]=8805,r[150]=165,r[151]=181,r[152]=8706,r[153]=8721,r[154]=8719,r[156]=8747,r[157]=170,r[158]=186,r[159]=8486,r[160]=230,r[161]=248,r[162]=191,r[163]=161,r[164]=172,r[165]=8730,r[166]=402,r[167]=8776,r[168]=8710,r[169]=171,r[170]=187,r[171]=8230,r[210]=218,r[223]=711,r[224]=321,r[225]=322,r[227]=353,r[229]=382,r[234]=253,r[252]=263,r[253]=268,r[254]=269,r[258]=258,r[260]=260,r[261]=261,r[265]=280,r[266]=281,r[268]=283,r[269]=313,r[275]=323,r[276]=324,r[278]=328,r[284]=345,r[285]=346,r[286]=347,r[292]=367,r[295]=377,r[296]=378,r[298]=380,r[305]=963,r[306]=964,r[307]=966,r[308]=8215,r[309]=8252,r[310]=8319,r[311]=8359,r[312]=8592,r[313]=8593,r[337]=9552,r[493]=1039,r[494]=1040,r[705]=1524,r[706]=8362,r[710]=64288,r[711]=64298,r[759]=1617,r[761]=1776,r[763]=1778,r[775]=1652,r[777]=1764,r[778]=1780,r[779]=1781,r[780]=1782,r[782]=771,r[783]=64726,r[786]=8363,r[788]=8532,r[790]=768,r[791]=769,r[792]=768,r[795]=803,r[797]=64336,r[798]=64337,r[799]=64342,r[800]=64343,r[801]=64344,r[802]=64345,r[803]=64362,r[804]=64363,r[805]=64364,r[2424]=7821,r[2425]=7822,r[2426]=7823,r[2427]=7824,r[2428]=7825,r[2429]=7826,r[2430]=7827,r[2433]=7682,r[2678]=8045,r[2679]=8046,r[2830]=1552,r[2838]=686,r[2840]=751,r[2842]=753,r[2843]=754,r[2844]=755,r[2846]=757,r[2856]=767,r[2857]=848,r[2858]=849,r[2862]=853,r[2863]=854,r[2864]=855,r[2865]=861,r[2866]=862,r[2906]=7460,r[2908]=7462,r[2909]=7463,r[2910]=7464,r[2912]=7466,r[2913]=7467,r[2914]=7468,r[2916]=7470,r[2917]=7471,r[2918]=7472,r[2920]=7474,r[2921]=7475,r[2922]=7476,r[2924]=7478,r[2925]=7479,r[2926]=7480,r[2928]=7482,r[2929]=7483,r[2930]=7484,r[2932]=7486,r[2933]=7487,r[2934]=7488,r[2936]=7490,r[2937]=7491,r[2938]=7492,r[2940]=7494,r[2941]=7495,r[2942]=7496,r[2944]=7498,r[2946]=7500,r[2948]=7502,r[2950]=7504,r[2951]=7505,r[2952]=7506,r[2954]=7508,r[2955]=7509,r[2956]=7510,r[2958]=7512,r[2959]=7513,r[2960]=7514,r[2962]=7516,r[2963]=7517,r[2964]=7518,r[2966]=7520,r[2967]=7521,r[2968]=7522,r[2970]=7524,r[2971]=7525,r[2972]=7526,r[2974]=7528,r[2975]=7529,r[2976]=7530,r[2978]=1537,r[2979]=1538,r[2980]=1539,r[2982]=1549,r[2983]=1551,r[2984]=1552,r[2986]=1554,r[2987]=1555,r[2988]=1556,r[2990]=1623,r[2991]=1624,r[2995]=1775,r[2999]=1791,r[3002]=64290,r[3003]=64291,r[3004]=64292,r[3006]=64294,r[3007]=64295,r[3008]=64296,r[3011]=1900,r[3014]=8223,r[3015]=8244,r[3017]=7532,r[3018]=7533,r[3019]=7534,r[3075]=7590,r[3076]=7591,r[3079]=7594,r[3080]=7595,r[3083]=7598,r[3084]=7599,r[3087]=7602,r[3088]=7603,r[3091]=7606,r[3092]=7607,r[3095]=7610,r[3096]=7611,r[3099]=7614,r[3100]=7615,r[3103]=7618,r[3104]=7619,r[3107]=8337,r[3108]=8338,r[3116]=1884,r[3119]=1885,r[3120]=1885,r[3123]=1886,r[3124]=1886,r[3127]=1887,r[3128]=1887,r[3131]=1888,r[3132]=1888,r[3135]=1889,r[3136]=1889,r[3139]=1890,r[3140]=1890,r[3143]=1891,r[3144]=1891,r[3147]=1892,r[3148]=1892,r[3153]=580,r[3154]=581,r[3157]=584,r[3158]=585,r[3161]=588,r[3162]=589,r[3165]=891,r[3166]=892,r[3169]=1274,r[3170]=1275,r[3173]=1278,r[3174]=1279,r[3181]=7622,r[3182]=7623,r[3282]=11799,r[3316]=578,r[3379]=42785,r[3393]=1159,r[3416]=8377});I.getGlyphMapForStandardFonts=L;const P=(0,t.getLookupTableFactory)(function(r){r[227]=322,r[264]=261,r[291]=346});I.getSupplementalGlyphMapForArialBlack=P;const b=(0,t.getLookupTableFactory)(function(r){r[1]=32,r[4]=65,r[17]=66,r[18]=67,r[24]=68,r[28]=69,r[38]=70,r[39]=71,r[44]=72,r[47]=73,r[58]=74,r[60]=75,r[62]=76,r[68]=77,r[69]=78,r[75]=79,r[87]=80,r[89]=81,r[90]=82,r[94]=83,r[100]=84,r[104]=85,r[115]=86,r[116]=87,r[121]=88,r[122]=89,r[127]=90,r[258]=97,r[268]=261,r[271]=98,r[272]=99,r[273]=263,r[282]=100,r[286]=101,r[295]=281,r[296]=102,r[336]=103,r[346]=104,r[349]=105,r[361]=106,r[364]=107,r[367]=108,r[371]=322,r[373]=109,r[374]=110,r[381]=111,r[383]=243,r[393]=112,r[395]=113,r[396]=114,r[400]=115,r[401]=347,r[410]=116,r[437]=117,r[448]=118,r[449]=119,r[454]=120,r[455]=121,r[460]=122,r[463]=380,r[853]=44,r[855]=58,r[856]=46,r[876]=47,r[878]=45,r[882]=45,r[894]=40,r[895]=41,r[896]=91,r[897]=93,r[923]=64,r[1004]=48,r[1005]=49,r[1006]=50,r[1007]=51,r[1008]=52,r[1009]=53,r[1010]=54,r[1011]=55,r[1012]=56,r[1013]=57,r[1081]=37,r[1085]=43,r[1086]=45});I.getSupplementalGlyphMapForCalibri=b},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.ToUnicodeMap=I.IdentityToUnicodeMap=void 0;var t=G(2);I.ToUnicodeMap=class{constructor(R=[]){this._map=R}get length(){return this._map.length}forEach(R){for(const e in this._map)R(e,this._map[e].charCodeAt(0))}has(R){return void 0!==this._map[R]}get(R){return this._map[R]}charCodeOf(R){const e=this._map;if(e.length<=65536)return e.indexOf(R);for(const x in e)if(e[x]===R)return 0|x;return-1}amend(R){for(const e in R)this._map[e]=R[e]}},I.IdentityToUnicodeMap=class{constructor(R,e){this.firstChar=R,this.lastChar=e}get length(){return this.lastChar+1-this.firstChar}forEach(R){for(let e=this.firstChar,x=this.lastChar;e<=x;e++)R(e,e)}has(R){return this.firstChar<=R&&R<=this.lastChar}get(R){if(this.firstChar<=R&&R<=this.lastChar)return String.fromCharCode(R)}charCodeOf(R){return Number.isInteger(R)&&R>=this.firstChar&&R<=this.lastChar?R:-1}amend(R){(0,t.unreachable)("Should not call amend()")}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.CFFFont=void 0;var t=G(35),F=G(38),R=G(2);I.CFFFont=class{constructor(x,L){this.properties=L;const P=new t.CFFParser(x,L,F.SEAC_ANALYSIS_ENABLED);this.cff=P.parse(),this.cff.duplicateFirstGlyph();const b=new t.CFFCompiler(this.cff);this.seacs=this.cff.seacs;try{this.data=b.compile()}catch{(0,R.warn)("Failed to compile font "+L.loadedName),this.data=x}this._createBuiltInEncoding()}get numGlyphs(){return this.cff.charStrings.count}getCharset(){return this.cff.charset.charset}getGlyphMapping(){const x=this.cff,L=this.properties,P=x.charset.charset;let b,r;if(L.composite){let o;if(b=Object.create(null),x.isCIDFont)for(r=0;r<P.length;r++)o=L.cMap.charCodeOf(P[r]),b[o]=r;else for(r=0;r<x.charStrings.count;r++)o=L.cMap.charCodeOf(r),b[o]=r;return b}return b=(0,F.type1FontGlyphMapping)(L,x.encoding?x.encoding.encoding:null,P),b}hasGlyphId(x){return this.cff.hasGlyphId(x)}_createBuiltInEncoding(){const{charset:x,encoding:L}=this.cff;if(!x||!L)return;const P=x.charset,b=L.encoding,r=[];for(const w in b){const o=b[w];if(o>=0){const h=P[o];h&&(r[w]=h)}}r.length>0&&(this.properties.builtInEncoding=r)}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.FontRendererFactory=void 0;var t=G(2),F=G(35),R=G(39),e=G(37),x=G(10);function L(c,f){return c[f]<<24|c[f+1]<<16|c[f+2]<<8|c[f+3]}function P(c,f){return c[f]<<8|c[f+1]}function b(c){const f=c.length;let y=32768;return f<1240?y=107:f<33900&&(y=1131),y}function r(c,f,y){const i=1===P(c,f+2)?L(c,f+8):L(c,f+16),d=P(c,f+i);let S,s,l;if(4===d){P(c,f+i+2);const A=P(c,f+i+6)>>1;for(s=f+i+14,S=[],l=0;l<A;l++,s+=2)S[l]={end:P(c,s)};for(s+=2,l=0;l<A;l++,s+=2)S[l].start=P(c,s);for(l=0;l<A;l++,s+=2)S[l].idDelta=P(c,s);for(l=0;l<A;l++,s+=2){let k=P(c,s);if(0!==k){S[l].ids=[];for(let u=0,M=S[l].end-S[l].start+1;u<M;u++)S[l].ids[u]=P(c,s+k),k+=2}}return S}if(12===d){L(c,f+i+4);const A=L(c,f+i+12);for(s=f+i+16,S=[],l=0;l<A;l++)S.push({start:L(c,s),end:L(c,s+4),idDelta:L(c,s+8)-L(c,s)}),s+=12;return S}throw new t.FormatError(`unsupported cmap: ${d}`)}function w(c,f,y,i){const d=new F.CFFParser(new x.Stream(c,f,y-f),{},i).parse();return{glyphs:d.charStrings.objects,subrs:d.topDict.privateDict&&d.topDict.privateDict.subrsIndex&&d.topDict.privateDict.subrsIndex.objects,gsubrs:d.globalSubrIndex&&d.globalSubrIndex.objects,isCFFCIDFont:d.isCIDFont,fdSelect:d.fdSelect,fdArray:d.fdArray}}function o(c,f){const y=f.codePointAt(0);let i=0,d=0,S=c.length-1;for(;d<S;){const s=d+S+1>>1;y<c[s].start?S=s-1:d=s}return c[d].start<=y&&y<=c[d].end&&(i=c[d].idDelta+(c[d].ids?c[d].ids[y-c[d].start]:y)&65535),{charCode:y,glyphId:i}}function h(c,f,y){function i(M,O){f.push({cmd:"moveTo",args:[M,O]})}function d(M,O){f.push({cmd:"lineTo",args:[M,O]})}function S(M,O,C,N){f.push({cmd:"quadraticCurveTo",args:[M,O,C,N]})}let s=0;const l=(c[s]<<24|c[s+1]<<16)>>16;let A,k=0,u=0;if(s+=10,l<0)do{A=c[s]<<8|c[s+1];const M=c[s+2]<<8|c[s+3];let O,C;s+=4,1&A?(O=(c[s]<<24|c[s+1]<<16)>>16,C=(c[s+2]<<24|c[s+3]<<16)>>16,s+=4):(O=c[s++],C=c[s++]),2&A?(k=O,u=C):(k=0,u=0);let N=1,X=1,H=0,D=0;8&A?(N=X=(c[s]<<24|c[s+1]<<16)/1073741824,s+=2):64&A?(N=(c[s]<<24|c[s+1]<<16)/1073741824,X=(c[s+2]<<24|c[s+3]<<16)/1073741824,s+=4):128&A&&(N=(c[s]<<24|c[s+1]<<16)/1073741824,H=(c[s+2]<<24|c[s+3]<<16)/1073741824,D=(c[s+4]<<24|c[s+5]<<16)/1073741824,X=(c[s+6]<<24|c[s+7]<<16)/1073741824,s+=8);const j=y.glyphs[M];j&&(f.push({cmd:"save"},{cmd:"transform",args:[N,H,D,X,k,u]}),h(j,f,y),f.push({cmd:"restore"}))}while(32&A);else{const M=[];let O,C;for(O=0;O<l;O++)M.push(c[s]<<8|c[s+1]),s+=2;s+=2+(c[s]<<8|c[s+1]);const N=M[M.length-1]+1,X=[];for(;X.length<N;){A=c[s++];let D=1;for(8&A&&(D+=c[s++]);D-- >0;)X.push({flags:A})}for(O=0;O<N;O++){switch(18&X[O].flags){case 0:k+=(c[s]<<24|c[s+1]<<16)>>16,s+=2;break;case 2:k-=c[s++];break;case 18:k+=c[s++]}X[O].x=k}for(O=0;O<N;O++){switch(36&X[O].flags){case 0:u+=(c[s]<<24|c[s+1]<<16)>>16,s+=2;break;case 4:u-=c[s++];break;case 36:u+=c[s++]}X[O].y=u}let H=0;for(s=0;s<l;s++){const D=M[s],j=X.slice(H,D+1);if(1&j[0].flags)j.push(j[0]);else if(1&j[j.length-1].flags)j.unshift(j[j.length-1]);else{const _={flags:1,x:(j[0].x+j[j.length-1].x)/2,y:(j[0].y+j[j.length-1].y)/2};j.unshift(_),j.push(_)}for(i(j[0].x,j[0].y),O=1,C=j.length;O<C;O++)1&j[O].flags?d(j[O].x,j[O].y):1&j[O+1].flags?(S(j[O].x,j[O].y,j[O+1].x,j[O+1].y),O++):S(j[O].x,j[O].y,(j[O].x+j[O+1].x)/2,(j[O].y+j[O+1].y)/2);H=D+1}}}function n(c,f,y,i){function d(M,O){f.push({cmd:"moveTo",args:[M,O]})}function S(M,O){f.push({cmd:"lineTo",args:[M,O]})}function s(M,O,C,N,X,H){f.push({cmd:"bezierCurveTo",args:[M,O,C,N,X,H]})}const l=[];let A=0,k=0,u=0;!function M(O){let C=0;for(;C<O.length;){let N,X,H,D,j,_,T,U,q,E=!1,$=O[C++];switch($){case 1:case 3:case 18:case 23:u+=l.length>>1,E=!0;break;case 4:k+=l.pop(),d(A,k),E=!0;break;case 5:for(;l.length>0;)A+=l.shift(),k+=l.shift(),S(A,k);break;case 6:for(;l.length>0&&(A+=l.shift(),S(A,k),0!==l.length);)k+=l.shift(),S(A,k);break;case 7:for(;l.length>0&&(k+=l.shift(),S(A,k),0!==l.length);)A+=l.shift(),S(A,k);break;case 8:for(;l.length>0;)N=A+l.shift(),H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X+l.shift(),k=D+l.shift(),s(N,H,X,D,A,k);break;case 10:if(U=l.pop(),q=null,y.isCFFCIDFont){const B=y.fdSelect.getFDIndex(i);if(B>=0&&B<y.fdArray.length){const W=y.fdArray[B];let V;W.privateDict&&W.privateDict.subrsIndex&&(V=W.privateDict.subrsIndex.objects),V&&(U+=b(V),q=V[U])}else(0,t.warn)("Invalid fd index for glyph index.")}else q=y.subrs[U+y.subrsBias];q&&M(q);break;case 11:return;case 12:switch($=O[C++],$){case 34:N=A+l.shift(),X=N+l.shift(),j=k+l.shift(),A=X+l.shift(),s(N,k,X,j,A,j),N=A+l.shift(),X=N+l.shift(),A=X+l.shift(),s(N,j,X,k,A,k);break;case 35:N=A+l.shift(),H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X+l.shift(),k=D+l.shift(),s(N,H,X,D,A,k),N=A+l.shift(),H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X+l.shift(),k=D+l.shift(),s(N,H,X,D,A,k),l.pop();break;case 36:N=A+l.shift(),j=k+l.shift(),X=N+l.shift(),_=j+l.shift(),A=X+l.shift(),s(N,j,X,_,A,_),N=A+l.shift(),X=N+l.shift(),T=_+l.shift(),A=X+l.shift(),s(N,_,X,T,A,k);break;case 37:const B=A,W=k;N=A+l.shift(),H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X+l.shift(),k=D+l.shift(),s(N,H,X,D,A,k),N=A+l.shift(),H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X,k=D,Math.abs(A-B)>Math.abs(k-W)?A+=l.shift():k+=l.shift(),s(N,H,X,D,A,k);break;default:throw new t.FormatError(`unknown operator: 12 ${$}`)}break;case 14:if(l.length>=4){const B=l.pop(),W=l.pop();k=l.pop(),A=l.pop(),f.push({cmd:"save"},{cmd:"translate",args:[A,k]});let V=o(y.cmap,String.fromCharCode(y.glyphNameMap[e.StandardEncoding[B]]));n(y.glyphs[V.glyphId],f,y,V.glyphId),f.push({cmd:"restore"}),V=o(y.cmap,String.fromCharCode(y.glyphNameMap[e.StandardEncoding[W]])),n(y.glyphs[V.glyphId],f,y,V.glyphId)}return;case 19:case 20:u+=l.length>>1,C+=u+7>>3,E=!0;break;case 21:k+=l.pop(),A+=l.pop(),d(A,k),E=!0;break;case 22:A+=l.pop(),d(A,k),E=!0;break;case 24:for(;l.length>2;)N=A+l.shift(),H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X+l.shift(),k=D+l.shift(),s(N,H,X,D,A,k);A+=l.shift(),k+=l.shift(),S(A,k);break;case 25:for(;l.length>6;)A+=l.shift(),k+=l.shift(),S(A,k);N=A+l.shift(),H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X+l.shift(),k=D+l.shift(),s(N,H,X,D,A,k);break;case 26:for(l.length%2&&(A+=l.shift());l.length>0;)N=A,H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X,k=D+l.shift(),s(N,H,X,D,A,k);break;case 27:for(l.length%2&&(k+=l.shift());l.length>0;)N=A+l.shift(),H=k,X=N+l.shift(),D=H+l.shift(),A=X+l.shift(),k=D,s(N,H,X,D,A,k);break;case 28:l.push((O[C]<<24|O[C+1]<<16)>>16),C+=2;break;case 29:U=l.pop()+y.gsubrsBias,q=y.gsubrs[U],q&&M(q);break;case 30:for(;l.length>0&&(N=A,H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X+l.shift(),k=D+(1===l.length?l.shift():0),s(N,H,X,D,A,k),0!==l.length);)N=A+l.shift(),H=k,X=N+l.shift(),D=H+l.shift(),k=D+l.shift(),A=X+(1===l.length?l.shift():0),s(N,H,X,D,A,k);break;case 31:for(;l.length>0&&(N=A+l.shift(),H=k,X=N+l.shift(),D=H+l.shift(),k=D+l.shift(),A=X+(1===l.length?l.shift():0),s(N,H,X,D,A,k),0!==l.length);)N=A,H=k+l.shift(),X=N+l.shift(),D=H+l.shift(),A=X+l.shift(),k=D+(1===l.length?l.shift():0),s(N,H,X,D,A,k);break;default:if($<32)throw new t.FormatError(`unknown operator: ${$}`);$<247?l.push($-139):$<251?l.push(256*($-247)+O[C++]+108):$<255?l.push(256*-($-251)-O[C++]-108):(l.push((O[C]<<24|O[C+1]<<16|O[C+2]<<8|O[C+3])/65536),C+=4)}E&&(l.length=0)}}(c)}const a=[];class p{constructor(f){this.constructor===p&&(0,t.unreachable)("Cannot initialize CompiledFont."),this.fontMatrix=f,this.compiledGlyphs=Object.create(null),this.compiledCharCodeToGlyphId=Object.create(null)}getPathJs(f){const{charCode:y,glyphId:i}=o(this.cmap,f);let d=this.compiledGlyphs[i];if(!d)try{d=this.compileGlyph(this.glyphs[i],i),this.compiledGlyphs[i]=d}catch(S){throw this.compiledGlyphs[i]=a,void 0===this.compiledCharCodeToGlyphId[y]&&(this.compiledCharCodeToGlyphId[y]=i),S}return void 0===this.compiledCharCodeToGlyphId[y]&&(this.compiledCharCodeToGlyphId[y]=i),d}compileGlyph(f,y){if(!f||0===f.length||14===f[0])return a;let i=this.fontMatrix;if(this.isCFFCIDFont){const S=this.fdSelect.getFDIndex(y);S>=0&&S<this.fdArray.length?i=this.fdArray[S].getByName("FontMatrix")||t.FONT_IDENTITY_MATRIX:(0,t.warn)("Invalid fd index for glyph index.")}const d=[{cmd:"save"},{cmd:"transform",args:i.slice()},{cmd:"scale",args:["size","-size"]}];return this.compileGlyphImpl(f,d,y),d.push({cmd:"restore"}),d}compileGlyphImpl(){(0,t.unreachable)("Children classes should implement this.")}hasBuiltPath(f){const{charCode:y,glyphId:i}=o(this.cmap,f);return void 0!==this.compiledGlyphs[i]&&void 0!==this.compiledCharCodeToGlyphId[y]}}class v extends p{constructor(f,y,i){super(i||[488e-6,0,0,488e-6,0,0]),this.glyphs=f,this.cmap=y}compileGlyphImpl(f,y){h(f,y,this)}}class m extends p{constructor(f,y,i,d){super(i||[.001,0,0,.001,0,0]),this.glyphs=f.glyphs,this.gsubrs=f.gsubrs||[],this.subrs=f.subrs||[],this.cmap=y,this.glyphNameMap=d||(0,R.getGlyphsUnicode)(),this.gsubrsBias=b(this.gsubrs),this.subrsBias=b(this.subrs),this.isCFFCIDFont=f.isCFFCIDFont,this.fdSelect=f.fdSelect,this.fdArray=f.fdArray}compileGlyphImpl(f,y,i){n(f,y,this,i)}}I.FontRendererFactory=class{static create(f,y){const i=new Uint8Array(f.data);let d,S,s,l,A,k;const u=P(i,4);for(let M=0,O=12;M<u;M++,O+=16){const C=(0,t.bytesToString)(i.subarray(O,O+4)),N=L(i,O+8),X=L(i,O+12);switch(C){case"cmap":d=r(i,N);break;case"glyf":S=i.subarray(N,N+X);break;case"loca":s=i.subarray(N,N+X);break;case"head":k=P(i,N+18),A=P(i,N+50);break;case"CFF ":l=w(i,N,N+X,y)}}if(S){const M=k?[1/k,0,0,1/k,0,0]:f.fontMatrix;return new v(function(C,N,X){let H,D;X?(H=4,D=function(U,q){return U[q]<<24|U[q+1]<<16|U[q+2]<<8|U[q+3]}):(H=2,D=function(U,q){return U[q]<<9|U[q+1]<<1});const j=[];let _=D(N,0);for(let T=H;T<N.length;T+=H){const U=D(N,T);j.push(C.subarray(_,U)),_=U}return j}(S,s,A),d,M)}return new m(l,d,f.fontMatrix,f.glyphNameMap)}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.OpenTypeFileBuilder=void 0;var t=G(9),F=G(2);function R(P,b,r){P[b]=r>>8&255,P[b+1]=255&r}function e(P,b,r){P[b]=r>>24&255,P[b+1]=r>>16&255,P[b+2]=r>>8&255,P[b+3]=255&r}function x(P,b,r){if(r instanceof Uint8Array)P.set(r,b);else if("string"==typeof r)for(let w=0,o=r.length;w<o;w++)P[b++]=255&r.charCodeAt(w);else for(let w=0,o=r.length;w<o;w++)P[b++]=255&r[w]}class L{constructor(b){this.sfnt=b,this.tables=Object.create(null)}static getSearchParams(b,r){let w=1,o=0;for(;(w^b)>w;)w<<=1,o++;const h=w*r;return{range:h,entry:o,rangeShift:r*b-h}}toArray(){let b=this.sfnt;const r=this.tables,w=Object.keys(r);w.sort();const o=w.length;let h,n,a,p,v,m=12+16*o;const c=[m];for(h=0;h<o;h++)p=r[w[h]],m+=(p.length+3&-4)>>>0,c.push(m);const f=new Uint8Array(m);for(h=0;h<o;h++)p=r[w[h]],x(f,c[h],p);"true"===b&&(b=(0,F.string32)(65536)),f[0]=255&b.charCodeAt(0),f[1]=255&b.charCodeAt(1),f[2]=255&b.charCodeAt(2),f[3]=255&b.charCodeAt(3),R(f,4,o);const y=L.getSearchParams(o,16);for(R(f,6,y.range),R(f,8,y.entry),R(f,10,y.rangeShift),m=12,h=0;h<o;h++){v=w[h],f[m]=255&v.charCodeAt(0),f[m+1]=255&v.charCodeAt(1),f[m+2]=255&v.charCodeAt(2),f[m+3]=255&v.charCodeAt(3);let i=0;for(n=c[h],a=c[h+1];n<a;n+=4)i=i+(0,t.readUint32)(f,n)>>>0;e(f,m+4,i),e(f,m+8,c[h]),e(f,m+12,r[v].length),m+=16}return f}addTable(b,r){if(b in this.tables)throw new Error("Table "+b+" already exists");this.tables[b]=r}}I.OpenTypeFileBuilder=L},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Type1Font=void 0;var t=G(35),F=G(38),R=G(9),e=G(10),x=G(47),L=G(2);function P(b,r,w){const o=b.length,h=r.length,n=o-h;let a=w,p=!1;for(;a<n;){let v=0;for(;v<h&&b[a+v]===r[v];)v++;if(v>=h){for(a+=v;a<o&&(0,R.isWhiteSpace)(b[a]);)a++;p=!0;break}a++}return{found:p,length:a}}I.Type1Font=class{constructor(r,w,o){let h=o.length1,n=o.length2,a=w.peekBytes(6);const p=128===a[0]&&1===a[1];p&&(w.skip(6),h=a[5]<<24|a[4]<<16|a[3]<<8|a[2]);const v=function(S,s){const l=[101,101,120,101,99],A=S.pos;let k,u,M,O;try{k=S.getBytes(s),u=k.length}catch{}if(u===s&&(M=P(k,l,s-2*l.length),M.found&&M.length===s))return{stream:new e.Stream(k),length:s};for((0,L.warn)('Invalid "Length1" property in Type1 font -- trying to recover.'),S.pos=A;M=P(S.peekBytes(2048),l,0),0!==M.length;)if(S.pos+=M.length,M.found){O=S.pos-A;break}return S.pos=A,O?{stream:new e.Stream(S.getBytes(O)),length:O}:((0,L.warn)('Unable to recover "Length1" property in Type1 font -- using as is.'),{stream:new e.Stream(S.getBytes(s)),length:s})}(w,h);new x.Type1Parser(v.stream,!1,F.SEAC_ANALYSIS_ENABLED).extractFontHeader(o),p&&(a=w.getBytes(6),n=a[5]<<24|a[4]<<16|a[3]<<8|a[2]);const m=function(S,s){const l=S.getBytes();return{stream:new e.Stream(l),length:l.length}}(w),c=new x.Type1Parser(m.stream,!0,F.SEAC_ANALYSIS_ENABLED).extractFontProgram(o);for(const d in c.properties)o[d]=c.properties[d];const f=c.charstrings,y=this.getType2Charstrings(f),i=this.getType2Subrs(c.subrs);this.charstrings=f,this.data=this.wrap(r,y,this.charstrings,i,o),this.seacs=this.getSeacs(c.charstrings)}get numGlyphs(){return this.charstrings.length+1}getCharset(){const r=[".notdef"],w=this.charstrings;for(let o=0;o<w.length;o++)r.push(w[o].glyphName);return r}getGlyphMapping(r){const w=this.charstrings;if(r.composite){const p=Object.create(null);for(let v=0,m=w.length;v<m;v++)p[r.cMap.charCodeOf(v)]=v+1;return p}const o=[".notdef"];let h,n;for(n=0;n<w.length;n++)o.push(w[n].glyphName);const a=r.builtInEncoding;if(a){h=Object.create(null);for(const p in a)n=o.indexOf(a[p]),n>=0&&(h[p]=n)}return(0,F.type1FontGlyphMapping)(r,h,o)}hasGlyphId(r){return!(r<0||r>=this.numGlyphs)&&(0===r||this.charstrings[r-1].charstring.length>0)}getSeacs(r){const w=[];for(let o=0,h=r.length;o<h;o++){const n=r[o];n.seac&&(w[o+1]=n.seac)}return w}getType2Charstrings(r){const w=[];for(let o=0,h=r.length;o<h;o++)w.push(r[o].charstring);return w}getType2Subrs(r){let w=0;const o=r.length;w=o<1133?107:o<33769?1131:32768;const h=[];let n;for(n=0;n<w;n++)h.push([11]);for(n=0;n<o;n++)h.push(r[n]);return h}wrap(r,w,o,h,n){const a=new t.CFF;a.header=new t.CFFHeader(1,0,4,4),a.names=[r];const p=new t.CFFTopDict;p.setByName("version",391),p.setByName("Notice",392),p.setByName("FullName",393),p.setByName("FamilyName",394),p.setByName("Weight",395),p.setByName("Encoding",null),p.setByName("FontMatrix",n.fontMatrix),p.setByName("FontBBox",n.bbox),p.setByName("charset",null),p.setByName("CharStrings",null),p.setByName("Private",null),a.topDict=p;const v=new t.CFFStrings;v.add("Version 0.11"),v.add("See original notice"),v.add(r),v.add(r),v.add("Medium"),a.strings=v,a.globalSubrIndex=new t.CFFIndex;const m=w.length,c=[".notdef"];let f,y;for(f=0;f<m;f++){const l=o[f].glyphName;-1===t.CFFStandardStrings.indexOf(l)&&v.add(l),c.push(l)}a.charset=new t.CFFCharset(!1,0,c);const i=new t.CFFIndex;for(i.add([139,14]),f=0;f<m;f++)i.add(w[f]);a.charStrings=i;const d=new t.CFFPrivateDict;d.setByName("Subrs",null);const S=["BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StemSnapH","StemSnapV","BlueShift","BlueFuzz","BlueScale","LanguageGroup","ExpansionFactor","ForceBold","StdHW","StdVW"];for(f=0,y=S.length;f<y;f++){const l=S[f];if(!(l in n.privateData))continue;const A=n.privateData[l];if(Array.isArray(A))for(let k=A.length-1;k>0;k--)A[k]-=A[k-1];d.setByName(l,A)}a.topDict.privateDict=d;const s=new t.CFFIndex;for(f=0,y=h.length;f<y;f++)s.add(h[f]);return d.subrsIndex=s,new t.CFFCompiler(a).compile()}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Type1Parser=void 0;var t=G(37),F=G(9),R=G(10),e=G(2);const x=function(){const b=[4],r=[5],w=[6],o=[7],h=[8],n=[12,35],a=[14],p=[21],v=[22],m=[30],c=[31];return class{constructor(){this.width=0,this.lsb=0,this.flexing=!1,this.output=[],this.stack=[]}convert(y,i,d){const S=y.length;let s,l,A,k=!1;for(let u=0;u<S;u++){let M=y[u];if(M<32){switch(12===M&&(M=(M<<8)+y[++u]),M){case 1:case 3:case 9:case 3072:case 3073:case 3074:case 3105:this.stack=[];break;case 4:if(this.flexing){if(this.stack.length<1){k=!0;break}const H=this.stack.pop();this.stack.push(0,H);break}k=this.executeCommand(1,b);break;case 5:k=this.executeCommand(2,r);break;case 6:k=this.executeCommand(1,w);break;case 7:k=this.executeCommand(1,o);break;case 8:k=this.executeCommand(6,h);break;case 10:if(this.stack.length<1){k=!0;break}if(A=this.stack.pop(),!i[A]){k=!0;break}k=this.convert(i[A],i,d);break;case 11:return k;case 13:if(this.stack.length<2){k=!0;break}s=this.stack.pop(),l=this.stack.pop(),this.lsb=l,this.width=s,this.stack.push(s,l),k=this.executeCommand(2,v);break;case 14:this.output.push(a[0]);break;case 21:if(this.flexing)break;k=this.executeCommand(2,p);break;case 22:if(this.flexing){this.stack.push(0);break}k=this.executeCommand(1,v);break;case 30:k=this.executeCommand(4,m);break;case 31:k=this.executeCommand(4,c);break;case 3078:if(d){const H=this.stack[this.stack.length-5];this.seac=this.stack.splice(-4,4),this.seac[0]+=this.lsb-H,k=this.executeCommand(0,a)}else k=this.executeCommand(4,a);break;case 3079:if(this.stack.length<4){k=!0;break}this.stack.pop(),s=this.stack.pop();const O=this.stack.pop();l=this.stack.pop(),this.lsb=l,this.width=s,this.stack.push(s,l,O),k=this.executeCommand(3,p);break;case 3084:if(this.stack.length<2){k=!0;break}const C=this.stack.pop(),N=this.stack.pop();this.stack.push(N/C);break;case 3088:if(this.stack.length<2){k=!0;break}A=this.stack.pop();const X=this.stack.pop();if(0===A&&3===X){const H=this.stack.splice(this.stack.length-17,17);this.stack.push(H[2]+H[0],H[3]+H[1],H[4],H[5],H[6],H[7],H[8],H[9],H[10],H[11],H[12],H[13],H[14]),k=this.executeCommand(13,n,!0),this.flexing=!1,this.stack.push(H[15],H[16])}else 1===A&&0===X&&(this.flexing=!0);break;case 3089:break;default:(0,e.warn)('Unknown type 1 charstring command of "'+M+'"')}if(k)break}else M<=246?M-=139:M=M<=250?256*(M-247)+y[++u]+108:M<=254?-256*(M-251)-y[++u]-108:(255&y[++u])<<24|(255&y[++u])<<16|(255&y[++u])<<8|(255&y[++u])<<0,this.stack.push(M)}return k}executeCommand(y,i,d){const S=this.stack.length;if(y>S)return!0;const s=S-y;for(let l=s;l<S;l++){let A=this.stack[l];Number.isInteger(A)?this.output.push(28,A>>8&255,255&A):(A=65536*A|0,this.output.push(255,A>>24&255,A>>16&255,A>>8&255,255&A))}return this.output.push.apply(this.output,i),d?this.stack.splice(s,y):this.stack.length=0,!1}}}(),L=function(){function b(o){return o>=48&&o<=57||o>=65&&o<=70||o>=97&&o<=102}function r(o,h,n){if(n>=o.length)return new Uint8Array(0);let a,p,v=0|h;for(a=0;a<n;a++)v=52845*(o[a]+v)+22719&65535;const m=o.length-n,c=new Uint8Array(m);for(a=n,p=0;p<m;a++,p++){const f=o[a];c[p]=f^v>>8,v=52845*(f+v)+22719&65535}return c}function w(o){return 47===o||91===o||93===o||123===o||125===o||40===o||41===o}return class{constructor(h,n,a){if(n){const p=h.getBytes(),v=!((b(p[0])||(0,F.isWhiteSpace)(p[0]))&&b(p[1])&&b(p[2])&&b(p[3])&&b(p[4])&&b(p[5])&&b(p[6])&&b(p[7]));h=new R.Stream(v?r(p,55665,4):function(c,f,y){let i=55665;const d=c.length,S=new Uint8Array(d>>>1);let s,l;for(s=0,l=0;s<d;s++){const A=c[s];if(!b(A))continue;let k;for(s++;s<d&&!b(k=c[s]);)s++;if(s<d){const u=parseInt(String.fromCharCode(A,k),16);S[l++]=u^i>>8,i=52845*(u+i)+22719&65535}}return S.slice(4,l)}(p))}this.seacAnalysisEnabled=!!a,this.stream=h,this.nextChar()}readNumberArray(){this.getToken();const h=[];for(;;){const n=this.getToken();if(null===n||"]"===n||"}"===n)break;h.push(parseFloat(n||0))}return h}readNumber(){const h=this.getToken();return parseFloat(h||0)}readInt(){const h=this.getToken();return 0|parseInt(h||0,10)}readBoolean(){return"true"===this.getToken()?1:0}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let h=!1,n=this.currentChar;for(;;){if(-1===n)return null;if(h)10!==n&&13!==n||(h=!1);else if(37===n)h=!0;else if(!(0,F.isWhiteSpace)(n))break;n=this.nextChar()}if(w(n))return this.nextChar(),String.fromCharCode(n);let a="";do{a+=String.fromCharCode(n),n=this.nextChar()}while(n>=0&&!(0,F.isWhiteSpace)(n)&&!w(n));return a}readCharStrings(h,n){return-1===n?h:r(h,4330,n)}extractFontProgram(h){const n=this.stream,a=[],p=[],v=Object.create(null);v.lenIV=4;const m={subrs:[],charstrings:[],properties:{privateData:v}};let c,f,y,i,d;for(;null!==(c=this.getToken());)if("/"===c)switch(c=this.getToken(),c){case"CharStrings":for(this.getToken(),this.getToken(),this.getToken(),this.getToken();c=this.getToken(),null!==c&&"end"!==c;){if("/"!==c)continue;const s=this.getToken();f=this.readInt(),this.getToken(),y=f>0?n.getBytes(f):new Uint8Array(0),i=m.properties.privateData.lenIV,d=this.readCharStrings(y,i),this.nextChar(),c=this.getToken(),"noaccess"===c&&this.getToken(),p.push({glyph:s,encoded:d})}break;case"Subrs":for(this.readInt(),this.getToken();"dup"===this.getToken();){const s=this.readInt();f=this.readInt(),this.getToken(),y=f>0?n.getBytes(f):new Uint8Array(0),i=m.properties.privateData.lenIV,d=this.readCharStrings(y,i),this.nextChar(),c=this.getToken(),"noaccess"===c&&this.getToken(),a[s]=d}break;case"BlueValues":case"OtherBlues":case"FamilyBlues":case"FamilyOtherBlues":this.readNumberArray();break;case"StemSnapH":case"StemSnapV":m.properties.privateData[c]=this.readNumberArray();break;case"StdHW":case"StdVW":m.properties.privateData[c]=this.readNumberArray()[0];break;case"BlueShift":case"lenIV":case"BlueFuzz":case"BlueScale":case"LanguageGroup":case"ExpansionFactor":m.properties.privateData[c]=this.readNumber();break;case"ForceBold":m.properties.privateData[c]=this.readBoolean()}for(let S=0;S<p.length;S++){const s=p[S].glyph;d=p[S].encoded;const l=new x,A=l.convert(d,a,this.seacAnalysisEnabled);let k=l.output;A&&(k=[14]);const u={glyphName:s,charstring:k,width:l.width,lsb:l.lsb,seac:l.seac};if(".notdef"===s?m.charstrings.unshift(u):m.charstrings.push(u),h.builtInEncoding){const M=h.builtInEncoding.indexOf(s);M>-1&&void 0===h.widths[M]&&M>=h.firstChar&&M<=h.lastChar&&(h.widths[M]=l.width)}}return m}extractFontHeader(h){let n;for(;null!==(n=this.getToken());)if("/"===n)switch(n=this.getToken(),n){case"FontMatrix":const a=this.readNumberArray();h.fontMatrix=a;break;case"Encoding":const p=this.getToken();let v;if(/^\d+$/.test(p)){v=[];const c=0|parseInt(p,10);this.getToken();for(let f=0;f<c;f++){for(n=this.getToken();"dup"!==n&&"def"!==n;)if(n=this.getToken(),null===n)return;if("def"===n)break;const y=this.readInt();this.getToken();const i=this.getToken();v[y]=i,this.getToken()}}else v=(0,t.getEncoding)(p);h.builtInEncoding=v;break;case"FontBBox":const m=this.readNumberArray();h.ascent=Math.max(m[3],m[1]),h.descent=Math.min(m[1],m[3]),h.ascentScaled=!0}}}}();I.Type1Parser=L},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getTilingPatternIR=function(c,f,y){const i=f.getArray("Matrix"),d=t.Util.normalizeRect(f.getArray("BBox")),S=f.get("XStep"),s=f.get("YStep"),l=f.get("PaintType"),A=f.get("TilingType");if(d[2]-d[0]==0||d[3]-d[1]==0)throw new t.FormatError(`Invalid getTilingPatternIR /BBox array: [${d}].`);return["TilingPattern",y,c,i,d,S,s,l,A]},I.Pattern=void 0;var t=G(2),F=G(14),R=G(5),e=G(9);I.Pattern=class{constructor(){(0,t.unreachable)("Cannot initialize Pattern.")}static parseShading(c,f,y,i,d,S,s){const l=(0,R.isStream)(c)?c.dict:c,A=l.get("ShadingType");try{switch(A){case 2:case 3:return new h(l,f,y,i,S,s);case 4:case 5:case 6:case 7:return new p(c,f,y,i,S,s);default:throw new t.FormatError("Unsupported ShadingType: "+A)}}catch(k){if(k instanceof e.MissingDataException)throw k;return d.send("UnsupportedFeature",{featureId:t.UNSUPPORTED_FEATURES.shadingPattern}),(0,t.warn)(k),new v}}};class o{static get SMALL_NUMBER(){return(0,t.shadow)(this,"SMALL_NUMBER",1e-6)}constructor(){this.constructor===o&&(0,t.unreachable)("Cannot initialize BaseShading.")}getIR(){(0,t.unreachable)("Abstract method `getIR` called.")}}class h extends o{constructor(c,f,y,i,d,S){super(),this.matrix=f,this.coordsArr=c.getArray("Coords"),this.shadingType=c.get("ShadingType");const s=F.ColorSpace.parse({cs:c.getRaw("ColorSpace")||c.getRaw("CS"),xref:y,resources:i,pdfFunctionFactory:d,localColorSpaceCache:S}),l=c.getArray("BBox");this.bbox=Array.isArray(l)&&4===l.length?t.Util.normalizeRect(l):null;let A=0,k=1;if(c.has("Domain")){const T=c.getArray("Domain");A=T[0],k=T[1]}let u=!1,M=!1;if(c.has("Extend")){const T=c.getArray("Extend");u=T[0],M=T[1]}if(!(3!==this.shadingType||u&&M)){const[T,U,q,E,$,B]=this.coordsArr,W=Math.hypot(T-E,U-$);q<=B+W&&B<=q+W&&(0,t.warn)("Unsupported radial gradient.")}this.extendStart=u,this.extendEnd=M;const O=c.getRaw("Function"),C=d.createFromArray(O),N=(k-A)/10,X=this.colorStops=[];if(A>=k||N<=0)return void(0,t.info)("Bad shading domain.");const H=new Float32Array(s.numComps),D=new Float32Array(1);let j;for(let T=0;T<=10;T++){D[0]=A+T*N,C(D,0,H,0),j=s.getRgb(H,0);const U=t.Util.makeHexColor(j[0],j[1],j[2]);X.push([T/10,U])}let _="transparent";c.has("Background")&&(j=s.getRgb(c.get("Background"),0),_=t.Util.makeHexColor(j[0],j[1],j[2])),u||(X.unshift([0,_]),X[1][0]+=o.SMALL_NUMBER),M||(X[X.length-1][0]-=o.SMALL_NUMBER,X.push([1,_])),this.colorStops=X}getIR(){const c=this.coordsArr,f=this.shadingType;let y,i,d,S,s;return 2===f?(i=[c[0],c[1]],d=[c[2],c[3]],S=null,s=null,y="axial"):3===f?(i=[c[0],c[1]],d=[c[3],c[4]],S=c[2],s=c[5],y="radial"):(0,t.unreachable)(`getPattern type unknown: ${f}`),["RadialAxial",y,this.bbox,this.colorStops,i,d,S,s,this.matrix]}}class n{constructor(c,f){this.stream=c,this.context=f,this.buffer=0,this.bufferLength=0,this.tmpCompsBuf=new Float32Array(f.numComps),this.tmpCsCompsBuf=f.colorFn?new Float32Array(f.colorSpace.numComps):this.tmpCompsBuf}get hasData(){if(this.stream.end)return this.stream.pos<this.stream.end;if(this.bufferLength>0)return!0;const c=this.stream.getByte();return!(c<0||(this.buffer=c,this.bufferLength=8,0))}readBits(c){let f=this.buffer,y=this.bufferLength;if(32===c){if(0===y)return(this.stream.getByte()<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte())>>>0;f=f<<24|this.stream.getByte()<<16|this.stream.getByte()<<8|this.stream.getByte();const i=this.stream.getByte();return this.buffer=i&(1<<y)-1,(f<<8-y|(255&i)>>y)>>>0}if(8===c&&0===y)return this.stream.getByte();for(;y<c;)f=f<<8|this.stream.getByte(),y+=8;return y-=c,this.bufferLength=y,this.buffer=f&(1<<y)-1,f>>y}align(){this.buffer=0,this.bufferLength=0}readFlag(){return this.readBits(this.context.bitsPerFlag)}readCoordinate(){const c=this.context.bitsPerCoordinate,f=this.readBits(c),y=this.readBits(c),i=this.context.decode,d=c<32?1/((1<<c)-1):2.3283064365386963e-10;return[f*d*(i[1]-i[0])+i[0],y*d*(i[3]-i[2])+i[2]]}readComponents(){const c=this.context.numComps,f=this.context.bitsPerComponent,y=f<32?1/((1<<f)-1):2.3283064365386963e-10,i=this.context.decode,d=this.tmpCompsBuf;for(let s=0,l=4;s<c;s++,l+=2){const A=this.readBits(f);d[s]=A*y*(i[l+1]-i[l])+i[l]}const S=this.tmpCsCompsBuf;return this.context.colorFn&&this.context.colorFn(d,0,S,0),this.context.colorSpace.getRgb(S,0)}}const a=function(){const c=[];return function(f){return c[f]||(c[f]=function(i){const d=[];for(let S=0;S<=i;S++){const s=S/i,l=1-s;d.push(new Float32Array([l*l*l,3*s*l*l,3*s*s*l,s*s*s]))}return d}(f)),c[f]}}();class p extends o{static get MIN_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,t.shadow)(this,"MIN_SPLIT_PATCH_CHUNKS_AMOUNT",3)}static get MAX_SPLIT_PATCH_CHUNKS_AMOUNT(){return(0,t.shadow)(this,"MAX_SPLIT_PATCH_CHUNKS_AMOUNT",20)}static get TRIANGLE_DENSITY(){return(0,t.shadow)(this,"TRIANGLE_DENSITY",20)}constructor(c,f,y,i,d,S){if(super(),!(0,R.isStream)(c))throw new t.FormatError("Mesh data is not a stream");const s=c.dict;this.matrix=f,this.shadingType=s.get("ShadingType");const l=s.getArray("BBox");this.bbox=Array.isArray(l)&&4===l.length?t.Util.normalizeRect(l):null;const A=F.ColorSpace.parse({cs:s.getRaw("ColorSpace")||s.getRaw("CS"),xref:y,resources:i,pdfFunctionFactory:d,localColorSpaceCache:S});this.background=s.has("Background")?A.getRgb(s.get("Background"),0):null;const k=s.getRaw("Function"),u=k?d.createFromArray(k):null;this.coords=[],this.colors=[],this.figures=[];const M={bitsPerCoordinate:s.get("BitsPerCoordinate"),bitsPerComponent:s.get("BitsPerComponent"),bitsPerFlag:s.get("BitsPerFlag"),decode:s.getArray("Decode"),colorFn:u,colorSpace:A,numComps:u?1:A.numComps},O=new n(c,M);let C=!1;switch(this.shadingType){case 4:this._decodeType4Shading(O);break;case 5:const N=0|s.get("VerticesPerRow");if(N<2)throw new t.FormatError("Invalid VerticesPerRow");this._decodeType5Shading(O,N);break;case 6:this._decodeType6Shading(O),C=!0;break;case 7:this._decodeType7Shading(O),C=!0;break;default:(0,t.unreachable)("Unsupported mesh type.")}if(C){this._updateBounds();for(let N=0,X=this.figures.length;N<X;N++)this._buildFigureFromPatch(N)}this._updateBounds(),this._packData()}_decodeType4Shading(c){const f=this.coords,y=this.colors,i=[],d=[];let S=0;for(;c.hasData;){const s=c.readFlag(),l=c.readCoordinate(),A=c.readComponents();if(0===S){if(!(0<=s&&s<=2))throw new t.FormatError("Unknown type4 flag");switch(s){case 0:S=3;break;case 1:d.push(d[d.length-2],d[d.length-1]),S=1;break;case 2:d.push(d[d.length-3],d[d.length-1]),S=1}i.push(s)}d.push(f.length),f.push(l),y.push(A),S--,c.align()}this.figures.push({type:"triangles",coords:new Int32Array(d),colors:new Int32Array(d)})}_decodeType5Shading(c,f){const y=this.coords,i=this.colors,d=[];for(;c.hasData;){const S=c.readCoordinate(),s=c.readComponents();d.push(y.length),y.push(S),i.push(s)}this.figures.push({type:"lattice",coords:new Int32Array(d),colors:new Int32Array(d),verticesPerRow:f})}_decodeType6Shading(c){const f=this.coords,y=this.colors,i=new Int32Array(16),d=new Int32Array(4);for(;c.hasData;){const S=c.readFlag();if(!(0<=S&&S<=3))throw new t.FormatError("Unknown type6 flag");const s=f.length;for(let O=0,C=0!==S?8:12;O<C;O++)f.push(c.readCoordinate());const l=y.length;for(let O=0,C=0!==S?2:4;O<C;O++)y.push(c.readComponents());let A,k,u,M;switch(S){case 0:i[12]=s+3,i[13]=s+4,i[14]=s+5,i[15]=s+6,i[8]=s+2,i[11]=s+7,i[4]=s+1,i[7]=s+8,i[0]=s,i[1]=s+11,i[2]=s+10,i[3]=s+9,d[2]=l+1,d[3]=l+2,d[0]=l,d[1]=l+3;break;case 1:A=i[12],k=i[13],u=i[14],M=i[15],i[12]=M,i[13]=s+0,i[14]=s+1,i[15]=s+2,i[8]=u,i[11]=s+3,i[4]=k,i[7]=s+4,i[0]=A,i[1]=s+7,i[2]=s+6,i[3]=s+5,A=d[2],k=d[3],d[2]=k,d[3]=l,d[0]=A,d[1]=l+1;break;case 2:A=i[15],k=i[11],i[12]=i[3],i[13]=s+0,i[14]=s+1,i[15]=s+2,i[8]=i[7],i[11]=s+3,i[4]=k,i[7]=s+4,i[0]=A,i[1]=s+7,i[2]=s+6,i[3]=s+5,A=d[3],d[2]=d[1],d[3]=l,d[0]=A,d[1]=l+1;break;case 3:i[12]=i[0],i[13]=s+0,i[14]=s+1,i[15]=s+2,i[8]=i[1],i[11]=s+3,i[4]=i[2],i[7]=s+4,i[0]=i[3],i[1]=s+7,i[2]=s+6,i[3]=s+5,d[2]=d[0],d[3]=l,d[0]=d[1],d[1]=l+1}i[5]=f.length,f.push([(-4*f[i[0]][0]-f[i[15]][0]+6*(f[i[4]][0]+f[i[1]][0])-2*(f[i[12]][0]+f[i[3]][0])+3*(f[i[13]][0]+f[i[7]][0]))/9,(-4*f[i[0]][1]-f[i[15]][1]+6*(f[i[4]][1]+f[i[1]][1])-2*(f[i[12]][1]+f[i[3]][1])+3*(f[i[13]][1]+f[i[7]][1]))/9]),i[6]=f.length,f.push([(-4*f[i[3]][0]-f[i[12]][0]+6*(f[i[2]][0]+f[i[7]][0])-2*(f[i[0]][0]+f[i[15]][0])+3*(f[i[4]][0]+f[i[14]][0]))/9,(-4*f[i[3]][1]-f[i[12]][1]+6*(f[i[2]][1]+f[i[7]][1])-2*(f[i[0]][1]+f[i[15]][1])+3*(f[i[4]][1]+f[i[14]][1]))/9]),i[9]=f.length,f.push([(-4*f[i[12]][0]-f[i[3]][0]+6*(f[i[8]][0]+f[i[13]][0])-2*(f[i[0]][0]+f[i[15]][0])+3*(f[i[11]][0]+f[i[1]][0]))/9,(-4*f[i[12]][1]-f[i[3]][1]+6*(f[i[8]][1]+f[i[13]][1])-2*(f[i[0]][1]+f[i[15]][1])+3*(f[i[11]][1]+f[i[1]][1]))/9]),i[10]=f.length,f.push([(-4*f[i[15]][0]-f[i[0]][0]+6*(f[i[11]][0]+f[i[14]][0])-2*(f[i[12]][0]+f[i[3]][0])+3*(f[i[2]][0]+f[i[8]][0]))/9,(-4*f[i[15]][1]-f[i[0]][1]+6*(f[i[11]][1]+f[i[14]][1])-2*(f[i[12]][1]+f[i[3]][1])+3*(f[i[2]][1]+f[i[8]][1]))/9]),this.figures.push({type:"patch",coords:new Int32Array(i),colors:new Int32Array(d)})}}_decodeType7Shading(c){const f=this.coords,y=this.colors,i=new Int32Array(16),d=new Int32Array(4);for(;c.hasData;){const S=c.readFlag();if(!(0<=S&&S<=3))throw new t.FormatError("Unknown type7 flag");const s=f.length;for(let O=0,C=0!==S?12:16;O<C;O++)f.push(c.readCoordinate());const l=y.length;for(let O=0,C=0!==S?2:4;O<C;O++)y.push(c.readComponents());let A,k,u,M;switch(S){case 0:i[12]=s+3,i[13]=s+4,i[14]=s+5,i[15]=s+6,i[8]=s+2,i[9]=s+13,i[10]=s+14,i[11]=s+7,i[4]=s+1,i[5]=s+12,i[6]=s+15,i[7]=s+8,i[0]=s,i[1]=s+11,i[2]=s+10,i[3]=s+9,d[2]=l+1,d[3]=l+2,d[0]=l,d[1]=l+3;break;case 1:A=i[12],k=i[13],u=i[14],M=i[15],i[12]=M,i[13]=s+0,i[14]=s+1,i[15]=s+2,i[8]=u,i[9]=s+9,i[10]=s+10,i[11]=s+3,i[4]=k,i[5]=s+8,i[6]=s+11,i[7]=s+4,i[0]=A,i[1]=s+7,i[2]=s+6,i[3]=s+5,A=d[2],k=d[3],d[2]=k,d[3]=l,d[0]=A,d[1]=l+1;break;case 2:A=i[15],k=i[11],i[12]=i[3],i[13]=s+0,i[14]=s+1,i[15]=s+2,i[8]=i[7],i[9]=s+9,i[10]=s+10,i[11]=s+3,i[4]=k,i[5]=s+8,i[6]=s+11,i[7]=s+4,i[0]=A,i[1]=s+7,i[2]=s+6,i[3]=s+5,A=d[3],d[2]=d[1],d[3]=l,d[0]=A,d[1]=l+1;break;case 3:i[12]=i[0],i[13]=s+0,i[14]=s+1,i[15]=s+2,i[8]=i[1],i[9]=s+9,i[10]=s+10,i[11]=s+3,i[4]=i[2],i[5]=s+8,i[6]=s+11,i[7]=s+4,i[0]=i[3],i[1]=s+7,i[2]=s+6,i[3]=s+5,d[2]=d[0],d[3]=l,d[0]=d[1],d[1]=l+1}this.figures.push({type:"patch",coords:new Int32Array(i),colors:new Int32Array(d)})}}_buildFigureFromPatch(c){const f=this.figures[c];(0,t.assert)("patch"===f.type,"Unexpected patch mesh figure");const y=this.coords,i=this.colors,d=f.coords,S=f.colors,s=Math.min(y[d[0]][0],y[d[3]][0],y[d[12]][0],y[d[15]][0]),l=Math.min(y[d[0]][1],y[d[3]][1],y[d[12]][1],y[d[15]][1]),A=Math.max(y[d[0]][0],y[d[3]][0],y[d[12]][0],y[d[15]][0]),k=Math.max(y[d[0]][1],y[d[3]][1],y[d[12]][1],y[d[15]][1]);let u=Math.ceil((A-s)*p.TRIANGLE_DENSITY/(this.bounds[2]-this.bounds[0]));u=Math.max(p.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(p.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,u));let M=Math.ceil((k-l)*p.TRIANGLE_DENSITY/(this.bounds[3]-this.bounds[1]));M=Math.max(p.MIN_SPLIT_PATCH_CHUNKS_AMOUNT,Math.min(p.MAX_SPLIT_PATCH_CHUNKS_AMOUNT,M));const O=u+1,C=new Int32Array((M+1)*O),N=new Int32Array((M+1)*O);let X=0;const H=new Uint8Array(3),D=new Uint8Array(3),j=i[S[0]],_=i[S[1]],T=i[S[2]],U=i[S[3]],q=a(M),E=a(u);for(let $=0;$<=M;$++){H[0]=(j[0]*(M-$)+T[0]*$)/M|0,H[1]=(j[1]*(M-$)+T[1]*$)/M|0,H[2]=(j[2]*(M-$)+T[2]*$)/M|0,D[0]=(_[0]*(M-$)+U[0]*$)/M|0,D[1]=(_[1]*(M-$)+U[1]*$)/M|0,D[2]=(_[2]*(M-$)+U[2]*$)/M|0;for(let B=0;B<=u;B++,X++){if(!(0!==$&&$!==M||0!==B&&B!==u))continue;let W=0,V=0,J=0;for(let z=0;z<=3;z++)for(let Q=0;Q<=3;Q++,J++){const re=q[$][z]*E[B][Q];W+=y[d[J]][0]*re,V+=y[d[J]][1]*re}C[X]=y.length,y.push([W,V]),N[X]=i.length;const Y=new Uint8Array(3);Y[0]=(H[0]*(u-B)+D[0]*B)/u|0,Y[1]=(H[1]*(u-B)+D[1]*B)/u|0,Y[2]=(H[2]*(u-B)+D[2]*B)/u|0,i.push(Y)}}C[0]=d[0],N[0]=S[0],C[u]=d[3],N[u]=S[1],C[O*M]=d[12],N[O*M]=S[2],C[O*M+u]=d[15],N[O*M+u]=S[3],this.figures[c]={type:"lattice",coords:C,colors:N,verticesPerRow:O}}_updateBounds(){let c=this.coords[0][0],f=this.coords[0][1],y=c,i=f;for(let d=1,S=this.coords.length;d<S;d++){const s=this.coords[d][0],l=this.coords[d][1];c=c>s?s:c,f=f>l?l:f,y=y<s?s:y,i=i<l?l:i}this.bounds=[c,f,y,i]}_packData(){let c,f,y,i;const d=this.coords,S=new Float32Array(2*d.length);for(c=0,y=0,f=d.length;c<f;c++){const k=d[c];S[y++]=k[0],S[y++]=k[1]}this.coords=S;const s=this.colors,l=new Uint8Array(3*s.length);for(c=0,y=0,f=s.length;c<f;c++){const k=s[c];l[y++]=k[0],l[y++]=k[1],l[y++]=k[2]}this.colors=l;const A=this.figures;for(c=0,f=A.length;c<f;c++){const k=A[c],u=k.coords,M=k.colors;for(y=0,i=u.length;y<i;y++)u[y]*=2,M[y]*=3}}getIR(){return["Mesh",this.shadingType,this.coords,this.colors,this.figures,this.bounds,this.matrix,this.bbox,this.background]}}class v extends o{getIR(){return["Dummy"]}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.isPDFFunction=function(o){let h;if("object"!=typeof o)return!1;if((0,t.isDict)(o))h=o;else{if(!(0,t.isStream)(o))return!1;h=o.dict}return h.has("FunctionType")},I.PostScriptEvaluator=I.PostScriptCompiler=I.PDFFunctionFactory=void 0;var t=G(5),F=G(2),R=G(50),e=G(51);function x(w){if(!Array.isArray(w))return null;const o=w.length;for(let h=0;h<o;h++)if("number"!=typeof w[h]){const n=new Array(o);for(let a=0;a<o;a++)n[a]=+w[a];return n}return w}I.PDFFunctionFactory=class{constructor({xref:o,isEvalSupported:h=!0}){this.xref=o,this.isEvalSupported=!1!==h}create(o){const h=this.getCached(o);if(h)return h;const n=L.parse({xref:this.xref,isEvalSupported:this.isEvalSupported,fn:o instanceof t.Ref?this.xref.fetch(o):o});return this._cache(o,n),n}createFromArray(o){const h=this.getCached(o);if(h)return h;const n=L.parseArray({xref:this.xref,isEvalSupported:this.isEvalSupported,fnObj:o instanceof t.Ref?this.xref.fetch(o):o});return this._cache(o,n),n}getCached(o){let h;if(o instanceof t.Ref?h=o:o instanceof t.Dict?h=o.objId:(0,t.isStream)(o)&&(h=o.dict&&o.dict.objId),h){const n=this._localFunctionCache.getByRef(h);if(n)return n}return null}_cache(o,h){if(!h)throw new Error('PDFFunctionFactory._cache - expected "parsedFunction" argument.');let n;o instanceof t.Ref?n=o:o instanceof t.Dict?n=o.objId:(0,t.isStream)(o)&&(n=o.dict&&o.dict.objId),n&&this._localFunctionCache.set(null,n,h)}get _localFunctionCache(){return(0,F.shadow)(this,"_localFunctionCache",new e.LocalFunctionCache)}};const L={getSampleArray(o,h,n,a){let p,v,m=1;for(p=0,v=o.length;p<v;p++)m*=o[p];m*=h;const c=new Array(m);let f=0,y=0;const i=1/(2**n-1),d=a.getBytes((m*n+7)/8);let S=0;for(p=0;p<m;p++){for(;f<n;)y<<=8,y|=d[S++],f+=8;f-=n,c[p]=(y>>f)*i,y&=(1<<f)-1}return c},getIR({xref:o,isEvalSupported:h,fn:n}){let a=n.dict;a||(a=n);const p=[this.constructSampled,null,this.constructInterpolated,this.constructStiched,this.constructPostScript][a.get("FunctionType")];if(!p)throw new F.FormatError("Unknown type of function");return p.call(this,{xref:o,isEvalSupported:h,fn:n,dict:a})},fromIR({xref:o,isEvalSupported:h,IR:n}){switch(n[0]){case 0:return this.constructSampledFromIR({xref:o,isEvalSupported:h,IR:n});case 2:return this.constructInterpolatedFromIR({xref:o,isEvalSupported:h,IR:n});case 3:return this.constructStichedFromIR({xref:o,isEvalSupported:h,IR:n});default:return this.constructPostScriptFromIR({xref:o,isEvalSupported:h,IR:n})}},parse({xref:o,isEvalSupported:h,fn:n}){const a=this.getIR({xref:o,isEvalSupported:h,fn:n});return this.fromIR({xref:o,isEvalSupported:h,IR:a})},parseArray({xref:o,isEvalSupported:h,fnObj:n}){if(!Array.isArray(n))return this.parse({xref:o,isEvalSupported:h,fn:n});const a=[];for(let p=0,v=n.length;p<v;p++)a.push(this.parse({xref:o,isEvalSupported:h,fn:o.fetchIfRef(n[p])}));return function(p,v,m,c){for(let f=0,y=a.length;f<y;f++)a[f](p,v,m,c+f)}},constructSampled({fn:n,dict:a}){function p(l){const A=l.length,k=[];let u=0;for(let M=0;M<A;M+=2)k[u]=[l[M],l[M+1]],++u;return k}let v=x(a.getArray("Domain")),m=x(a.getArray("Range"));if(!v||!m)throw new F.FormatError("No domain or range");const c=v.length/2,f=m.length/2;v=p(v),m=p(m);const y=x(a.getArray("Size")),i=a.get("BitsPerSample"),d=a.get("Order")||1;1!==d&&(0,F.info)("No support for cubic spline interpolation: "+d);let S=x(a.getArray("Encode"));if(S)S=p(S);else{S=[];for(let l=0;l<c;++l)S.push([0,y[l]-1])}let s=x(a.getArray("Decode"));return s=s?p(s):m,[0,c,v,S,s,this.getSampleArray(y,f,i,n),y,f,2**i-1,m]},constructSampledFromIR({IR:n}){function a(p,v,m,c,f){return c+(f-c)/(m-v)*(p-v)}return function(v,m,c,f){const y=n[1],i=n[2],d=n[3],S=n[4],s=n[5],l=n[6],A=n[7],k=n[9],u=1<<y,M=new Float64Array(u),O=new Uint32Array(u);let C,N;for(N=0;N<u;N++)M[N]=1;let X=A,H=1;for(C=0;C<y;++C){const D=i[C][0],j=i[C][1];let _=a(Math.min(Math.max(v[m+C],D),j),D,j,d[C][0],d[C][1]);const T=l[C];_=Math.min(Math.max(_,0),T-1);const U=_<T-1?Math.floor(_):_-1,q=U+1-_,E=_-U,$=U*X,B=$+X;for(N=0;N<u;N++)N&H?(M[N]*=E,O[N]+=B):(M[N]*=q,O[N]+=$);X*=T,H<<=1}for(N=0;N<A;++N){let D=0;for(C=0;C<u;C++)D+=s[O[C]+N]*M[C];D=a(D,0,1,S[N][0],S[N][1]),c[f+N]=Math.min(Math.max(D,k[N][0]),k[N][1])}}},constructInterpolated({dict:a}){const p=x(a.getArray("C0"))||[0],v=x(a.getArray("C1"))||[1],m=a.get("N"),c=p.length,f=[];for(let y=0;y<c;++y)f.push(v[y]-p[y]);return[2,p,f,m]},constructInterpolatedFromIR({IR:n}){const a=n[1],p=n[2],v=n[3],m=p.length;return function(f,y,i,d){const S=1===v?f[y]:f[y]**v;for(let s=0;s<m;++s)i[d+s]=a[s]+S*p[s]}},constructStiched({xref:o,isEvalSupported:h,dict:a}){const p=x(a.getArray("Domain"));if(!p)throw new F.FormatError("No domain");if(p.length/2!=1)throw new F.FormatError("Bad domain for stiched function");const v=a.get("Functions"),m=[];for(let c=0,f=v.length;c<f;++c)m.push(this.parse({xref:o,isEvalSupported:h,fn:o.fetchIfRef(v[c])}));return[3,p,x(a.getArray("Bounds")),x(a.getArray("Encode")),m]},constructStichedFromIR({IR:n}){const a=n[1],p=n[2],v=n[3],m=n[4],c=new Float32Array(1);return function(y,i,d,S){const s=(X=a[0],(N=y[i])>(H=a[1])?N=H:N<X&&(N=X),N),l=p.length;var N,X,H;let A;for(A=0;A<l&&!(s<p[A]);++A);let k=a[0];A>0&&(k=p[A-1]);let u=a[1];A<p.length&&(u=p[A]);const M=v[2*A];c[0]=k===u?M:M+(s-k)*(v[2*A+1]-M)/(u-k),m[A](c,0,d,S)}},constructPostScript({fn:n,dict:a}){const p=x(a.getArray("Domain")),v=x(a.getArray("Range"));if(!p)throw new F.FormatError("No domain.");if(!v)throw new F.FormatError("No range.");const m=new R.PostScriptLexer(n);return[4,p,v,new R.PostScriptParser(m).parse()]},constructPostScriptFromIR({isEvalSupported:h,IR:n}){const a=n[1],p=n[2],v=n[3];if(h&&F.IsEvalSupportedCached.value){const S=(new r).compile(v,a,p);if(S)return new Function("src","srcOffset","dest","destOffset",S)}(0,F.info)("Unable to compile PS function");const m=p.length>>1,c=a.length>>1,f=new b(v),y=Object.create(null);let i=8192;const d=new Float32Array(c);return function(s,l,A,k){let u,M,O="";const C=d;for(u=0;u<c;u++)M=s[l+u],C[u]=M,O+=M+"_";const N=y[O];if(void 0!==N)return void A.set(N,k);const X=new Float32Array(m),H=f.execute(C),D=H.length-m;for(u=0;u<m;u++){M=H[D+u];let j=p[2*u];M<j?M=j:(j=p[2*u+1],M>j&&(M=j)),X[u]=M}i>0&&(i--,y[O]=X),A.set(X,k)}}};class b{constructor(o){this.operators=o}execute(o){const h=new class{constructor(h){this.stack=h?Array.prototype.slice.call(h,0):[]}push(h){if(this.stack.length>=100)throw new Error("PostScript function stack overflow.");this.stack.push(h)}pop(){if(this.stack.length<=0)throw new Error("PostScript function stack underflow.");return this.stack.pop()}copy(h){if(this.stack.length+h>=100)throw new Error("PostScript function stack overflow.");const n=this.stack;for(let a=n.length-h,p=h-1;p>=0;p--,a++)n.push(n[a])}index(h){this.push(this.stack[this.stack.length-h-1])}roll(h,n){const a=this.stack,p=a.length-h,v=a.length-1,m=p+(n-Math.floor(n/h)*h);for(let c=p,f=v;c<f;c++,f--){const y=a[c];a[c]=a[f],a[f]=y}for(let c=p,f=m-1;c<f;c++,f--){const y=a[c];a[c]=a[f],a[f]=y}for(let c=m,f=v;c<f;c++,f--){const y=a[c];a[c]=a[f],a[f]=y}}}(o);let n=0;const a=this.operators,p=a.length;let v,m,c;for(;n<p;)if(v=a[n++],"number"!=typeof v)switch(v){case"jz":c=h.pop(),m=h.pop(),m||(n=c);break;case"j":m=h.pop(),n=m;break;case"abs":m=h.pop(),h.push(Math.abs(m));break;case"add":c=h.pop(),m=h.pop(),h.push(m+c);break;case"and":c=h.pop(),m=h.pop(),(0,F.isBool)(m)&&(0,F.isBool)(c)?h.push(m&&c):h.push(m&c);break;case"atan":m=h.pop(),h.push(Math.atan(m));break;case"bitshift":c=h.pop(),m=h.pop(),h.push(m>0?m<<c:m>>c);break;case"ceiling":m=h.pop(),h.push(Math.ceil(m));break;case"copy":m=h.pop(),h.copy(m);break;case"cos":m=h.pop(),h.push(Math.cos(m));break;case"cvi":m=0|h.pop(),h.push(m);break;case"cvr":break;case"div":c=h.pop(),m=h.pop(),h.push(m/c);break;case"dup":h.copy(1);break;case"eq":c=h.pop(),m=h.pop(),h.push(m===c);break;case"exch":h.roll(2,1);break;case"exp":c=h.pop(),m=h.pop(),h.push(m**c);break;case"false":h.push(!1);break;case"floor":m=h.pop(),h.push(Math.floor(m));break;case"ge":c=h.pop(),m=h.pop(),h.push(m>=c);break;case"gt":c=h.pop(),m=h.pop(),h.push(m>c);break;case"idiv":c=h.pop(),m=h.pop(),h.push(m/c|0);break;case"index":m=h.pop(),h.index(m);break;case"le":c=h.pop(),m=h.pop(),h.push(m<=c);break;case"ln":m=h.pop(),h.push(Math.log(m));break;case"log":m=h.pop(),h.push(Math.log(m)/Math.LN10);break;case"lt":c=h.pop(),m=h.pop(),h.push(m<c);break;case"mod":c=h.pop(),m=h.pop(),h.push(m%c);break;case"mul":c=h.pop(),m=h.pop(),h.push(m*c);break;case"ne":c=h.pop(),m=h.pop(),h.push(m!==c);break;case"neg":m=h.pop(),h.push(-m);break;case"not":m=h.pop(),(0,F.isBool)(m)?h.push(!m):h.push(~m);break;case"or":c=h.pop(),m=h.pop(),(0,F.isBool)(m)&&(0,F.isBool)(c)?h.push(m||c):h.push(m|c);break;case"pop":h.pop();break;case"roll":c=h.pop(),m=h.pop(),h.roll(m,c);break;case"round":m=h.pop(),h.push(Math.round(m));break;case"sin":m=h.pop(),h.push(Math.sin(m));break;case"sqrt":m=h.pop(),h.push(Math.sqrt(m));break;case"sub":c=h.pop(),m=h.pop(),h.push(m-c);break;case"true":h.push(!0);break;case"truncate":m=h.pop(),m=m<0?Math.ceil(m):Math.floor(m),h.push(m);break;case"xor":c=h.pop(),m=h.pop(),(0,F.isBool)(m)&&(0,F.isBool)(c)?h.push(m!==c):h.push(m^c);break;default:throw new F.FormatError(`Unknown operator ${v}`)}else h.push(v);return h.stack}}I.PostScriptEvaluator=b;const r=function(){class o{constructor(s){this.type=s}visit(s){(0,F.unreachable)("abstract method")}}class h extends o{constructor(s,l,A){super("args"),this.index=s,this.min=l,this.max=A}visit(s){s.visitArgument(this)}}class n extends o{constructor(s){super("literal"),this.number=s,this.min=s,this.max=s}visit(s){s.visitLiteral(this)}}class a extends o{constructor(s,l,A,k,u){super("binary"),this.op=s,this.arg1=l,this.arg2=A,this.min=k,this.max=u}visit(s){s.visitBinaryOperation(this)}}class p extends o{constructor(s,l){super("max"),this.arg=s,this.min=s.min,this.max=l}visit(s){s.visitMin(this)}}class v extends o{constructor(s,l,A){super("var"),this.index=s,this.min=l,this.max=A}visit(s){s.visitVariable(this)}}class m extends o{constructor(s,l){super("definition"),this.variable=s,this.arg=l}visit(s){s.visitVariableDefinition(this)}}class c{constructor(){this.parts=[]}visitArgument(s){this.parts.push("Math.max(",s.min,", Math.min(",s.max,", src[srcOffset + ",s.index,"]))")}visitVariable(s){this.parts.push("v",s.index)}visitLiteral(s){this.parts.push(s.number)}visitBinaryOperation(s){this.parts.push("("),s.arg1.visit(this),this.parts.push(" ",s.op," "),s.arg2.visit(this),this.parts.push(")")}visitVariableDefinition(s){this.parts.push("var "),s.variable.visit(this),this.parts.push(" = "),s.arg.visit(this),this.parts.push(";")}visitMin(s){this.parts.push("Math.min("),s.arg.visit(this),this.parts.push(", ",s.max,")")}toString(){return this.parts.join("")}}function f(S,s){return"literal"===s.type&&0===s.number?S:"literal"===S.type&&0===S.number?s:"literal"===s.type&&"literal"===S.type?new n(S.number+s.number):new a("+",S,s,S.min+s.min,S.max+s.max)}function y(S,s){if("literal"===s.type){if(0===s.number)return new n(0);if(1===s.number)return S;if("literal"===S.type)return new n(S.number*s.number)}if("literal"===S.type){if(0===S.number)return new n(0);if(1===S.number)return s}const l=Math.min(S.min*s.min,S.min*s.max,S.max*s.min,S.max*s.max),A=Math.max(S.min*s.min,S.min*s.max,S.max*s.min,S.max*s.max);return new a("*",S,s,l,A)}function i(S,s){if("literal"===s.type){if(0===s.number)return S;if("literal"===S.type)return new n(S.number-s.number)}return"binary"===s.type&&"-"===s.op&&"literal"===S.type&&1===S.number&&"literal"===s.arg1.type&&1===s.arg1.number?s.arg2:new a("-",S,s,S.min-s.max,S.max-s.min)}function d(S,s){return S.min>=s?new n(s):S.max<=s?S:new p(S,s)}return class{compile(s,l,A){const k=[],u=[],M=l.length>>1,O=A.length>>1;let C,N,X,H,D,j,_,T,U=0;for(let E=0;E<M;E++)k.push(new h(E,l[2*E],l[2*E+1]));for(let E=0,$=s.length;E<$;E++)if(T=s[E],"number"!=typeof T)switch(T){case"add":if(k.length<2)return null;H=k.pop(),X=k.pop(),k.push(f(X,H));break;case"cvr":if(k.length<1)return null;break;case"mul":if(k.length<2)return null;H=k.pop(),X=k.pop(),k.push(y(X,H));break;case"sub":if(k.length<2)return null;H=k.pop(),X=k.pop(),k.push(i(X,H));break;case"exch":if(k.length<2)return null;D=k.pop(),j=k.pop(),k.push(D,j);break;case"pop":if(k.length<1)return null;k.pop();break;case"index":if(k.length<1||(X=k.pop(),"literal"!==X.type)||(C=X.number,C<0||!Number.isInteger(C)||k.length<C))return null;if(D=k[k.length-C-1],"literal"===D.type||"var"===D.type){k.push(D);break}_=new v(U++,D.min,D.max),k[k.length-C-1]=_,k.push(_),u.push(new m(_,D));break;case"dup":if(k.length<1)return null;if("number"==typeof s[E+1]&&"gt"===s[E+2]&&s[E+3]===E+7&&"jz"===s[E+4]&&"pop"===s[E+5]&&s[E+6]===s[E+1]){X=k.pop(),k.push(d(X,s[E+1])),E+=6;break}if(D=k[k.length-1],"literal"===D.type||"var"===D.type){k.push(D);break}_=new v(U++,D.min,D.max),k[k.length-1]=_,k.push(_),u.push(new m(_,D));break;case"roll":if(k.length<2||(H=k.pop(),X=k.pop(),"literal"!==H.type||"literal"!==X.type)||(N=H.number,C=X.number,C<=0||!Number.isInteger(C)||!Number.isInteger(N)||k.length<C))return null;if(N=(N%C+C)%C,0===N)break;Array.prototype.push.apply(k,k.splice(k.length-C,C-N));break;default:return null}else k.push(new n(T));if(k.length!==O)return null;const q=[];for(const E of u){const $=new c;E.visit($),q.push($.toString())}for(let E=0,$=k.length;E<$;E++){const B=k[E],W=new c;B.visit(W);const V=A[2*E],J=A[2*E+1],Y=[W.toString()];V>B.min&&(Y.unshift("Math.max(",V,", "),Y.push(")")),J<B.max&&(Y.unshift("Math.min(",J,", "),Y.push(")")),Y.unshift("dest[destOffset + ",E,"] = "),Y.push(";"),q.push(Y.join(""))}return q.join("\n")}}}();I.PostScriptCompiler=r},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PostScriptParser=I.PostScriptLexer=void 0;var t=G(2),F=G(5),R=G(9);I.PostScriptParser=class{constructor(P){this.lexer=P,this.operators=[],this.token=null,this.prev=null}nextToken(){this.prev=this.token,this.token=this.lexer.getToken()}accept(P){return this.token.type===P&&(this.nextToken(),!0)}expect(P){if(this.accept(P))return!0;throw new t.FormatError(`Unexpected symbol: found ${this.token.type} expected ${P}.`)}parse(){return this.nextToken(),this.expect(e.LBRACE),this.parseBlock(),this.expect(e.RBRACE),this.operators}parseBlock(){for(;;)if(this.accept(e.NUMBER))this.operators.push(this.prev.value);else if(this.accept(e.OPERATOR))this.operators.push(this.prev.value);else{if(!this.accept(e.LBRACE))return;this.parseCondition()}}parseCondition(){const P=this.operators.length;if(this.operators.push(null,null),this.parseBlock(),this.expect(e.RBRACE),this.accept(e.IF))this.operators[P]=this.operators.length,this.operators[P+1]="jz";else{if(!this.accept(e.LBRACE))throw new t.FormatError("PS Function: error parsing conditional.");{const b=this.operators.length;this.operators.push(null,null);const r=this.operators.length;this.parseBlock(),this.expect(e.RBRACE),this.expect(e.IFELSE),this.operators[b]=this.operators.length,this.operators[b+1]="j",this.operators[P]=r,this.operators[P+1]="jz"}}}};const e={LBRACE:0,RBRACE:1,NUMBER:2,OPERATOR:3,IF:4,IFELSE:5},x=function(){const P=Object.create(null);class b{constructor(w,o){this.type=w,this.value=o}static getOperator(w){return P[w]||(P[w]=new b(e.OPERATOR,w))}static get LBRACE(){return(0,t.shadow)(this,"LBRACE",new b(e.LBRACE,"{"))}static get RBRACE(){return(0,t.shadow)(this,"RBRACE",new b(e.RBRACE,"}"))}static get IF(){return(0,t.shadow)(this,"IF",new b(e.IF,"IF"))}static get IFELSE(){return(0,t.shadow)(this,"IFELSE",new b(e.IFELSE,"IFELSE"))}}return b}();I.PostScriptLexer=class{constructor(P){this.stream=P,this.nextChar(),this.strBuf=[]}nextChar(){return this.currentChar=this.stream.getByte()}getToken(){let P=!1,b=this.currentChar;for(;;){if(b<0)return F.EOF;if(P)10!==b&&13!==b||(P=!1);else if(37===b)P=!0;else if(!(0,R.isWhiteSpace)(b))break;b=this.nextChar()}switch(0|b){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 43:case 45:case 46:return new x(e.NUMBER,this.getNumber());case 123:return this.nextChar(),x.LBRACE;case 125:return this.nextChar(),x.RBRACE}const r=this.strBuf;for(r.length=0,r[0]=String.fromCharCode(b);(b=this.nextChar())>=0&&(b>=65&&b<=90||b>=97&&b<=122);)r.push(String.fromCharCode(b));const w=r.join("");switch(w.toLowerCase()){case"if":return x.IF;case"ifelse":return x.IFELSE;default:return x.getOperator(w)}}getNumber(){let P=this.currentChar;const b=this.strBuf;for(b.length=0,b[0]=String.fromCharCode(P);(P=this.nextChar())>=0&&(P>=48&&P<=57||45===P||46===P);)b.push(String.fromCharCode(P));const r=parseFloat(b.join(""));if(isNaN(r))throw new t.FormatError(`Invalid floating point number: ${r}`);return r}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.LocalTilingPatternCache=I.LocalImageCache=I.LocalGStateCache=I.LocalFunctionCache=I.LocalColorSpaceCache=I.GlobalImageCache=void 0;var t=G(2),F=G(5);class R{constructor(L){this.constructor===R&&(0,t.unreachable)("Cannot initialize BaseLocalCache."),(!L||!L.onlyRefs)&&(this._nameRefMap=new Map,this._imageMap=new Map),this._imageCache=new F.RefSetCache}getByName(L){const P=this._nameRefMap.get(L);return P?this.getByRef(P):this._imageMap.get(L)||null}getByRef(L){return this._imageCache.get(L)||null}set(L,P,b){(0,t.unreachable)("Abstract method `set` called.")}}I.LocalImageCache=class extends R{set(L,P=null,b){if(!L)throw new Error('LocalImageCache.set - expected "name" argument.');if(P){if(this._imageCache.has(P))return;this._nameRefMap.set(L,P),this._imageCache.put(P,b)}else this._imageMap.has(L)||this._imageMap.set(L,b)}},I.LocalColorSpaceCache=class extends R{set(L=null,P=null,b){if(!L&&!P)throw new Error('LocalColorSpaceCache.set - expected "name" and/or "ref" argument.');if(P){if(this._imageCache.has(P))return;L&&this._nameRefMap.set(L,P),this._imageCache.put(P,b)}else this._imageMap.has(L)||this._imageMap.set(L,b)}},I.LocalFunctionCache=class extends R{constructor(L){super({onlyRefs:!0})}getByName(L){(0,t.unreachable)("Should not call `getByName` method.")}set(L=null,P,b){if(!P)throw new Error('LocalFunctionCache.set - expected "ref" argument.');this._imageCache.has(P)||this._imageCache.put(P,b)}},I.LocalGStateCache=class extends R{set(L,P=null,b){if(!L)throw new Error('LocalGStateCache.set - expected "name" argument.');if(P){if(this._imageCache.has(P))return;this._nameRefMap.set(L,P),this._imageCache.put(P,b)}else this._imageMap.has(L)||this._imageMap.set(L,b)}},I.LocalTilingPatternCache=class extends R{set(L,P=null,b){if(!L)throw new Error('LocalTilingPatternCache.set - expected "name" argument.');if(P){if(this._imageCache.has(P))return;this._nameRefMap.set(L,P),this._imageCache.put(P,b)}else this._imageMap.has(L)||this._imageMap.set(L,b)}};class e{static get NUM_PAGES_THRESHOLD(){return(0,t.shadow)(this,"NUM_PAGES_THRESHOLD",2)}static get MIN_IMAGES_TO_CACHE(){return(0,t.shadow)(this,"MIN_IMAGES_TO_CACHE",10)}static get MAX_BYTE_SIZE(){return(0,t.shadow)(this,"MAX_BYTE_SIZE",4e7)}constructor(){this._refCache=new F.RefSetCache,this._imageCache=new F.RefSetCache}get _byteSize(){let L=0;return this._imageCache.forEach(P=>{L+=P.byteSize}),L}get _cacheLimitReached(){return!(this._imageCache.size<e.MIN_IMAGES_TO_CACHE||this._byteSize<e.MAX_BYTE_SIZE)}shouldCache(L,P){const b=this._refCache.get(L);return!((b?b.size+(b.has(P)?0:1):1)<e.NUM_PAGES_THRESHOLD||!this._imageCache.has(L)&&this._cacheLimitReached)}addPageIndex(L,P){let b=this._refCache.get(L);b||(b=new Set,this._refCache.put(L,b)),b.add(P)}addByteSize(L,P){const b=this._imageCache.get(L);b&&(b.byteSize||(b.byteSize=P))}getData(L,P){const b=this._refCache.get(L);if(!b||b.size<e.NUM_PAGES_THRESHOLD)return null;const r=this._imageCache.get(L);return r?(b.add(P),r):null}setData(L,P){if(!this._refCache.has(L))throw new Error('GlobalImageCache.setData - expected "addPageIndex" to have been called.');this._imageCache.has(L)||(this._cacheLimitReached?(0,t.warn)("GlobalImageCache.setData - cache limit reached."):this._imageCache.put(L,P))}clear(L=!1){L||this._refCache.clear(),this._imageCache.clear()}}I.GlobalImageCache=e},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.bidi=function(n,a,p){let v=!0;const m=n.length;if(0===m||p)return r(n,v,p);w.length=m,o.length=m;let c,f,y=0;for(c=0;c<m;++c){w[c]=n.charAt(c);const O=n.charCodeAt(c);let C="L";O<=255?C=F[O]:1424<=O&&O<=1524?C="R":1536<=O&&O<=1791?(C=R[255&O],C||(0,t.warn)("Bidi: invalid Unicode character "+O.toString(16))):1792<=O&&O<=2220&&(C="AL"),"R"!==C&&"AL"!==C&&"AN"!==C||y++,o[c]=C}if(0===y)return v=!0,r(n,v);-1===a&&(y/m<.3?(v=!0,a=0):(v=!1,a=1));const i=[];for(c=0;c<m;++c)i[c]=a;const d=e(a)?"R":"L",S=d,s=S;let l,A=S;for(c=0;c<m;++c)"NSM"===o[c]?o[c]=A:A=o[c];for(A=S,c=0;c<m;++c)l=o[c],"EN"===l?o[c]="AL"===A?"AN":"EN":"R"!==l&&"L"!==l&&"AL"!==l||(A=l);for(c=0;c<m;++c)l=o[c],"AL"===l&&(o[c]="R");for(c=1;c<m-1;++c)"ES"===o[c]&&"EN"===o[c-1]&&"EN"===o[c+1]&&(o[c]="EN"),"CS"!==o[c]||"EN"!==o[c-1]&&"AN"!==o[c-1]||o[c+1]!==o[c-1]||(o[c]=o[c-1]);for(c=0;c<m;++c)if("EN"===o[c]){for(let O=c-1;O>=0&&"ET"===o[O];--O)o[O]="EN";for(let O=c+1;O<m&&"ET"===o[O];++O)o[O]="EN"}for(c=0;c<m;++c)l=o[c],"WS"!==l&&"ES"!==l&&"ET"!==l&&"CS"!==l||(o[c]="ON");for(A=S,c=0;c<m;++c)l=o[c],"EN"===l?o[c]="L"===A?"L":"EN":"R"!==l&&"L"!==l||(A=l);for(c=0;c<m;++c)if("ON"===o[c]){const O=L(o,c+1,"ON");let C=S;c>0&&(C=o[c-1]);let N=s;O+1<m&&(N=o[O+1]),"L"!==C&&(C="R"),"L"!==N&&(N="R"),C===N&&P(o,c,O,C),c=O-1}for(c=0;c<m;++c)"ON"===o[c]&&(o[c]=d);for(c=0;c<m;++c)l=o[c],0==(1&i[c])?"R"===l?i[c]+=1:"AN"!==l&&"EN"!==l||(i[c]+=2):"L"!==l&&"AN"!==l&&"EN"!==l||(i[c]+=1);let k,u=-1,M=99;for(c=0,f=i.length;c<f;++c)k=i[c],u<k&&(u=k),M>k&&e(k)&&(M=k);for(k=u;k>=M;--k){let O=-1;for(c=0,f=i.length;c<f;++c)i[c]<k?O>=0&&(b(w,O,c),O=-1):O<0&&(O=c);O>=0&&b(w,O,i.length)}for(c=0,f=w.length;c<f;++c){const O=w[c];"<"!==O&&">"!==O||(w[c]="")}return r(w.join(""),v)};var t=G(2);const F=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","ON","ON","ET","ET","ET","ON","ON","ON","ON","ON","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","ON","ON","ON","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","ON","ET","ET","ET","ET","ON","ON","ON","ON","L","ON","ON","BN","ON","ON","ET","ET","EN","EN","ON","L","ON","ON","ON","EN","L","ON","ON","ON","ON","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","ON","L","L","L","L","L","L","L","L"],R=["AN","AN","AN","AN","AN","AN","ON","ON","AL","ET","ET","AL","CS","AL","ON","ON","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","ON","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","ON","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL"];function e(h){return 0!=(1&h)}function L(h,n,a){let p,v;for(p=n,v=h.length;p<v;++p)if(h[p]!==a)return p;return p}function P(h,n,a,p){for(let v=n;v<a;++v)h[v]=p}function b(h,n,a){for(let p=n,v=a-1;p<v;++p,--v){const m=h[p];h[p]=h[v],h[v]=m}}function r(h,n,a=!1){let p="ltr";return a?p="ttb":n||(p="rtl"),{str:h,dir:p}}const w=[],o=[]},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getMetrics=void 0;var t=G(9);const F=(0,t.getLookupTableFactory)(function(R){R.Courier=600,R["Courier-Bold"]=600,R["Courier-BoldOblique"]=600,R["Courier-Oblique"]=600,R.Helvetica=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),R["Helvetica-Bold"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),R["Helvetica-BoldOblique"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=333,e.quotedbl=474,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=722,e.quoteright=278,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=333,e.semicolon=333,e.less=584,e.equal=584,e.greater=584,e.question=611,e.at=975,e.A=722,e.B=722,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=556,e.K=722,e.L=611,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=584,e.underscore=556,e.quoteleft=278,e.a=556,e.b=611,e.c=556,e.d=611,e.e=556,e.f=333,e.g=611,e.h=611,e.i=278,e.j=278,e.k=556,e.l=278,e.m=889,e.n=611,e.o=611,e.p=611,e.q=611,e.r=389,e.s=556,e.t=333,e.u=611,e.v=556,e.w=778,e.x=556,e.y=556,e.z=500,e.braceleft=389,e.bar=280,e.braceright=389,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=238,e.quotedblleft=500,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=611,e.fl=611,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=556,e.bullet=350,e.quotesinglbase=278,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=611,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=278,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=611,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=722,e.aacute=556,e.Ucircumflex=722,e.yacute=556,e.scommaaccent=556,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=611,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=556,e.aring=556,e.Ncommaaccent=722,e.lacute=278,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=556,e.scedilla=556,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=611,e.acircumflex=556,e.Amacron=722,e.rcaron=389,e.ccedilla=556,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=743,e.Umacron=722,e.uring=611,e.threesuperior=333,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=584,e.uacute=611,e.Tcaron=611,e.partialdiff=494,e.ydieresis=556,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=556,e.nacute=611,e.umacron=611,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=280,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=611,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=389,e.eogonek=556,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=556,e.zacute=500,e.iogonek=278,e.Oacute=778,e.oacute=611,e.amacron=556,e.sacute=556,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=611,e.twosuperior=333,e.Odieresis=778,e.mu=611,e.igrave=278,e.ohungarumlaut=611,e.Eogonek=667,e.dcroat=611,e.threequarters=834,e.Scedilla=667,e.lcaron=400,e.Kcommaaccent=722,e.Lacute=611,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=611,e.onehalf=834,e.lessequal=549,e.ocircumflex=611,e.ntilde=611,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=611,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=611,e.Ccaron=722,e.ugrave=611,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=611,e.Rcommaaccent=722,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=556,e.minus=584,e.Icircumflex=278,e.ncaron=611,e.tcommaaccent=333,e.logicalnot=584,e.odieresis=611,e.udieresis=611,e.notequal=549,e.gcommaaccent=611,e.eth=611,e.zcaron=500,e.ncommaaccent=611,e.onesuperior=333,e.imacron=278,e.Euro=556}),R["Helvetica-Oblique"]=(0,t.getLookupTableFactory)(function(e){e.space=278,e.exclam=278,e.quotedbl=355,e.numbersign=556,e.dollar=556,e.percent=889,e.ampersand=667,e.quoteright=222,e.parenleft=333,e.parenright=333,e.asterisk=389,e.plus=584,e.comma=278,e.hyphen=333,e.period=278,e.slash=278,e.zero=556,e.one=556,e.two=556,e.three=556,e.four=556,e.five=556,e.six=556,e.seven=556,e.eight=556,e.nine=556,e.colon=278,e.semicolon=278,e.less=584,e.equal=584,e.greater=584,e.question=556,e.at=1015,e.A=667,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=722,e.I=278,e.J=500,e.K=667,e.L=556,e.M=833,e.N=722,e.O=778,e.P=667,e.Q=778,e.R=722,e.S=667,e.T=611,e.U=722,e.V=667,e.W=944,e.X=667,e.Y=667,e.Z=611,e.bracketleft=278,e.backslash=278,e.bracketright=278,e.asciicircum=469,e.underscore=556,e.quoteleft=222,e.a=556,e.b=556,e.c=500,e.d=556,e.e=556,e.f=278,e.g=556,e.h=556,e.i=222,e.j=222,e.k=500,e.l=222,e.m=833,e.n=556,e.o=556,e.p=556,e.q=556,e.r=333,e.s=500,e.t=278,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=500,e.braceleft=334,e.bar=260,e.braceright=334,e.asciitilde=584,e.exclamdown=333,e.cent=556,e.sterling=556,e.fraction=167,e.yen=556,e.florin=556,e.section=556,e.currency=556,e.quotesingle=191,e.quotedblleft=333,e.guillemotleft=556,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=556,e.dagger=556,e.daggerdbl=556,e.periodcentered=278,e.paragraph=537,e.bullet=350,e.quotesinglbase=222,e.quotedblbase=333,e.quotedblright=333,e.guillemotright=556,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=611,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=370,e.Lslash=556,e.Oslash=778,e.OE=1e3,e.ordmasculine=365,e.ae=889,e.dotlessi=278,e.lslash=222,e.oslash=611,e.oe=944,e.germandbls=611,e.Idieresis=278,e.eacute=556,e.abreve=556,e.uhungarumlaut=556,e.ecaron=556,e.Ydieresis=667,e.divide=584,e.Yacute=667,e.Acircumflex=667,e.aacute=556,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=500,e.ecircumflex=556,e.Uring=722,e.Udieresis=722,e.aogonek=556,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=737,e.Emacron=667,e.ccaron=500,e.aring=556,e.Ncommaaccent=722,e.lacute=222,e.agrave=556,e.Tcommaaccent=611,e.Cacute=722,e.atilde=556,e.Edotaccent=667,e.scaron=500,e.scedilla=500,e.iacute=278,e.lozenge=471,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=556,e.Amacron=667,e.rcaron=333,e.ccedilla=500,e.Zdotaccent=611,e.Thorn=667,e.Omacron=778,e.Racute=722,e.Sacute=667,e.dcaron=643,e.Umacron=722,e.uring=556,e.threesuperior=333,e.Ograve=778,e.Agrave=667,e.Abreve=667,e.multiply=584,e.uacute=556,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=556,e.edieresis=556,e.cacute=500,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=278,e.plusminus=584,e.brokenbar=260,e.registered=737,e.Gbreve=778,e.Idotaccent=278,e.summation=600,e.Egrave=667,e.racute=333,e.omacron=556,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=222,e.tcaron=317,e.eogonek=556,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=556,e.zacute=500,e.iogonek=222,e.Oacute=778,e.oacute=556,e.amacron=556,e.sacute=500,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=333,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=556,e.Eogonek=667,e.dcroat=556,e.threequarters=834,e.Scedilla=667,e.lcaron=299,e.Kcommaaccent=667,e.Lacute=556,e.trademark=1e3,e.edotaccent=556,e.Igrave=278,e.Imacron=278,e.Lcaron=556,e.onehalf=834,e.lessequal=549,e.ocircumflex=556,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=556,e.gbreve=556,e.onequarter=834,e.Scaron=667,e.Scommaaccent=667,e.Ohungarumlaut=778,e.degree=400,e.ograve=556,e.Ccaron=722,e.ugrave=556,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=556,e.Rcommaaccent=722,e.Lcommaaccent=556,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=778,e.zdotaccent=500,e.Ecaron=667,e.Iogonek=278,e.kcommaaccent=500,e.minus=584,e.Icircumflex=278,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=584,e.odieresis=556,e.udieresis=556,e.notequal=549,e.gcommaaccent=556,e.eth=556,e.zcaron=500,e.ncommaaccent=556,e.onesuperior=333,e.imacron=278,e.Euro=556}),R.Symbol=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.universal=713,e.numbersign=500,e.existential=549,e.percent=833,e.ampersand=778,e.suchthat=439,e.parenleft=333,e.parenright=333,e.asteriskmath=500,e.plus=549,e.comma=250,e.minus=549,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=549,e.equal=549,e.greater=549,e.question=444,e.congruent=549,e.Alpha=722,e.Beta=667,e.Chi=722,e.Delta=612,e.Epsilon=611,e.Phi=763,e.Gamma=603,e.Eta=722,e.Iota=333,e.theta1=631,e.Kappa=722,e.Lambda=686,e.Mu=889,e.Nu=722,e.Omicron=722,e.Pi=768,e.Theta=741,e.Rho=556,e.Sigma=592,e.Tau=611,e.Upsilon=690,e.sigma1=439,e.Omega=768,e.Xi=645,e.Psi=795,e.Zeta=611,e.bracketleft=333,e.therefore=863,e.bracketright=333,e.perpendicular=658,e.underscore=500,e.radicalex=500,e.alpha=631,e.beta=549,e.chi=549,e.delta=494,e.epsilon=439,e.phi=521,e.gamma=411,e.eta=603,e.iota=329,e.phi1=603,e.kappa=549,e.lambda=549,e.mu=576,e.nu=521,e.omicron=549,e.pi=549,e.theta=521,e.rho=549,e.sigma=603,e.tau=439,e.upsilon=576,e.omega1=713,e.omega=686,e.xi=493,e.psi=686,e.zeta=494,e.braceleft=480,e.bar=200,e.braceright=480,e.similar=549,e.Euro=750,e.Upsilon1=620,e.minute=247,e.lessequal=549,e.fraction=167,e.infinity=713,e.florin=500,e.club=753,e.diamond=753,e.heart=753,e.spade=753,e.arrowboth=1042,e.arrowleft=987,e.arrowup=603,e.arrowright=987,e.arrowdown=603,e.degree=400,e.plusminus=549,e.second=411,e.greaterequal=549,e.multiply=549,e.proportional=713,e.partialdiff=494,e.bullet=460,e.divide=549,e.notequal=549,e.equivalence=549,e.approxequal=549,e.ellipsis=1e3,e.arrowvertex=603,e.arrowhorizex=1e3,e.carriagereturn=658,e.aleph=823,e.Ifraktur=686,e.Rfraktur=795,e.weierstrass=987,e.circlemultiply=768,e.circleplus=768,e.emptyset=823,e.intersection=768,e.union=768,e.propersuperset=713,e.reflexsuperset=713,e.notsubset=713,e.propersubset=713,e.reflexsubset=713,e.element=713,e.notelement=713,e.angle=768,e.gradient=713,e.registerserif=790,e.copyrightserif=790,e.trademarkserif=890,e.product=823,e.radical=549,e.dotmath=250,e.logicalnot=713,e.logicaland=603,e.logicalor=603,e.arrowdblboth=1042,e.arrowdblleft=987,e.arrowdblup=603,e.arrowdblright=987,e.arrowdbldown=603,e.lozenge=494,e.angleleft=329,e.registersans=790,e.copyrightsans=790,e.trademarksans=786,e.summation=713,e.parenlefttp=384,e.parenleftex=384,e.parenleftbt=384,e.bracketlefttp=384,e.bracketleftex=384,e.bracketleftbt=384,e.bracelefttp=494,e.braceleftmid=494,e.braceleftbt=494,e.braceex=494,e.angleright=329,e.integral=274,e.integraltp=686,e.integralex=686,e.integralbt=686,e.parenrighttp=384,e.parenrightex=384,e.parenrightbt=384,e.bracketrighttp=384,e.bracketrightex=384,e.bracketrightbt=384,e.bracerighttp=494,e.bracerightmid=494,e.bracerightbt=494,e.apple=790}),R["Times-Roman"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=408,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=564,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=278,e.semicolon=278,e.less=564,e.equal=564,e.greater=564,e.question=444,e.at=921,e.A=722,e.B=667,e.C=667,e.D=722,e.E=611,e.F=556,e.G=722,e.H=722,e.I=333,e.J=389,e.K=722,e.L=611,e.M=889,e.N=722,e.O=722,e.P=556,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=722,e.W=944,e.X=722,e.Y=722,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=469,e.underscore=500,e.quoteleft=333,e.a=444,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=500,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=500,e.o=500,e.p=500,e.q=500,e.r=333,e.s=389,e.t=278,e.u=500,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=480,e.bar=200,e.braceright=480,e.asciitilde=541,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=180,e.quotedblleft=444,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=453,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=444,e.quotedblright=444,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=444,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=889,e.ordfeminine=276,e.Lslash=611,e.Oslash=722,e.OE=889,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=444,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=722,e.divide=564,e.Yacute=722,e.Acircumflex=722,e.aacute=444,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=444,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=444,e.Ncommaaccent=722,e.lacute=278,e.agrave=444,e.Tcommaaccent=611,e.Cacute=667,e.atilde=444,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=444,e.Amacron=722,e.rcaron=333,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=556,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=588,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=722,e.Abreve=722,e.multiply=564,e.uacute=500,e.Tcaron=611,e.partialdiff=476,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=444,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=722,e.Iacute=333,e.plusminus=564,e.brokenbar=200,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=333,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=326,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=444,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=344,e.Kcommaaccent=722,e.Lacute=611,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=333,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=722,e.zdotaccent=444,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=500,e.minus=564,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=564,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),R["Times-Bold"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=1e3,e.ampersand=833,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=930,e.A=722,e.B=667,e.C=722,e.D=722,e.E=667,e.F=611,e.G=778,e.H=778,e.I=389,e.J=500,e.K=778,e.L=667,e.M=944,e.N=722,e.O=778,e.P=611,e.Q=778,e.R=722,e.S=556,e.T=667,e.U=722,e.V=722,e.W=1e3,e.X=722,e.Y=722,e.Z=667,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=581,e.underscore=500,e.quoteleft=333,e.a=500,e.b=556,e.c=444,e.d=556,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=333,e.k=556,e.l=278,e.m=833,e.n=556,e.o=500,e.p=556,e.q=556,e.r=444,e.s=389,e.t=333,e.u=556,e.v=500,e.w=722,e.x=500,e.y=500,e.z=444,e.braceleft=394,e.bar=220,e.braceright=394,e.asciitilde=520,e.exclamdown=333,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=540,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=1e3,e.ordfeminine=300,e.Lslash=667,e.Oslash=778,e.OE=1e3,e.ordmasculine=330,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=556,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=722,e.divide=570,e.Yacute=722,e.Acircumflex=722,e.aacute=500,e.Ucircumflex=722,e.yacute=500,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=667,e.Cacute=722,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=722,e.Gcommaaccent=778,e.ucircumflex=556,e.acircumflex=500,e.Amacron=722,e.rcaron=444,e.ccedilla=444,e.Zdotaccent=667,e.Thorn=611,e.Omacron=778,e.Racute=722,e.Sacute=556,e.dcaron=672,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=778,e.Agrave=722,e.Abreve=722,e.multiply=570,e.uacute=556,e.Tcaron=667,e.partialdiff=494,e.ydieresis=500,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=778,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=444,e.omacron=500,e.Zacute=667,e.Zcaron=667,e.greaterequal=549,e.Eth=722,e.Ccedilla=722,e.lcommaaccent=278,e.tcaron=416,e.eogonek=444,e.Uogonek=722,e.Aacute=722,e.Adieresis=722,e.egrave=444,e.zacute=444,e.iogonek=278,e.Oacute=778,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=778,e.Ugrave=722,e.Delta=612,e.thorn=556,e.twosuperior=300,e.Odieresis=778,e.mu=556,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=556,e.threequarters=750,e.Scedilla=556,e.lcaron=394,e.Kcommaaccent=778,e.Lacute=667,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=667,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=778,e.degree=400,e.ograve=500,e.Ccaron=722,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=444,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=722,e.Lcommaaccent=667,e.Atilde=722,e.Aogonek=722,e.Aring=722,e.Otilde=778,e.zdotaccent=444,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=556,e.minus=570,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=333,e.logicalnot=570,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=444,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),R["Times-BoldItalic"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=389,e.quotedbl=555,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=570,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=570,e.equal=570,e.greater=570,e.question=500,e.at=832,e.A=667,e.B=667,e.C=667,e.D=722,e.E=667,e.F=667,e.G=722,e.H=778,e.I=389,e.J=500,e.K=667,e.L=611,e.M=889,e.N=722,e.O=722,e.P=611,e.Q=722,e.R=667,e.S=556,e.T=611,e.U=722,e.V=667,e.W=889,e.X=667,e.Y=611,e.Z=611,e.bracketleft=333,e.backslash=278,e.bracketright=333,e.asciicircum=570,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=333,e.g=500,e.h=556,e.i=278,e.j=278,e.k=500,e.l=278,e.m=778,e.n=556,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=556,e.v=444,e.w=667,e.x=500,e.y=444,e.z=389,e.braceleft=348,e.bar=220,e.braceright=348,e.asciitilde=570,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=278,e.quotedblleft=500,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=556,e.fl=556,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=500,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=500,e.quotedblright=500,e.guillemotright=500,e.ellipsis=1e3,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=1e3,e.AE=944,e.ordfeminine=266,e.Lslash=611,e.Oslash=722,e.OE=944,e.ordmasculine=300,e.ae=722,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=722,e.germandbls=500,e.Idieresis=389,e.eacute=444,e.abreve=500,e.uhungarumlaut=556,e.ecaron=444,e.Ydieresis=611,e.divide=570,e.Yacute=611,e.Acircumflex=667,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=556,e.Edieresis=667,e.Dcroat=722,e.commaaccent=250,e.copyright=747,e.Emacron=667,e.ccaron=444,e.aring=500,e.Ncommaaccent=722,e.lacute=278,e.agrave=500,e.Tcommaaccent=611,e.Cacute=667,e.atilde=500,e.Edotaccent=667,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=494,e.Rcaron=667,e.Gcommaaccent=722,e.ucircumflex=556,e.acircumflex=500,e.Amacron=667,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=611,e.Thorn=611,e.Omacron=722,e.Racute=667,e.Sacute=556,e.dcaron=608,e.Umacron=722,e.uring=556,e.threesuperior=300,e.Ograve=722,e.Agrave=667,e.Abreve=667,e.multiply=570,e.uacute=556,e.Tcaron=611,e.partialdiff=494,e.ydieresis=444,e.Nacute=722,e.icircumflex=278,e.Ecircumflex=667,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=556,e.umacron=556,e.Ncaron=722,e.Iacute=389,e.plusminus=570,e.brokenbar=220,e.registered=747,e.Gbreve=722,e.Idotaccent=389,e.summation=600,e.Egrave=667,e.racute=389,e.omacron=500,e.Zacute=611,e.Zcaron=611,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=366,e.eogonek=444,e.Uogonek=722,e.Aacute=667,e.Adieresis=667,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=576,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=667,e.dcroat=500,e.threequarters=750,e.Scedilla=556,e.lcaron=382,e.Kcommaaccent=667,e.Lacute=611,e.trademark=1e3,e.edotaccent=444,e.Igrave=389,e.Imacron=389,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=556,e.Uhungarumlaut=722,e.Eacute=667,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=556,e.Scommaaccent=556,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=556,e.radical=549,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=722,e.otilde=500,e.Rcommaaccent=667,e.Lcommaaccent=611,e.Atilde=667,e.Aogonek=667,e.Aring=667,e.Otilde=722,e.zdotaccent=389,e.Ecaron=667,e.Iogonek=389,e.kcommaaccent=500,e.minus=606,e.Icircumflex=389,e.ncaron=556,e.tcommaaccent=278,e.logicalnot=606,e.odieresis=500,e.udieresis=556,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=556,e.onesuperior=300,e.imacron=278,e.Euro=500}),R["Times-Italic"]=(0,t.getLookupTableFactory)(function(e){e.space=250,e.exclam=333,e.quotedbl=420,e.numbersign=500,e.dollar=500,e.percent=833,e.ampersand=778,e.quoteright=333,e.parenleft=333,e.parenright=333,e.asterisk=500,e.plus=675,e.comma=250,e.hyphen=333,e.period=250,e.slash=278,e.zero=500,e.one=500,e.two=500,e.three=500,e.four=500,e.five=500,e.six=500,e.seven=500,e.eight=500,e.nine=500,e.colon=333,e.semicolon=333,e.less=675,e.equal=675,e.greater=675,e.question=500,e.at=920,e.A=611,e.B=611,e.C=667,e.D=722,e.E=611,e.F=611,e.G=722,e.H=722,e.I=333,e.J=444,e.K=667,e.L=556,e.M=833,e.N=667,e.O=722,e.P=611,e.Q=722,e.R=611,e.S=500,e.T=556,e.U=722,e.V=611,e.W=833,e.X=611,e.Y=556,e.Z=556,e.bracketleft=389,e.backslash=278,e.bracketright=389,e.asciicircum=422,e.underscore=500,e.quoteleft=333,e.a=500,e.b=500,e.c=444,e.d=500,e.e=444,e.f=278,e.g=500,e.h=500,e.i=278,e.j=278,e.k=444,e.l=278,e.m=722,e.n=500,e.o=500,e.p=500,e.q=500,e.r=389,e.s=389,e.t=278,e.u=500,e.v=444,e.w=667,e.x=444,e.y=444,e.z=389,e.braceleft=400,e.bar=275,e.braceright=400,e.asciitilde=541,e.exclamdown=389,e.cent=500,e.sterling=500,e.fraction=167,e.yen=500,e.florin=500,e.section=500,e.currency=500,e.quotesingle=214,e.quotedblleft=556,e.guillemotleft=500,e.guilsinglleft=333,e.guilsinglright=333,e.fi=500,e.fl=500,e.endash=500,e.dagger=500,e.daggerdbl=500,e.periodcentered=250,e.paragraph=523,e.bullet=350,e.quotesinglbase=333,e.quotedblbase=556,e.quotedblright=556,e.guillemotright=500,e.ellipsis=889,e.perthousand=1e3,e.questiondown=500,e.grave=333,e.acute=333,e.circumflex=333,e.tilde=333,e.macron=333,e.breve=333,e.dotaccent=333,e.dieresis=333,e.ring=333,e.cedilla=333,e.hungarumlaut=333,e.ogonek=333,e.caron=333,e.emdash=889,e.AE=889,e.ordfeminine=276,e.Lslash=556,e.Oslash=722,e.OE=944,e.ordmasculine=310,e.ae=667,e.dotlessi=278,e.lslash=278,e.oslash=500,e.oe=667,e.germandbls=500,e.Idieresis=333,e.eacute=444,e.abreve=500,e.uhungarumlaut=500,e.ecaron=444,e.Ydieresis=556,e.divide=675,e.Yacute=556,e.Acircumflex=611,e.aacute=500,e.Ucircumflex=722,e.yacute=444,e.scommaaccent=389,e.ecircumflex=444,e.Uring=722,e.Udieresis=722,e.aogonek=500,e.Uacute=722,e.uogonek=500,e.Edieresis=611,e.Dcroat=722,e.commaaccent=250,e.copyright=760,e.Emacron=611,e.ccaron=444,e.aring=500,e.Ncommaaccent=667,e.lacute=278,e.agrave=500,e.Tcommaaccent=556,e.Cacute=667,e.atilde=500,e.Edotaccent=611,e.scaron=389,e.scedilla=389,e.iacute=278,e.lozenge=471,e.Rcaron=611,e.Gcommaaccent=722,e.ucircumflex=500,e.acircumflex=500,e.Amacron=611,e.rcaron=389,e.ccedilla=444,e.Zdotaccent=556,e.Thorn=611,e.Omacron=722,e.Racute=611,e.Sacute=500,e.dcaron=544,e.Umacron=722,e.uring=500,e.threesuperior=300,e.Ograve=722,e.Agrave=611,e.Abreve=611,e.multiply=675,e.uacute=500,e.Tcaron=556,e.partialdiff=476,e.ydieresis=444,e.Nacute=667,e.icircumflex=278,e.Ecircumflex=611,e.adieresis=500,e.edieresis=444,e.cacute=444,e.nacute=500,e.umacron=500,e.Ncaron=667,e.Iacute=333,e.plusminus=675,e.brokenbar=275,e.registered=760,e.Gbreve=722,e.Idotaccent=333,e.summation=600,e.Egrave=611,e.racute=389,e.omacron=500,e.Zacute=556,e.Zcaron=556,e.greaterequal=549,e.Eth=722,e.Ccedilla=667,e.lcommaaccent=278,e.tcaron=300,e.eogonek=444,e.Uogonek=722,e.Aacute=611,e.Adieresis=611,e.egrave=444,e.zacute=389,e.iogonek=278,e.Oacute=722,e.oacute=500,e.amacron=500,e.sacute=389,e.idieresis=278,e.Ocircumflex=722,e.Ugrave=722,e.Delta=612,e.thorn=500,e.twosuperior=300,e.Odieresis=722,e.mu=500,e.igrave=278,e.ohungarumlaut=500,e.Eogonek=611,e.dcroat=500,e.threequarters=750,e.Scedilla=500,e.lcaron=300,e.Kcommaaccent=667,e.Lacute=556,e.trademark=980,e.edotaccent=444,e.Igrave=333,e.Imacron=333,e.Lcaron=611,e.onehalf=750,e.lessequal=549,e.ocircumflex=500,e.ntilde=500,e.Uhungarumlaut=722,e.Eacute=611,e.emacron=444,e.gbreve=500,e.onequarter=750,e.Scaron=500,e.Scommaaccent=500,e.Ohungarumlaut=722,e.degree=400,e.ograve=500,e.Ccaron=667,e.ugrave=500,e.radical=453,e.Dcaron=722,e.rcommaaccent=389,e.Ntilde=667,e.otilde=500,e.Rcommaaccent=611,e.Lcommaaccent=556,e.Atilde=611,e.Aogonek=611,e.Aring=611,e.Otilde=722,e.zdotaccent=389,e.Ecaron=611,e.Iogonek=333,e.kcommaaccent=444,e.minus=675,e.Icircumflex=333,e.ncaron=500,e.tcommaaccent=278,e.logicalnot=675,e.odieresis=500,e.udieresis=500,e.notequal=549,e.gcommaaccent=500,e.eth=500,e.zcaron=389,e.ncommaaccent=500,e.onesuperior=300,e.imacron=278,e.Euro=500}),R.ZapfDingbats=(0,t.getLookupTableFactory)(function(e){e.space=278,e.a1=974,e.a2=961,e.a202=974,e.a3=980,e.a4=719,e.a5=789,e.a119=790,e.a118=791,e.a117=690,e.a11=960,e.a12=939,e.a13=549,e.a14=855,e.a15=911,e.a16=933,e.a105=911,e.a17=945,e.a18=974,e.a19=755,e.a20=846,e.a21=762,e.a22=761,e.a23=571,e.a24=677,e.a25=763,e.a26=760,e.a27=759,e.a28=754,e.a6=494,e.a7=552,e.a8=537,e.a9=577,e.a10=692,e.a29=786,e.a30=788,e.a31=788,e.a32=790,e.a33=793,e.a34=794,e.a35=816,e.a36=823,e.a37=789,e.a38=841,e.a39=823,e.a40=833,e.a41=816,e.a42=831,e.a43=923,e.a44=744,e.a45=723,e.a46=749,e.a47=790,e.a48=792,e.a49=695,e.a50=776,e.a51=768,e.a52=792,e.a53=759,e.a54=707,e.a55=708,e.a56=682,e.a57=701,e.a58=826,e.a59=815,e.a60=789,e.a61=789,e.a62=707,e.a63=687,e.a64=696,e.a65=689,e.a66=786,e.a67=787,e.a68=713,e.a69=791,e.a70=785,e.a71=791,e.a72=873,e.a73=761,e.a74=762,e.a203=762,e.a75=759,e.a204=759,e.a76=892,e.a77=892,e.a78=788,e.a79=784,e.a81=438,e.a82=138,e.a83=277,e.a84=415,e.a97=392,e.a98=392,e.a99=668,e.a100=668,e.a89=390,e.a90=390,e.a93=317,e.a94=317,e.a91=276,e.a92=276,e.a205=509,e.a85=509,e.a206=410,e.a86=410,e.a87=234,e.a88=234,e.a95=334,e.a96=334,e.a101=732,e.a102=544,e.a103=544,e.a104=910,e.a106=667,e.a107=760,e.a108=760,e.a112=776,e.a111=595,e.a110=694,e.a109=626,e.a120=788,e.a121=788,e.a122=788,e.a123=788,e.a124=788,e.a125=788,e.a126=788,e.a127=788,e.a128=788,e.a129=788,e.a130=788,e.a131=788,e.a132=788,e.a133=788,e.a134=788,e.a135=788,e.a136=788,e.a137=788,e.a138=788,e.a139=788,e.a140=788,e.a141=788,e.a142=788,e.a143=788,e.a144=788,e.a145=788,e.a146=788,e.a147=788,e.a148=788,e.a149=788,e.a150=788,e.a151=788,e.a152=788,e.a153=788,e.a154=788,e.a155=788,e.a156=788,e.a157=788,e.a158=788,e.a159=788,e.a160=894,e.a161=838,e.a163=1016,e.a164=458,e.a196=748,e.a165=924,e.a192=748,e.a166=918,e.a167=927,e.a168=928,e.a169=928,e.a170=834,e.a171=873,e.a172=828,e.a173=924,e.a162=924,e.a174=917,e.a175=930,e.a176=931,e.a177=463,e.a178=883,e.a179=836,e.a193=836,e.a180=867,e.a199=867,e.a181=696,e.a200=696,e.a182=874,e.a201=874,e.a183=760,e.a184=946,e.a197=771,e.a185=865,e.a194=771,e.a198=888,e.a186=967,e.a195=888,e.a187=831,e.a188=873,e.a189=927,e.a190=970,e.a191=918})});I.getMetrics=F},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.MurmurHash3_64=void 0;var t=G(2);const F=3285377520,R=4294901760,e=65535;I.MurmurHash3_64=class{constructor(L){this.h1=L?4294967295&L:F,this.h2=L?4294967295&L:F}update(L){let P,b;if((0,t.isString)(L)){P=new Uint8Array(2*L.length),b=0;for(let y=0,i=L.length;y<i;y++){const d=L.charCodeAt(y);d<=255?P[b++]=d:(P[b++]=d>>>8,P[b++]=255&d)}}else{if(!(0,t.isArrayBuffer)(L))throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");P=L.slice(),b=P.byteLength}const r=b>>2,w=b-4*r,o=new Uint32Array(P.buffer,0,r);let h=0,n=0,a=this.h1,p=this.h2;const v=3432918353,m=461845907,c=11601,f=13715;for(let y=0;y<r;y++)1&y?(h=o[y],h=h*v&R|h*c&e,h=h<<15|h>>>17,h=h*m&R|h*f&e,a^=h,a=a<<13|a>>>19,a=5*a+3864292196):(n=o[y],n=n*v&R|n*c&e,n=n<<15|n>>>17,n=n*m&R|n*f&e,p^=n,p=p<<13|p>>>19,p=5*p+3864292196);switch(h=0,w){case 3:h^=P[4*r+2]<<16;case 2:h^=P[4*r+1]<<8;case 1:h^=P[4*r],h=h*v&R|h*c&e,h=h<<15|h>>>17,h=h*m&R|h*f&e,1&r?a^=h:p^=h}this.h1=a,this.h2=p}hexdigest(){let L=this.h1,P=this.h2;L^=P>>>1,L=3981806797*L&R|36045*L&e,P=4283543511*P&R|(2950163797*(P<<16|L>>>16)&R)>>>16,L^=P>>>1,L=444984403*L&R|60499*L&e,P=3301882366*P&R|(3120437893*(P<<16|L>>>16)&R)>>>16,L^=P>>>1;const b=(L>>>0).toString(16),r=(P>>>0).toString(16);return b.padStart(8,"0")+r.padStart(8,"0")}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.OperatorList=void 0;var t=G(2);function F(P,b,r,w,o){let h=P;for(let n=0,a=b.length-1;n<a;n++){const p=b[n];h=h[p]||(h[p]=[])}h[b[b.length-1]]={checkFn:r,iterateFn:w,processFn:o}}const R=[];F(R,[t.OPS.save,t.OPS.transform,t.OPS.paintInlineImageXObject,t.OPS.restore],null,function(b,r){const w=b.fnArray,o=(r-(b.iCurr-3))%4;switch(o){case 0:return w[r]===t.OPS.save;case 1:return w[r]===t.OPS.transform;case 2:return w[r]===t.OPS.paintInlineImageXObject;case 3:return w[r]===t.OPS.restore}throw new Error(`iterateInlineImageGroup - invalid pos: ${o}`)},function(b,r){const w=b.fnArray,o=b.argsArray,h=b.iCurr,n=h-3,a=h-2,p=h-1,v=Math.min(Math.floor((r-n)/4),200);if(v<10)return r-(r-n)%4;let m=0;const c=[];let f=0,y=1,i=1;for(let A=0;A<v;A++){const k=o[a+(A<<2)],u=o[p+(A<<2)][0];y+u.width>1e3&&(m=Math.max(m,y),i+=f+2,y=0,f=0),c.push({transform:k,x:y,y:i,w:u.width,h:u.height}),y+=u.width+2,f=Math.max(f,u.height)}const d=Math.max(m,y)+1,S=i+f+1,s=new Uint8ClampedArray(d*S*4),l=d<<2;for(let A=0;A<v;A++){const k=o[p+(A<<2)][0].data,u=c[A].w<<2;let M=0,O=c[A].x+c[A].y*d<<2;s.set(k.subarray(0,u),O-l);for(let C=0,N=c[A].h;C<N;C++)s.set(k.subarray(M,M+u),O),M+=u,O+=l;for(s.set(k.subarray(M-u,M),O);O>=0;)k[O-4]=k[O],k[O-3]=k[O+1],k[O-2]=k[O+2],k[O-1]=k[O+3],k[O+u]=k[O+u-4],k[O+u+1]=k[O+u-3],k[O+u+2]=k[O+u-2],k[O+u+3]=k[O+u-1],O-=l}return w.splice(n,4*v,t.OPS.paintInlineImageXObjectGroup),o.splice(n,4*v,[{width:d,height:S,kind:t.ImageKind.RGBA_32BPP,data:s},c]),n+1}),F(R,[t.OPS.save,t.OPS.transform,t.OPS.paintImageMaskXObject,t.OPS.restore],null,function(b,r){const w=b.fnArray,o=(r-(b.iCurr-3))%4;switch(o){case 0:return w[r]===t.OPS.save;case 1:return w[r]===t.OPS.transform;case 2:return w[r]===t.OPS.paintImageMaskXObject;case 3:return w[r]===t.OPS.restore}throw new Error(`iterateImageMaskGroup - invalid pos: ${o}`)},function(b,r){const w=b.fnArray,o=b.argsArray,h=b.iCurr,n=h-3,a=h-2,p=h-1;let v=Math.floor((r-n)/4);if(v=function(A,k,u,M){const O=A+2;let C;for(C=0;C<k;C++){const N=M[O+4*C],X=1===N.length&&N[0];if(!X||1!==X.width||1!==X.height||X.data.length&&(1!==X.data.length||0!==X.data[0]))break;u[O+4*C]=t.OPS.paintSolidColorImageMask}return k-C}(n,v,w,o),v<10)return r-(r-n)%4;let m,c,f=!1;const y=o[p][0],i=o[a][0],d=o[a][1],S=o[a][2],s=o[a][3];if(d===S){f=!0,m=a+4;let l=p+4;for(let A=1;A<v;A++,m+=4,l+=4)if(c=o[m],o[l][0]!==y||c[0]!==i||c[1]!==d||c[2]!==S||c[3]!==s){A<10?f=!1:v=A;break}}if(f){v=Math.min(v,1e3);const l=new Float32Array(2*v);m=a;for(let A=0;A<v;A++,m+=4)c=o[m],l[A<<1]=c[4],l[1+(A<<1)]=c[5];w.splice(n,4*v,t.OPS.paintImageMaskXObjectRepeat),o.splice(n,4*v,[y,i,d,S,s,l])}else{v=Math.min(v,100);const l=[];for(let A=0;A<v;A++){c=o[a+(A<<2)];const k=o[p+(A<<2)][0];l.push({data:k.data,width:k.width,height:k.height,transform:c})}w.splice(n,4*v,t.OPS.paintImageMaskXObjectGroup),o.splice(n,4*v,[l])}return n+1}),F(R,[t.OPS.save,t.OPS.transform,t.OPS.paintImageXObject,t.OPS.restore],function(P){const b=P.argsArray,r=P.iCurr-2;return 0===b[r][1]&&0===b[r][2]},function(b,r){const w=b.fnArray,o=b.argsArray,h=(r-(b.iCurr-3))%4;switch(h){case 0:return w[r]===t.OPS.save;case 1:if(w[r]!==t.OPS.transform)return!1;const n=b.iCurr-2;return o[r][0]===o[n][0]&&0===o[r][1]&&0===o[r][2]&&o[r][3]===o[n][3];case 2:return w[r]===t.OPS.paintImageXObject&&o[r][0]===o[b.iCurr-1][0];case 3:return w[r]===t.OPS.restore}throw new Error(`iterateImageGroup - invalid pos: ${h}`)},function(P,b){const r=P.fnArray,w=P.argsArray,o=P.iCurr,h=o-3,n=o-2,a=w[o-1][0],p=w[n][0],v=w[n][3],m=Math.min(Math.floor((b-h)/4),1e3);if(m<3)return b-(b-h)%4;const c=new Float32Array(2*m);let f=n;for(let i=0;i<m;i++,f+=4){const d=w[f];c[i<<1]=d[4],c[1+(i<<1)]=d[5]}const y=[a,p,v,c];return r.splice(h,4*m,t.OPS.paintImageXObjectRepeat),w.splice(h,4*m,y),h+1}),F(R,[t.OPS.beginText,t.OPS.setFont,t.OPS.setTextMatrix,t.OPS.showText,t.OPS.endText],null,function(b,r){const w=b.fnArray,o=b.argsArray,h=(r-(b.iCurr-4))%5;switch(h){case 0:return w[r]===t.OPS.beginText;case 1:return w[r]===t.OPS.setFont;case 2:return w[r]===t.OPS.setTextMatrix;case 3:if(w[r]!==t.OPS.showText)return!1;const n=b.iCurr-3;return o[r][0]===o[n][0]&&o[r][1]===o[n][1];case 4:return w[r]===t.OPS.endText}throw new Error(`iterateShowTextGroup - invalid pos: ${h}`)},function(P,b){const r=P.fnArray,w=P.argsArray,o=P.iCurr,h=o-4,n=o-3,a=o-2,p=o-1,v=o,m=w[n][0],c=w[n][1];let f=Math.min(Math.floor((b-h)/5),1e3);if(f<3)return b-(b-h)%5;let y=h;h>=4&&r[h-4]===r[n]&&r[h-3]===r[a]&&r[h-2]===r[p]&&r[h-1]===r[v]&&w[h-4][0]===m&&w[h-4][1]===c&&(f++,y-=5);let i=y+4;for(let d=1;d<f;d++)r.splice(i,3),w.splice(i,3),i+=2;return i+1});class e{constructor(b){this.queue=b}_optimize(){}push(b,r){this.queue.fnArray.push(b),this.queue.argsArray.push(r),this._optimize()}flush(){}reset(){}}class x extends e{constructor(b){super(b),this.state=null,this.context={iCurr:0,fnArray:b.fnArray,argsArray:b.argsArray},this.match=null,this.lastProcessed=0}_optimize(){const b=this.queue.fnArray;let r=this.lastProcessed,w=b.length,o=this.state,h=this.match;if(!o&&!h&&r+1===w&&!R[b[r]])return void(this.lastProcessed=w);const n=this.context;for(;r<w;){if(h){if((0,h.iterateFn)(n,r)){r++;continue}if(r=(0,h.processFn)(n,r+1),w=b.length,h=null,o=null,r>=w)break}o=(o||R)[b[r]],o&&!Array.isArray(o)?(n.iCurr=r,r++,(!o.checkFn||(0,o.checkFn)(n))&&(h=o),o=null):r++}this.state=o,this.match=h,this.lastProcessed=r}flush(){for(;this.match;)this.lastProcessed=(0,this.match.processFn)(this.context,this.queue.fnArray.length),this.match=null,this.state=null,this._optimize()}reset(){this.state=null,this.match=null,this.lastProcessed=0}}class L{static get CHUNK_SIZE(){return(0,t.shadow)(this,"CHUNK_SIZE",1e3)}static get CHUNK_SIZE_ABOUT(){return(0,t.shadow)(this,"CHUNK_SIZE_ABOUT",L.CHUNK_SIZE-5)}constructor(b,r){this._streamSink=r,this.fnArray=[],this.argsArray=[],this.optimizer=r&&"oplist"!==b?new x(this):new e(this),this.dependencies=new Set,this._totalLength=0,this.weight=0,this._resolved=r?null:Promise.resolve()}get length(){return this.argsArray.length}get ready(){return this._resolved||this._streamSink.ready}get totalLength(){return this._totalLength+this.length}addOp(b,r){this.optimizer.push(b,r),this.weight++,this._streamSink&&(this.weight>=L.CHUNK_SIZE||this.weight>=L.CHUNK_SIZE_ABOUT&&(b===t.OPS.restore||b===t.OPS.endText))&&this.flush()}addDependency(b){this.dependencies.has(b)||(this.dependencies.add(b),this.addOp(t.OPS.dependency,[b]))}addDependencies(b){for(const r of b)this.addDependency(r)}addOpList(b){if(b instanceof L){for(const r of b.dependencies)this.dependencies.add(r);for(let r=0,w=b.length;r<w;r++)this.addOp(b.fnArray[r],b.argsArray[r])}else(0,t.warn)('addOpList - ignoring invalid "opList" parameter.')}getIR(){return{fnArray:this.fnArray,argsArray:this.argsArray,length:this.length}}get _transfers(){const b=[],{fnArray:r,argsArray:w,length:o}=this;for(let h=0;h<o;h++)switch(r[h]){case t.OPS.paintInlineImageXObject:case t.OPS.paintInlineImageXObjectGroup:case t.OPS.paintImageMaskXObject:const n=w[h][0];n.cached||b.push(n.data.buffer)}return b}flush(b=!1){this.optimizer.flush();const r=this.length;this._totalLength+=r,this._streamSink.enqueue({fnArray:this.fnArray,argsArray:this.argsArray,lastChunk:b,length:r},1,this._transfers),this.dependencies.clear(),this.fnArray.length=0,this.argsArray.length=0,this.weight=0,this.optimizer.reset()}}I.OperatorList=L},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFImage=void 0;var t=G(2),F=G(5),R=G(14),e=G(19),x=G(27),L=G(30);function P(w,o,h,n){return(w=o+w*h)<0?w=0:w>n&&(w=n),w}function b(w,o,h,n,a,p){const v=a*p;let m;m=o<=8?new Uint8Array(v):o<=16?new Uint16Array(v):new Uint32Array(v);const c=h/a,f=n/p;let y,i,d,S,s=0;const l=new Uint16Array(a),A=h;for(y=0;y<a;y++)l[y]=Math.floor(y*c);for(y=0;y<p;y++)for(d=Math.floor(y*f)*A,i=0;i<a;i++)S=d+l[i],m[s++]=w[S];return m}class r{constructor({xref:o,res:h,image:n,isInline:a=!1,smask:p=null,mask:v=null,isMask:m=!1,pdfFunctionFactory:c,localColorSpaceCache:f}){this.image=n;const y=n.dict,i=y.get("Filter");if((0,F.isName)(i))switch(i.name){case"JPXDecode":const l=new L.JpxImage;l.parseImageProperties(n.stream),n.stream.reset(),n.width=l.width,n.height=l.height,n.bitsPerComponent=l.bitsPerComponent,n.numComps=l.componentsCount;break;case"JBIG2Decode":n.bitsPerComponent=1,n.numComps=1}let d=y.get("Width","W"),S=y.get("Height","H");if(Number.isInteger(n.width)&&n.width>0&&Number.isInteger(n.height)&&n.height>0&&(n.width!==d||n.height!==S)&&((0,t.warn)("PDFImage - using the Width/Height of the image data, rather than the image dictionary."),d=n.width,S=n.height),d<1||S<1)throw new t.FormatError(`Invalid image width: ${d} or height: ${S}`);this.width=d,this.height=S,this.interpolate=y.get("Interpolate","I")||!1,this.imageMask=y.get("ImageMask","IM")||!1,this.matte=y.get("Matte")||!1;let s=n.bitsPerComponent;if(!s&&(s=y.get("BitsPerComponent","BPC"),!s)){if(!this.imageMask)throw new t.FormatError(`Bits per component missing in image: ${this.imageMask}`);s=1}if(this.bpc=s,!this.imageMask){let l=y.getRaw("ColorSpace")||y.getRaw("CS");if(!l)switch((0,t.info)("JPX images (which do not require color spaces)"),n.numComps){case 1:l=F.Name.get("DeviceGray");break;case 3:l=F.Name.get("DeviceRGB");break;case 4:l=F.Name.get("DeviceCMYK");break;default:throw new Error(`JPX images with ${n.numComps} color components not supported.`)}this.colorSpace=R.ColorSpace.parse({cs:l,xref:o,resources:a?h:null,pdfFunctionFactory:c,localColorSpaceCache:f}),this.numComps=this.colorSpace.numComps}if(this.decode=y.getArray("Decode","D"),this.needsDecode=!1,this.decode&&(this.colorSpace&&!this.colorSpace.isDefaultDecode(this.decode,s)||m&&!R.ColorSpace.isDefaultDecode(this.decode,1))){this.needsDecode=!0;const l=(1<<s)-1;this.decodeCoefficients=[],this.decodeAddends=[];const A=this.colorSpace&&"Indexed"===this.colorSpace.name;for(let k=0,u=0;k<this.decode.length;k+=2,++u){const M=this.decode[k],O=this.decode[k+1];this.decodeCoefficients[u]=A?(O-M)/l:O-M,this.decodeAddends[u]=A?M:l*M}}p?this.smask=new r({xref:o,res:h,image:p,isInline:a,pdfFunctionFactory:c,localColorSpaceCache:f}):v&&((0,F.isStream)(v)?v.dict.get("ImageMask","IM")?this.mask=new r({xref:o,res:h,image:v,isInline:a,isMask:!0,pdfFunctionFactory:c,localColorSpaceCache:f}):(0,t.warn)("Ignoring /Mask in image without /ImageMask."):this.mask=v)}static async buildImage({xref:o,res:h,image:n,isInline:a=!1,pdfFunctionFactory:p,localColorSpaceCache:v}){const m=n;let c=null,f=null;const y=n.dict.get("SMask"),i=n.dict.get("Mask");return y?c=y:i&&((0,F.isStream)(i)||Array.isArray(i)?f=i:(0,t.warn)("Unsupported mask format.")),new r({xref:o,res:h,image:m,isInline:a,smask:c,mask:f,pdfFunctionFactory:p,localColorSpaceCache:v})}static createMask({imgArray:o,width:h,height:n,imageIsFromDecodeStream:a,inverseDecode:p}){const v=(h+7>>3)*n,m=o.byteLength;let c,f;if(!a||p&&v!==m)if(p)for(c=new Uint8ClampedArray(v),c.set(o),f=m;f<v;f++)c[f]=255;else c=new Uint8ClampedArray(m),c.set(o);else c=o;if(p)for(f=0;f<m;f++)c[f]^=255;return{data:c,width:h,height:n}}get drawWidth(){return Math.max(this.width,this.smask&&this.smask.width||0,this.mask&&this.mask.width||0)}get drawHeight(){return Math.max(this.height,this.smask&&this.smask.height||0,this.mask&&this.mask.height||0)}decodeBuffer(o){const h=this.bpc,n=this.numComps,a=this.decodeAddends,p=this.decodeCoefficients,v=(1<<h)-1;let m,c;if(1===h){for(m=0,c=o.length;m<c;m++)o[m]=+!o[m];return}let f=0;for(m=0,c=this.width*this.height;m<c;m++)for(let y=0;y<n;y++)o[f]=P(o[f],a[y],p[y],v),f++}getComponents(o){const h=this.bpc;if(8===h)return o;const n=this.width,a=this.height,p=this.numComps,v=n*a*p;let m,c=0;m=h<=8?new Uint8Array(v):h<=16?new Uint16Array(v):new Uint32Array(v);const f=n*p,y=(1<<h)-1;let i,d,S=0;if(1===h){let s,l,A;for(let k=0;k<a;k++){for(l=S+(-8&f),A=S+f;S<l;)d=o[c++],m[S]=d>>7&1,m[S+1]=d>>6&1,m[S+2]=d>>5&1,m[S+3]=d>>4&1,m[S+4]=d>>3&1,m[S+5]=d>>2&1,m[S+6]=d>>1&1,m[S+7]=1&d,S+=8;if(S<A)for(d=o[c++],s=128;S<A;)m[S++]=+!!(d&s),s>>=1}}else{let s=0;for(d=0,S=0,i=v;S<i;++S){for(S%f==0&&(d=0,s=0);s<h;)d=d<<8|o[c++],s+=8;const l=s-h;let A=d>>l;A<0?A=0:A>y&&(A=y),m[S]=A,d&=(1<<l)-1,s=l}}return m}fillOpacity(o,h,n,a,p){const v=this.smask,m=this.mask;let c,f,y,i,d,S;if(v)f=v.width,y=v.height,c=new Uint8ClampedArray(f*y),v.fillGrayBuffer(c),f===h&&y===n||(c=b(c,v.bpc,f,y,h,n));else if(m)if(m instanceof r){for(f=m.width,y=m.height,c=new Uint8ClampedArray(f*y),m.numComps=1,m.fillGrayBuffer(c),i=0,d=f*y;i<d;++i)c[i]=255-c[i];f===h&&y===n||(c=b(c,m.bpc,f,y,h,n))}else{if(!Array.isArray(m))throw new t.FormatError("Unknown mask format.");{c=new Uint8ClampedArray(h*n);const s=this.numComps;for(i=0,d=h*n;i<d;++i){let l=0;const A=i*s;for(S=0;S<s;++S){const k=p[A+S],u=2*S;if(k<m[u]||k>m[u+1]){l=255;break}}c[i]=l}}}if(c)for(i=0,S=3,d=h*a;i<d;++i,S+=4)o[S]=c[i];else for(i=0,S=3,d=h*a;i<d;++i,S+=4)o[S]=255}undoPreblend(o,h,n){const a=this.smask&&this.smask.matte;if(!a)return;const p=this.colorSpace.getRgb(a,0),v=p[0],m=p[1],c=p[2],f=h*n*4;for(let y=0;y<f;y+=4){const i=o[y+3];if(0===i){o[y]=255,o[y+1]=255,o[y+2]=255;continue}const d=255/i;o[y]=(o[y]-v)*d+v,o[y+1]=(o[y+1]-m)*d+m,o[y+2]=(o[y+2]-c)*d+c}}createImageData(o=!1){const h=this.drawWidth,n=this.drawHeight,a={width:h,height:n,kind:0,data:null},v=this.width,m=this.height,c=this.bpc,f=v*this.numComps*c+7>>3;let y;if(!o){let l;if("DeviceGray"===this.colorSpace.name&&1===c?l=t.ImageKind.GRAYSCALE_1BPP:"DeviceRGB"!==this.colorSpace.name||8!==c||this.needsDecode||(l=t.ImageKind.RGB_24BPP),l&&!this.smask&&!this.mask&&h===v&&n===m){if(a.kind=l,y=this.getImageBytes(m*f),this.image instanceof e.DecodeStream)a.data=y;else{const A=new Uint8ClampedArray(y.length);A.set(y),a.data=A}if(this.needsDecode){(0,t.assert)(l===t.ImageKind.GRAYSCALE_1BPP,"PDFImage.createImageData: The image must be grayscale.");const A=a.data;for(let k=0,u=A.length;k<u;k++)A[k]^=255}return a}if(this.image instanceof x.JpegStream&&!this.smask&&!this.mask){let A=m*f;switch(this.colorSpace.name){case"DeviceGray":A*=3;case"DeviceRGB":case"DeviceCMYK":return a.kind=t.ImageKind.RGB_24BPP,a.data=this.getImageBytes(A,h,n,!0),a}}}y=this.getImageBytes(m*f);const i=0|y.length/f*n/m,d=this.getComponents(y);let S,s;return o||this.smask||this.mask?(a.kind=t.ImageKind.RGBA_32BPP,a.data=new Uint8ClampedArray(h*n*4),S=1,s=!0,this.fillOpacity(a.data,h,n,i,d)):(a.kind=t.ImageKind.RGB_24BPP,a.data=new Uint8ClampedArray(h*n*3),S=0,s=!1),this.needsDecode&&this.decodeBuffer(d),this.colorSpace.fillRgb(a.data,v,m,h,n,i,c,d,S),s&&this.undoPreblend(a.data,h,i),a}fillGrayBuffer(o){const h=this.numComps;if(1!==h)throw new t.FormatError(`Reading gray scale from a color image: ${h}`);const n=this.width,a=this.height,p=this.bpc,m=this.getImageBytes(a*(n*h*p+7>>3)),c=this.getComponents(m);let f,y;if(1===p){if(y=n*a,this.needsDecode)for(f=0;f<y;++f)o[f]=c[f]-1&255;else for(f=0;f<y;++f)o[f]=255&-c[f];return}this.needsDecode&&this.decodeBuffer(c),y=n*a;const i=255/((1<<p)-1);for(f=0;f<y;++f)o[f]=i*c[f]}getImageBytes(o,h,n,a=!1){return this.image.reset(),this.image.drawWidth=h||this.width,this.image.drawHeight=n||this.height,this.image.forceRGB=!!a,this.image.getBytes(o,!0)}}I.PDFImage=r},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Catalog=void 0;var t=G(5),F=G(9),R=G(2),e=G(58),x=G(14),L=G(59),P=G(51),b=G(60),r=G(62);function w(h){return h instanceof t.Dict&&(h=h.get("D")),Array.isArray(h)?h:null}class o{constructor(n,a){if(this.pdfManager=n,this.xref=a,this._catDict=a.getCatalogObj(),!(0,t.isDict)(this._catDict))throw new R.FormatError("Catalog object is not a dictionary.");this.fontCache=new t.RefSetCache,this.builtInCMapCache=new Map,this.globalImageCache=new P.GlobalImageCache,this.pageKidsCountCache=new t.RefSetCache,this.pageIndexCache=new t.RefSetCache,this.nonBlendModesSet=new t.RefSet}get version(){const n=this._catDict.get("Version");return(0,t.isName)(n)?(0,R.shadow)(this,"version",n.name):(0,R.shadow)(this,"version",null)}get collection(){let n=null;try{const a=this._catDict.get("Collection");(0,t.isDict)(a)&&a.size>0&&(n=a)}catch(a){if(a instanceof F.MissingDataException)throw a;(0,R.info)("Cannot fetch Collection entry; assuming no collection is present.")}return(0,R.shadow)(this,"collection",n)}get acroForm(){let n=null;try{const a=this._catDict.get("AcroForm");(0,t.isDict)(a)&&a.size>0&&(n=a)}catch(a){if(a instanceof F.MissingDataException)throw a;(0,R.info)("Cannot fetch AcroForm entry; assuming no forms are present.")}return(0,R.shadow)(this,"acroForm",n)}get metadata(){const n=this._catDict.getRaw("Metadata");if(!(0,t.isRef)(n))return(0,R.shadow)(this,"metadata",null);const p=this.xref.fetch(n,!(this.xref.encrypt&&this.xref.encrypt.encryptMetadata));let v=null;if((0,t.isStream)(p)&&(0,t.isDict)(p.dict)){const m=p.dict.get("Type"),c=p.dict.get("Subtype");if((0,t.isName)(m,"Metadata")&&(0,t.isName)(c,"XML"))try{const f=(0,R.stringToUTF8String)(p.getString());f&&(v=new b.MetadataParser(f).serializable)}catch(f){if(f instanceof F.MissingDataException)throw f;(0,R.info)("Skipping invalid metadata.")}}return(0,R.shadow)(this,"metadata",v)}get markInfo(){let n=null;try{n=this._readMarkInfo()}catch(a){if(a instanceof F.MissingDataException)throw a;(0,R.warn)("Unable to read mark info.")}return(0,R.shadow)(this,"markInfo",n)}_readMarkInfo(){const n=this._catDict.get("MarkInfo");if(!(0,t.isDict)(n))return null;const a=Object.assign(Object.create(null),{Marked:!1,UserProperties:!1,Suspects:!1});for(const p in a){if(!n.has(p))continue;const v=n.get(p);(0,R.isBool)(v)&&(a[p]=v)}return a}get structTreeRoot(){let n=null;try{n=this._readStructTreeRoot()}catch(a){if(a instanceof F.MissingDataException)throw a;(0,R.warn)("Unable read to structTreeRoot info.")}return(0,R.shadow)(this,"structTreeRoot",n)}_readStructTreeRoot(){const n=this._catDict.get("StructTreeRoot");if(!(0,t.isDict)(n))return null;const a=new r.StructTreeRoot(n);return a.init(),a}get toplevelPagesDict(){const n=this._catDict.get("Pages");if(!(0,t.isDict)(n))throw new R.FormatError("Invalid top-level pages dictionary.");return(0,R.shadow)(this,"toplevelPagesDict",n)}get documentOutline(){let n=null;try{n=this._readDocumentOutline()}catch(a){if(a instanceof F.MissingDataException)throw a;(0,R.warn)("Unable to read document outline.")}return(0,R.shadow)(this,"documentOutline",n)}_readDocumentOutline(){let n=this._catDict.get("Outlines");if(!(0,t.isDict)(n)||(n=n.getRaw("First"),!(0,t.isRef)(n)))return null;const a={items:[]},p=[{obj:n,parent:a}],v=new t.RefSet;v.put(n);const m=this.xref,c=new Uint8ClampedArray(3);for(;p.length>0;){const f=p.shift(),y=m.fetchIfRef(f.obj);if(null===y)continue;if(!y.has("Title"))throw new R.FormatError("Invalid outline item encountered.");const i={url:null,dest:null};o.parseDestDictionary({destDict:y,resultObj:i,docBaseUrl:this.pdfManager.docBaseUrl});const d=y.get("Title"),S=y.get("F")||0,s=y.getArray("C"),l=y.get("Count");let A=c;!Array.isArray(s)||3!==s.length||0===s[0]&&0===s[1]&&0===s[2]||(A=x.ColorSpace.singletons.rgb.getRgb(s,0));const k={dest:i.dest,url:i.url,unsafeUrl:i.unsafeUrl,newWindow:i.newWindow,title:(0,R.stringToPDFString)(d),color:A,count:Number.isInteger(l)?l:void 0,bold:!!(2&S),italic:!!(1&S),items:[]};f.parent.items.push(k),n=y.getRaw("First"),(0,t.isRef)(n)&&!v.has(n)&&(p.push({obj:n,parent:k}),v.put(n)),n=y.getRaw("Next"),(0,t.isRef)(n)&&!v.has(n)&&(p.push({obj:n,parent:f.parent}),v.put(n))}return a.items.length>0?a.items:null}get permissions(){let n=null;try{n=this._readPermissions()}catch(a){if(a instanceof F.MissingDataException)throw a;(0,R.warn)("Unable to read permissions.")}return(0,R.shadow)(this,"permissions",n)}_readPermissions(){const n=this.xref.trailer.get("Encrypt");if(!(0,t.isDict)(n))return null;let a=n.get("P");if(!(0,R.isNum)(a))return null;a+=4294967296;const p=[];for(const v in R.PermissionFlag){const m=R.PermissionFlag[v];a&m&&p.push(m)}return p}get optionalContentConfig(){let n=null;try{const a=this._catDict.get("OCProperties");if(!a)return(0,R.shadow)(this,"optionalContentConfig",null);const p=a.get("D");if(!p)return(0,R.shadow)(this,"optionalContentConfig",null);const v=a.get("OCGs");if(!Array.isArray(v))return(0,R.shadow)(this,"optionalContentConfig",null);const m=[],c=[];for(const f of v){if(!(0,t.isRef)(f))continue;c.push(f);const y=this.xref.fetchIfRef(f);m.push({id:f.toString(),name:(0,R.isString)(y.get("Name"))?(0,R.stringToPDFString)(y.get("Name")):null,intent:(0,R.isString)(y.get("Intent"))?(0,R.stringToPDFString)(y.get("Intent")):null})}n=this._readOptionalContentConfig(p,c),n.groups=m}catch(a){if(a instanceof F.MissingDataException)throw a;(0,R.warn)(`Unable to read optional content config: ${a}`)}return(0,R.shadow)(this,"optionalContentConfig",n)}_readOptionalContentConfig(n,a){function p(i){const d=[];if(Array.isArray(i))for(const S of i)(0,t.isRef)(S)&&a.includes(S)&&d.push(S.toString());return d}function v(i,d=0){if(!Array.isArray(i))return null;const S=[];for(const l of i){if((0,t.isRef)(l)&&a.includes(l)){f.put(l),S.push(l.toString());continue}const A=m(l,d);A&&S.push(A)}if(d>0)return S;const s=[];for(const l of a)f.has(l)||s.push(l.toString());return s.length&&S.push({name:null,order:s}),S}function m(i,d){if(++d>y)return(0,R.warn)("parseNestedOrder - reached MAX_NESTED_LEVELS."),null;const S=c.fetchIfRef(i);if(!Array.isArray(S))return null;const s=c.fetchIfRef(S[0]);if("string"!=typeof s)return null;const l=v(S.slice(1),d);return l&&l.length?{name:(0,R.stringToPDFString)(s),order:l}:null}const c=this.xref,f=new t.RefSet,y=10;return{name:(0,R.isString)(n.get("Name"))?(0,R.stringToPDFString)(n.get("Name")):null,creator:(0,R.isString)(n.get("Creator"))?(0,R.stringToPDFString)(n.get("Creator")):null,baseState:(0,t.isName)(n.get("BaseState"))?n.get("BaseState").name:null,on:p(n.get("ON")),off:p(n.get("OFF")),order:v(n.get("Order")),groups:null}}get numPages(){const n=this.toplevelPagesDict.get("Count");if(!Number.isInteger(n))throw new R.FormatError("Page count in top-level pages dictionary is not an integer.");return(0,R.shadow)(this,"numPages",n)}get destinations(){const n=this._readDests(),a=Object.create(null);if(n instanceof e.NameTree)for(const[p,v]of n.getAll()){const m=w(v);m&&(a[p]=m)}else n instanceof t.Dict&&n.forEach(function(p,v){const m=w(v);m&&(a[p]=m)});return(0,R.shadow)(this,"destinations",a)}getDestination(n){const a=this._readDests();if(a instanceof e.NameTree){const p=w(a.get(n));if(p)return p;const v=this.destinations[n];if(v)return(0,R.warn)(`Found "${n}" at an incorrect position in the NameTree.`),v}else if(a instanceof t.Dict){const p=w(a.get(n));if(p)return p}return null}_readDests(){const n=this._catDict.get("Names");return n&&n.has("Dests")?new e.NameTree(n.getRaw("Dests"),this.xref):this._catDict.has("Dests")?this._catDict.get("Dests"):void 0}get pageLabels(){let n=null;try{n=this._readPageLabels()}catch(a){if(a instanceof F.MissingDataException)throw a;(0,R.warn)("Unable to read page labels.")}return(0,R.shadow)(this,"pageLabels",n)}_readPageLabels(){const n=this._catDict.getRaw("PageLabels");if(!n)return null;const a=new Array(this.numPages);let p=null,v="";const m=new e.NumberTree(n,this.xref).getAll();let c="",f=1;for(let y=0,i=this.numPages;y<i;y++){const d=m.get(y);if(void 0!==d){if(!(0,t.isDict)(d))throw new R.FormatError("PageLabel is not a dictionary.");if(d.has("Type")&&!(0,t.isName)(d.get("Type"),"PageLabel"))throw new R.FormatError("Invalid type in PageLabel dictionary.");if(d.has("S")){const S=d.get("S");if(!(0,t.isName)(S))throw new R.FormatError("Invalid style in PageLabel dictionary.");p=S.name}else p=null;if(d.has("P")){const S=d.get("P");if(!(0,R.isString)(S))throw new R.FormatError("Invalid prefix in PageLabel dictionary.");v=(0,R.stringToPDFString)(S)}else v="";if(d.has("St")){const S=d.get("St");if(!(Number.isInteger(S)&&S>=1))throw new R.FormatError("Invalid start in PageLabel dictionary.");f=S}else f=1}switch(p){case"D":c=f;break;case"R":case"r":c=(0,F.toRomanNumerals)(f,"r"===p);break;case"A":case"a":const S=26,k=f-1,u=String.fromCharCode(("a"===p?97:65)+k%S),M=[];for(let O=0,C=k/S|0;O<=C;O++)M.push(u);c=M.join("");break;default:if(p)throw new R.FormatError(`Invalid style "${p}" in PageLabel dictionary.`);c=""}a[y]=v+c,f++}return a}get pageLayout(){const n=this._catDict.get("PageLayout");let a="";if((0,t.isName)(n))switch(n.name){case"SinglePage":case"OneColumn":case"TwoColumnLeft":case"TwoColumnRight":case"TwoPageLeft":case"TwoPageRight":a=n.name}return(0,R.shadow)(this,"pageLayout",a)}get pageMode(){const n=this._catDict.get("PageMode");let a="UseNone";if((0,t.isName)(n))switch(n.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"FullScreen":case"UseOC":case"UseAttachments":a=n.name}return(0,R.shadow)(this,"pageMode",a)}get viewerPreferences(){const n={HideToolbar:R.isBool,HideMenubar:R.isBool,HideWindowUI:R.isBool,FitWindow:R.isBool,CenterWindow:R.isBool,DisplayDocTitle:R.isBool,NonFullScreenPageMode:t.isName,Direction:t.isName,ViewArea:t.isName,ViewClip:t.isName,PrintArea:t.isName,PrintClip:t.isName,PrintScaling:t.isName,Duplex:t.isName,PickTrayByPDFSize:R.isBool,PrintPageRange:Array.isArray,NumCopies:Number.isInteger},a=this._catDict.get("ViewerPreferences");let p=null;if((0,t.isDict)(a))for(const v in n){if(!a.has(v))continue;const m=a.get(v);if(!n[v](m)){(0,R.info)(`Bad value in ViewerPreferences for "${v}".`);continue}let c;switch(v){case"NonFullScreenPageMode":switch(m.name){case"UseNone":case"UseOutlines":case"UseThumbs":case"UseOC":c=m.name;break;default:c="UseNone"}break;case"Direction":switch(m.name){case"L2R":case"R2L":c=m.name;break;default:c="L2R"}break;case"ViewArea":case"ViewClip":case"PrintArea":case"PrintClip":switch(m.name){case"MediaBox":case"CropBox":case"BleedBox":case"TrimBox":case"ArtBox":c=m.name;break;default:c="CropBox"}break;case"PrintScaling":switch(m.name){case"None":case"AppDefault":c=m.name;break;default:c="AppDefault"}break;case"Duplex":switch(m.name){case"Simplex":case"DuplexFlipShortEdge":case"DuplexFlipLongEdge":c=m.name;break;default:c="None"}break;case"PrintPageRange":if(m.length%2!=0)break;m.every((f,y,i)=>Number.isInteger(f)&&f>0&&(0===y||f>=i[y-1])&&f<=this.numPages)&&(c=m);break;case"NumCopies":m>0&&(c=m);break;default:if("boolean"!=typeof m)throw new R.FormatError(`viewerPreferences - expected a boolean value for: ${v}`);c=m}void 0!==c?(p||(p=Object.create(null)),p[v]=c):(0,R.info)(`Bad value in ViewerPreferences for "${v}".`)}return(0,R.shadow)(this,"viewerPreferences",p)}get openAction(){const n=this._catDict.get("OpenAction"),a=Object.create(null);if((0,t.isDict)(n)){const p=new t.Dict(this.xref);p.set("A",n);const v={url:null,dest:null,action:null};o.parseDestDictionary({destDict:p,resultObj:v}),Array.isArray(v.dest)?a.dest=v.dest:v.action&&(a.action=v.action)}else Array.isArray(n)&&(a.dest=n);return(0,R.shadow)(this,"openAction",(0,R.objectSize)(a)>0?a:null)}get attachments(){const n=this._catDict.get("Names");let a=null;if(n instanceof t.Dict&&n.has("EmbeddedFiles")){const p=new e.NameTree(n.getRaw("EmbeddedFiles"),this.xref);for(const[v,m]of p.getAll()){const c=new L.FileSpec(m,this.xref);a||(a=Object.create(null)),a[(0,R.stringToPDFString)(v)]=c.serializable}}return(0,R.shadow)(this,"attachments",a)}_collectJavaScript(){const n=this._catDict.get("Names");let a=null;function p(m,c){if(!(c instanceof t.Dict&&(0,t.isName)(c.get("S"),"JavaScript")))return;let f=c.get("JS");if((0,t.isStream)(f))f=f.getString();else if("string"!=typeof f)return;null===a&&(a=new Map),a.set(m,(0,R.stringToPDFString)(f))}if(n instanceof t.Dict&&n.has("JavaScript")){const m=new e.NameTree(n.getRaw("JavaScript"),this.xref);for(const[c,f]of m.getAll())p(c,f)}const v=this._catDict.get("OpenAction");return v&&p("OpenAction",v),a}get javaScript(){const n=this._collectJavaScript();return(0,R.shadow)(this,"javaScript",n?[...n.values()]:null)}get jsActions(){const n=this._collectJavaScript();let a=(0,F.collectActions)(this.xref,this._catDict,R.DocumentActionEventType);if(n){a||(a=Object.create(null));for(const[p,v]of n)p in a?a[p].push(v):a[p]=[v]}return(0,R.shadow)(this,"jsActions",a)}fontFallback(n,a){const p=[];return this.fontCache.forEach(function(v){p.push(v)}),Promise.all(p).then(v=>{for(const m of v)if(m.loadedName===n)return void m.fallback(a)})}cleanup(n=!1){(0,t.clearPrimitiveCaches)(),this.globalImageCache.clear(n),this.pageKidsCountCache.clear(),this.pageIndexCache.clear(),this.nonBlendModesSet.clear();const a=[];return this.fontCache.forEach(function(p){a.push(p)}),Promise.all(a).then(p=>{for(const{dict:v}of p)delete v.cacheKey;this.fontCache.clear(),this.builtInCMapCache.clear()})}getPageDict(n){const a=(0,R.createPromiseCapability)(),p=[this._catDict.getRaw("Pages")],v=new t.RefSet,m=this.xref,c=this.pageKidsCountCache;let f,y=0;return function i(){for(;p.length;){const d=p.pop();if((0,t.isRef)(d)){if(f=c.get(d),f>0&&y+f<n){y+=f;continue}return v.has(d)?void a.reject(new R.FormatError("Pages tree contains circular reference.")):(v.put(d),void m.fetchAsync(d).then(function(s){(0,t.isDict)(s,"Page")||(0,t.isDict)(s)&&!s.has("Kids")?n===y?(d&&!c.has(d)&&c.put(d,1),a.resolve([s,d])):(y++,i()):(p.push(s),i())},a.reject))}if(!(0,t.isDict)(d))return void a.reject(new R.FormatError("Page dictionary kid reference points to wrong type of object."));if(f=d.get("Count"),Number.isInteger(f)&&f>=0){const s=d.objId;if(s&&!c.has(s)&&c.put(s,f),y+f<=n){y+=f;continue}}const S=d.get("Kids");if(!Array.isArray(S)){if((0,t.isName)(d.get("Type"),"Page")||!d.has("Type")&&d.has("Contents")){if(y===n)return void a.resolve([d,null]);y++;continue}return void a.reject(new R.FormatError("Page dictionary kids object is not an array."))}for(let s=S.length-1;s>=0;s--)p.push(S[s])}a.reject(new Error(`Page index ${n} not found.`))}(),a.promise}getPageIndex(n){const a=this.pageIndexCache.get(n);if(void 0!==a)return Promise.resolve(a);const p=this.xref;let v=0;const m=c=>function(y){let i,d=0;return p.fetchAsync(y).then(function(S){if((0,t.isRefsEqual)(y,n)&&!(0,t.isDict)(S,"Page")&&(!(0,t.isDict)(S)||S.has("Type")||!S.has("Contents")))throw new R.FormatError("The reference does not point to a /Page dictionary.");if(!S)return null;if(!(0,t.isDict)(S))throw new R.FormatError("Node must be a dictionary.");return i=S.getRaw("Parent"),S.getAsync("Parent")}).then(function(S){if(!S)return null;if(!(0,t.isDict)(S))throw new R.FormatError("Parent must be a dictionary.");return S.getAsync("Kids")}).then(function(S){if(!S)return null;const s=[];let l=!1;for(let A=0,k=S.length;A<k;A++){const u=S[A];if(!(0,t.isRef)(u))throw new R.FormatError("Kid must be a reference.");if((0,t.isRefsEqual)(u,y)){l=!0;break}s.push(p.fetchAsync(u).then(function(M){if(!(0,t.isDict)(M))throw new R.FormatError("Kid node must be a dictionary.");M.has("Count")?d+=M.get("Count"):d++}))}if(!l)throw new R.FormatError("Kid reference not found in parent's kids.");return Promise.all(s).then(function(){return[d,i]})})}(c).then(f=>{if(!f)return this.pageIndexCache.put(n,v),v;const[y,i]=f;return v+=y,m(i)});return m(n)}static parseDestDictionary(n){const a=n.destDict;if(!(0,t.isDict)(a))return void(0,R.warn)("parseDestDictionary: `destDict` must be a dictionary.");const p=n.resultObj;if("object"!=typeof p)return void(0,R.warn)("parseDestDictionary: `resultObj` must be an object.");const v=n.docBaseUrl||null;let m,c,f=a.get("A");if((0,t.isDict)(f)||(a.has("Dest")?f=a.get("Dest"):(f=a.get("AA"),(0,t.isDict)(f)&&(f.has("D")?f=f.get("D"):f.has("U")&&(f=f.get("U"))))),(0,t.isDict)(f)){const y=f.get("S");if(!(0,t.isName)(y))return void(0,R.warn)("parseDestDictionary: Invalid type in Action dictionary.");const i=y.name;switch(i){case"URI":m=f.get("URI"),(0,t.isName)(m)?m="/"+m.name:(0,R.isString)(m)&&(m=(M=m).startsWith("www.")?`http://${M}`:M);break;case"GoTo":c=f.get("D");break;case"Launch":case"GoToR":const d=f.get("F");(0,t.isDict)(d)?m=d.get("F")||null:(0,R.isString)(d)&&(m=d);let S=f.get("D");if(S&&((0,t.isName)(S)&&(S=S.name),(0,R.isString)(m))){const u=m.split("#")[0];(0,R.isString)(S)?m=u+"#"+S:Array.isArray(S)&&(m=u+"#"+JSON.stringify(S))}const s=f.get("NewWindow");(0,R.isBool)(s)&&(p.newWindow=s);break;case"Named":const l=f.get("N");(0,t.isName)(l)&&(p.action=l.name);break;case"JavaScript":const A=f.get("JS");let k;if((0,t.isStream)(A)?k=A.getString():(0,R.isString)(A)&&(k=A),k){const u=new RegExp("^\\s*("+["app.launchURL","window.open"].join("|").split(".").join("\\.")+")\\((?:'|\")([^'\"]*)(?:'|\")(?:,\\s*(\\w+)\\)|\\))","i").exec((0,R.stringToPDFString)(k));if(u&&u[2]){m=u[2],"true"===u[3]&&"app.launchURL"===u[1]&&(p.newWindow=!0);break}}default:if("JavaScript"===i||"ResetForm"===i||"SubmitForm"===i)break;(0,R.warn)(`parseDestDictionary - unsupported action: "${i}".`)}}else a.has("Dest")&&(c=a.get("Dest"));var M;if((0,R.isString)(m)){m=function(d){try{return(0,R.stringToUTF8String)(d)}catch{return d}}(m);const y=(0,R.createValidAbsoluteUrl)(m,v);y&&(p.url=y.href),p.unsafeUrl=m}c&&((0,t.isName)(c)&&(c=c.name),((0,R.isString)(c)||Array.isArray(c))&&(p.dest=c))}}I.Catalog=o},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.NumberTree=I.NameTree=void 0;var t=G(2),F=G(5);class R{constructor(x,L,P){this.constructor===R&&(0,t.unreachable)("Cannot initialize NameOrNumberTree."),this.root=x,this.xref=L,this._type=P}getAll(){const x=new Map;if(!this.root)return x;const L=this.xref,P=new F.RefSet;P.put(this.root);const b=[this.root];for(;b.length>0;){const r=L.fetchIfRef(b.shift());if(!(0,F.isDict)(r))continue;if(r.has("Kids")){const o=r.get("Kids");for(let h=0,n=o.length;h<n;h++){const a=o[h];if(P.has(a))throw new t.FormatError(`Duplicate entry in "${this._type}" tree.`);b.push(a),P.put(a)}continue}const w=r.get(this._type);if(Array.isArray(w))for(let o=0,h=w.length;o<h;o+=2)x.set(L.fetchIfRef(w[o]),L.fetchIfRef(w[o+1]))}return x}get(x){if(!this.root)return null;const L=this.xref;let P=L.fetchIfRef(this.root),b=0;for(;P.has("Kids");){if(++b>10)return(0,t.warn)(`Search depth limit reached for "${this._type}" tree.`),null;const w=P.get("Kids");if(!Array.isArray(w))return null;let o=0,h=w.length-1;for(;o<=h;){const n=o+h>>1,a=L.fetchIfRef(w[n]).get("Limits");if(x<L.fetchIfRef(a[0]))h=n-1;else{if(!(x>L.fetchIfRef(a[1]))){P=L.fetchIfRef(w[n]);break}o=n+1}}if(o>h)return null}const r=P.get(this._type);if(Array.isArray(r)){let w=0,o=r.length-2;for(;w<=o;){const h=w+o>>1,n=h+(1&h),a=L.fetchIfRef(r[n]);if(x<a)o=n-2;else{if(!(x>a))return L.fetchIfRef(r[n+1]);w=n+2}}}return null}}I.NameTree=class extends R{constructor(x,L){super(x,L,"Names")}},I.NumberTree=class extends R{constructor(x,L){super(x,L,"Nums")}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.FileSpec=void 0;var t=G(5),F=G(2);function R(e){return e.has("UF")?e.get("UF"):e.has("F")?e.get("F"):e.has("Unix")?e.get("Unix"):e.has("Mac")?e.get("Mac"):e.has("DOS")?e.get("DOS"):null}I.FileSpec=class{constructor(x,L){x&&(0,t.isDict)(x)&&(this.xref=L,this.root=x,x.has("FS")&&(this.fs=x.get("FS")),this.description=x.has("Desc")?(0,F.stringToPDFString)(x.get("Desc")):"",x.has("RF")&&(0,F.warn)("Related file specifications are not supported"),this.contentAvailable=!0,x.has("EF")||(this.contentAvailable=!1,(0,F.warn)("Non-embedded file specifications are not supported")))}get filename(){if(!this._filename&&this.root){const x=R(this.root)||"unnamed";this._filename=(0,F.stringToPDFString)(x).replace(/\\\\/g,"\\").replace(/\\\//g,"/").replace(/\\/g,"/")}return this._filename}get content(){if(!this.contentAvailable)return null;!this.contentRef&&this.root&&(this.contentRef=R(this.root.get("EF")));let x=null;if(this.contentRef){const L=this.xref.fetchIfRef(this.contentRef);L&&(0,t.isStream)(L)?x=L.getBytes():(0,F.warn)("Embedded file specification points to non-existing/invalid content")}else(0,F.warn)("Embedded file specification does not have a content");return x}get serializable(){return{filename:this.filename,content:this.content}}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.MetadataParser=void 0;var t=G(61);I.MetadataParser=class{constructor(R){R=this._repair(R);const e=new t.SimpleXMLParser({lowerCaseName:!0}).parseFromString(R);this._metadataMap=new Map,this._data=R,e&&this._parse(e)}_repair(R){return R.replace(/^[^<]+/,"").replace(/>\\376\\377([^<]+)/g,function(e,x){const L=x.replace(/\\([0-3])([0-7])([0-7])/g,function(b,r,w,o){return String.fromCharCode(64*r+8*w+1*o)}).replace(/&(amp|apos|gt|lt|quot);/g,function(b,r){switch(r){case"amp":return"&";case"apos":return"'";case"gt":return">";case"lt":return"<";case"quot":return'"'}throw new Error(`_repair: ${r} isn't defined.`)}),P=[];for(let b=0,r=L.length;b<r;b+=2){const w=256*L.charCodeAt(b)+L.charCodeAt(b+1);P.push(w>=32&&w<127&&60!==w&&62!==w&&38!==w?String.fromCharCode(w):"&#x"+(65536+w).toString(16).substring(1)+";")}return">"+P.join("")})}_getSequence(R){const e=R.nodeName;return"rdf:bag"!==e&&"rdf:seq"!==e&&"rdf:alt"!==e?null:R.childNodes.filter(x=>"rdf:li"===x.nodeName)}_parseArray(R){if(!R.hasChildNodes())return;const[e]=R.childNodes,x=this._getSequence(e)||[];this._metadataMap.set(R.nodeName,x.map(L=>L.textContent.trim()))}_parse(R){let e=R.documentElement;if("rdf:rdf"!==e.nodeName)for(e=e.firstChild;e&&"rdf:rdf"!==e.nodeName;)e=e.nextSibling;if(e&&"rdf:rdf"===e.nodeName&&e.hasChildNodes())for(const x of e.childNodes)if("rdf:description"===x.nodeName)for(const L of x.childNodes){const P=L.nodeName;switch(P){case"#text":continue;case"dc:creator":case"dc:subject":this._parseArray(L);continue}this._metadataMap.set(P,L.textContent.trim())}}get serializable(){return{parsedData:this._metadataMap,rawData:this._data}}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XMLParserErrorCode=I.XMLParserBase=I.SimpleXMLParser=I.SimpleDOMNode=void 0;var t=G(9);const F={NoError:0,EndOfDocument:-1,UnterminatedCdat:-2,UnterminatedXmlDeclaration:-3,UnterminatedDoctypeDeclaration:-4,UnterminatedComment:-5,MalformedElement:-6,OutOfMemory:-7,UnterminatedAttributeValue:-8,UnterminatedElement:-9,ElementNeverBegun:-10};function R(L,P){const b=L[P];return" "===b||"\n"===b||"\r"===b||"\t"===b}I.XMLParserErrorCode=F;class e{_resolveEntities(P){return P.replace(/&([^;]+);/g,(b,r)=>{if("#x"===r.substring(0,2))return String.fromCodePoint(parseInt(r.substring(2),16));if("#"===r.substring(0,1))return String.fromCodePoint(parseInt(r.substring(1),10));switch(r){case"lt":return"<";case"gt":return">";case"amp":return"&";case"quot":return'"';case"apos":return"'"}return this.onResolveEntity(r)})}_parseContent(P,b){const r=[];let w=b;function o(){for(;w<P.length&&R(P,w);)++w}for(;w<P.length&&!R(P,w)&&">"!==P[w]&&"/"!==P[w];)++w;const h=P.substring(b,w);for(o();w<P.length&&">"!==P[w]&&"/"!==P[w]&&"?"!==P[w];){o();let n="",a="";for(;w<P.length&&!R(P,w)&&"="!==P[w];)n+=P[w],++w;if(o(),"="!==P[w])return null;++w,o();const p=P[w];if('"'!==p&&"'"!==p)return null;const v=P.indexOf(p,++w);if(v<0)return null;a=P.substring(w,v),r.push({name:n,value:this._resolveEntities(a)}),w=v+1,o()}return{name:h,attributes:r,parsed:w-b}}_parseProcessingInstruction(P,b){let r=b;for(;r<P.length&&!R(P,r)&&">"!==P[r]&&"?"!==P[r]&&"/"!==P[r];)++r;const w=P.substring(b,r);!function(){for(;r<P.length&&R(P,r);)++r}();const o=r;for(;r<P.length&&("?"!==P[r]||">"!==P[r+1]);)++r;return{name:w,value:P.substring(o,r),parsed:r-b}}parseXml(P){let b=0;for(;b<P.length;){let r=b;if("<"===P[b]){let w;switch(++r,P[r]){case"/":if(++r,w=P.indexOf(">",r),w<0)return void this.onError(F.UnterminatedElement);this.onEndElement(P.substring(r,w)),r=w+1;break;case"?":++r;const o=this._parseProcessingInstruction(P,r);if("?>"!==P.substring(r+o.parsed,r+o.parsed+2))return void this.onError(F.UnterminatedXmlDeclaration);this.onPi(o.name,o.value),r+=o.parsed+2;break;case"!":if("--"===P.substring(r+1,r+3)){if(w=P.indexOf("--\x3e",r+3),w<0)return void this.onError(F.UnterminatedComment);this.onComment(P.substring(r+3,w)),r=w+3}else if("[CDATA["===P.substring(r+1,r+8)){if(w=P.indexOf("]]>",r+8),w<0)return void this.onError(F.UnterminatedCdat);this.onCdata(P.substring(r+8,w)),r=w+3}else{if("DOCTYPE"!==P.substring(r+1,r+8))return void this.onError(F.MalformedElement);{const a=P.indexOf("[",r+8);let p=!1;if(w=P.indexOf(">",r+8),w<0)return void this.onError(F.UnterminatedDoctypeDeclaration);if(a>0&&w>a){if(w=P.indexOf("]>",r+8),w<0)return void this.onError(F.UnterminatedDoctypeDeclaration);p=!0}const v=P.substring(r+8,w+(p?1:0));this.onDoctype(v),r=w+(p?2:1)}}break;default:const h=this._parseContent(P,r);if(null===h)return void this.onError(F.MalformedElement);let n=!1;if("/>"===P.substring(r+h.parsed,r+h.parsed+2))n=!0;else if(">"!==P.substring(r+h.parsed,r+h.parsed+1))return void this.onError(F.UnterminatedElement);this.onBeginElement(h.name,h.attributes,n),r+=h.parsed+(n?2:1)}}else{for(;r<P.length&&"<"!==P[r];)r++;const w=P.substring(b,r);this.onText(this._resolveEntities(w))}b=r}}onResolveEntity(P){return`&${P};`}onPi(P,b){}onComment(P){}onCdata(P){}onDoctype(P){}onText(P){}onBeginElement(P,b,r){}onEndElement(P){}onError(P){}}I.XMLParserBase=e;class x{constructor(P,b){this.nodeName=P,this.nodeValue=b,Object.defineProperty(this,"parentNode",{value:null,writable:!0})}get firstChild(){return this.childNodes&&this.childNodes[0]}get nextSibling(){const P=this.parentNode.childNodes;if(!P)return;const b=P.indexOf(this);return-1!==b?P[b+1]:void 0}get textContent(){return this.childNodes?this.childNodes.map(function(P){return P.textContent}).join(""):this.nodeValue||""}hasChildNodes(){return this.childNodes&&this.childNodes.length>0}searchNode(P,b){if(b>=P.length)return this;const r=P[b],w=[];let o=this;for(;;){if(r.name===o.nodeName){if(0!==r.pos){if(0===w.length)return null;{const[h]=w.pop();let n=0;for(const a of h.childNodes)if(r.name===a.nodeName){if(n===r.pos)return a.searchNode(P,b+1);n++}return o.searchNode(P,b+1)}}{const h=o.searchNode(P,b+1);if(null!==h)return h}}if(o.childNodes&&0!==o.childNodes.length)w.push([o,0]),o=o.childNodes[0];else{if(0===w.length)return null;for(;0!==w.length;){const[h,n]=w.pop(),a=n+1;if(a<h.childNodes.length){w.push([h,a]),o=h.childNodes[a];break}}if(0===w.length)return null}}}dump(P){if("#text"!==this.nodeName){if(P.push(`<${this.nodeName}`),this.attributes)for(const b of this.attributes)P.push(` ${b.name}="${(0,t.encodeToXmlString)(b.value)}"`);if(this.hasChildNodes()){P.push(">");for(const b of this.childNodes)b.dump(P);P.push(`</${this.nodeName}>`)}else P.push(this.nodeValue?`>${(0,t.encodeToXmlString)(this.nodeValue)}</${this.nodeName}>`:"/>")}else P.push((0,t.encodeToXmlString)(this.nodeValue))}}I.SimpleDOMNode=x,I.SimpleXMLParser=class extends e{constructor({hasAttributes:P=!1,lowerCaseName:b=!1}){super(),this._currentFragment=null,this._stack=null,this._errorCode=F.NoError,this._hasAttributes=P,this._lowerCaseName=b}parseFromString(P){if(this._currentFragment=[],this._stack=[],this._errorCode=F.NoError,this.parseXml(P),this._errorCode!==F.NoError)return;const[b]=this._currentFragment;return b?{documentElement:b}:void 0}onText(P){if(function(w){for(let o=0,h=w.length;o<h;o++)if(!R(w,o))return!1;return!0}(P))return;const b=new x("#text",P);this._currentFragment.push(b)}onCdata(P){const b=new x("#text",P);this._currentFragment.push(b)}onBeginElement(P,b,r){this._lowerCaseName&&(P=P.toLowerCase());const w=new x(P);w.childNodes=[],this._hasAttributes&&(w.attributes=b),this._currentFragment.push(w),r||(this._stack.push(this._currentFragment),this._currentFragment=w.childNodes)}onEndElement(P){this._currentFragment=this._stack.pop()||[];const b=this._currentFragment[this._currentFragment.length-1];if(b)for(let r=0,w=b.childNodes.length;r<w;r++)b.childNodes[r].parentNode=b}onError(P){this._errorCode=P}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.StructTreeRoot=I.StructTreePage=void 0;var t=G(5),F=G(2),R=G(58);const e="PAGE_CONTENT",x="STREAM_CONTENT",L="OBJECT",P="ELEMENT";I.StructTreeRoot=class{constructor(o){this.dict=o,this.roleMap=new Map}init(){this.readRoleMap()}readRoleMap(){const o=this.dict.get("RoleMap");(0,t.isDict)(o)&&o.forEach((h,n)=>{(0,t.isName)(n)&&this.roleMap.set(h,n.name)})}};class b{constructor(o,h){this.tree=o,this.dict=h,this.kids=[],this.parseKids()}get role(){const o=this.dict.get("S"),h=(0,t.isName)(o)?o.name:"",{root:n}=this.tree;return n.roleMap.has(h)?n.roleMap.get(h):h}parseKids(){let o=null;const h=this.dict.getRaw("Pg");(0,t.isRef)(h)&&(o=h.toString());const n=this.dict.get("K");if(Array.isArray(n))for(const a of n){const p=this.parseKid(o,a);p&&this.kids.push(p)}else{const a=this.parseKid(o,n);a&&this.kids.push(a)}}parseKid(o,h){if(Number.isInteger(h))return this.tree.pageDict.objId!==o?null:new r({type:e,mcid:h,pageObjId:o});let n=null;if((0,t.isRef)(h)?n=this.dict.xref.fetch(h):(0,t.isDict)(h)&&(n=h),!n)return null;const a=n.getRaw("Pg");(0,t.isRef)(a)&&(o=a.toString());const p=(0,t.isName)(n.get("Type"))?n.get("Type").name:null;return"MCR"===p?this.tree.pageDict.objId!==o?null:new r({type:x,refObjId:(0,t.isRef)(n.getRaw("Stm"))?n.getRaw("Stm").toString():null,pageObjId:o,mcid:n.get("MCID")}):"OBJR"===p?this.tree.pageDict.objId!==o?null:new r({type:L,refObjId:(0,t.isRef)(n.getRaw("Obj"))?n.getRaw("Obj").toString():null,pageObjId:o}):new r({type:P,dict:n})}}class r{constructor({type:o,dict:h=null,mcid:n=null,pageObjId:a=null,refObjId:p=null}){this.type=o,this.dict=h,this.mcid=n,this.pageObjId=a,this.refObjId=p,this.parentNode=null}}I.StructTreePage=class{constructor(o,h){this.root=o,this.rootDict=o?o.dict:null,this.pageDict=h,this.nodes=[]}parse(){if(!this.root||!this.rootDict)return;const o=this.rootDict.get("ParentTree");if(!o)return;const h=this.pageDict.get("StructParents");if(!Number.isInteger(h))return;const n=new R.NumberTree(o,this.rootDict.xref).get(h);if(!Array.isArray(n))return;const a=new Map;for(const p of n)(0,t.isRef)(p)&&this.addNode(this.rootDict.xref.fetch(p),a)}addNode(o,h,n=0){if(n>40)return(0,F.warn)("StructTree MAX_DEPTH reached."),null;if(h.has(o))return h.get(o);const a=new b(this,o);h.set(o,a);const p=o.get("P");if(!p||(0,t.isName)(p.get("Type"),"StructTreeRoot"))return this.addTopLevelNode(o,a)||h.delete(o),a;const v=this.addNode(p,h,n+1);if(!v)return a;let m=!1;for(const c of v.kids)c.type===P&&c.dict===o&&(c.parentNode=a,m=!0);return m||h.delete(o),a}addTopLevelNode(o,h){const n=this.rootDict.get("K");if(!n)return!1;if((0,t.isDict)(n))return n.objId===o.objId&&(this.nodes[0]=h,!0);if(!Array.isArray(n))return!0;let a=!1;for(let p=0;p<n.length;p++){const v=n[p];v&&v.toString()===o.objId&&(this.nodes[p]=h,a=!0)}return a}get serializable(){function o(n,a,p=0){if(p>40)return void(0,F.warn)("StructTree too deep to be fully serialized.");const v=Object.create(null);v.role=n.role,v.children=[],a.children.push(v);const m=n.dict.get("Alt");(0,F.isString)(m)&&(v.alt=(0,F.stringToPDFString)(m));for(const c of n.kids){const f=c.type===P?c.parentNode:null;f?o(f,v,p+1):c.type===e||c.type===x?v.children.push({type:"content",id:`page${c.pageObjId}_mcid${c.mcid}`}):c.type===L&&v.children.push({type:"object",id:c.refObjId})}}const h=Object.create(null);h.children=[],h.role="Root";for(const n of this.nodes)n&&o(n,h);return h}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.ObjectLoader=void 0;var t=G(5),F=G(9),R=G(2);function e(x,L){if(x instanceof t.Dict)x=x.getRawValues();else if((0,t.isStream)(x))x=x.dict.getRawValues();else if(!Array.isArray(x))return;for(const b of x)((P=b)instanceof t.Ref||P instanceof t.Dict||Array.isArray(P)||(0,t.isStream)(P))&&L.push(b);var P}I.ObjectLoader=class{constructor(L,P,b){this.dict=L,this.keys=P,this.xref=b,this.refSet=null}async load(){if(this.xref.stream.isDataLoaded)return;const{keys:L,dict:P}=this;this.refSet=new t.RefSet;const b=[];for(let r=0,w=L.length;r<w;r++){const o=P.getRaw(L[r]);void 0!==o&&b.push(o)}return this._walk(b)}async _walk(L){const P=[],b=[];for(;L.length;){let r=L.pop();if(r instanceof t.Ref){if(this.refSet.has(r))continue;try{this.refSet.put(r),r=this.xref.fetch(r)}catch(w){if(!(w instanceof F.MissingDataException)){(0,R.warn)(`ObjectLoader._walk - requesting all data: "${w}".`),this.refSet=null;const{manager:o}=this.xref.stream;return o.requestAllChunks()}P.push(r),b.push({begin:w.begin,end:w.end})}}if((0,t.isStream)(r)){const w=r.getBaseStreams();if(w){let o=!1;for(const h of w)h.isDataLoaded||(o=!0,b.push({begin:h.start,end:h.end}));o&&P.push(r)}}e(r,L)}if(b.length){await this.xref.stream.manager.requestRanges(b);for(const r of P)r instanceof t.Ref&&this.refSet.remove(r);return this._walk(P)}this.refSet=null}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.incrementalUpdate=function({originalData:o,xrefInfo:h,newRefs:n,xref:a=null,datasetsRef:p=null}){!function(C,N,X){if(null===C||null===X)return;const H=X.fetchIfRef(C).getString(),D=new e.SimpleXMLParser({hasAttributes:!0}).parseFromString(H);for(const{xfa:q}of N){if(!q)continue;const{path:E,value:$}=q;if(!E)continue;const B=D.documentElement.searchNode((0,R.parseXFAPath)(E),0);B?B.childNodes=[new e.SimpleDOMNode("#text",$)]:(0,t.warn)(`Node not found for path: ${E}`)}const j=[];D.documentElement.dump(j);let _=j.join("");const T=X.encrypt;T&&(_=T.createCipherTransform(C.num,C.gen).encryptString(_)),N.push({ref:C,data:`${C.num} ${C.gen} obj\n<< /Type /EmbeddedFile /Length ${_.length}>>\nstream\n`+_+"\nendstream\nendobj\n"})}(p,n,a);const v=new F.Dict(null),m=h.newRef;let c,f;const y=o[o.length-1];10===y||13===y?(c=[],f=o.length):(c=["\n"],f=o.length+1),v.set("Size",m.num+1),v.set("Prev",h.startXRef),v.set("Type",F.Name.get("XRef")),null!==h.rootRef&&v.set("Root",h.rootRef),null!==h.infoRef&&v.set("Info",h.infoRef),null!==h.encryptRef&&v.set("Encrypt",h.encryptRef),n.push({ref:m,data:""}),n=n.sort((O,C)=>O.ref.num-C.ref.num);const i=[[0,1,65535]],d=[0,1];let S=0;for(const{ref:O,data:C}of n)S=Math.max(S,f),i.push([1,f,Math.min(O.gen,65535)]),f+=C.length,d.push(O.num,1),c.push(C);if(v.set("Index",d),Array.isArray(h.fileIds)&&h.fileIds.length>0){const O=function(N,X){const H=Math.floor(Date.now()/1e3),D=X.filename||"",j=[H.toString(),D,N.toString()];let _=j.reduce((q,E)=>q+E.length,0);for(const q of Object.values(X.info))j.push(q),_+=q.length;const T=new Uint8Array(_);let U=0;for(const q of j)r(q,U,T),U+=q.length;return(0,t.bytesToString)((0,x.calculateMD5)(T))}(f,h);v.set("ID",[h.fileIds[0],O])}const s=[1,Math.ceil(Math.log2(S)/8),2],l=(s[0]+s[1]+s[2])*i.length;v.set("W",s),v.set("Length",l),c.push(`${m.num} ${m.gen} obj\n`),L(v,c,null),c.push(" stream\n");const A=c.reduce((O,C)=>O+C.length,0),k=`\nendstream\nendobj\nstartxref\n${f}\n%%EOF\n`,u=new Uint8Array(o.length+A+l+k.length);u.set(o);let M=o.length;for(const O of c)r(O,M,u),M+=O.length;for(const[O,C,N]of i)M=b(O,s[0],M,u),M=b(C,s[1],M,u),M=b(N,s[2],M,u);return r(k,M,u),u},I.writeDict=L;var t=G(2),F=G(5),R=G(9),e=G(61),x=G(65);function L(w,o,h){o.push("<<");for(const n of w.getKeys())o.push(` /${(0,R.escapePDFName)(n)} `),P(w.getRaw(n),o,h);o.push(">>")}function P(w,o,h){(0,F.isName)(w)?o.push(`/${(0,R.escapePDFName)(w.name)}`):(0,F.isRef)(w)?o.push(`${w.num} ${w.gen} R`):Array.isArray(w)?function(a,p,v){p.push("[");let m=!0;for(const c of a)m?m=!1:p.push(" "),P(c,p,v);p.push("]")}(w,o,h):"string"==typeof w?(null!==h&&(w=h.encryptString(w)),o.push(`(${(0,t.escapeString)(w)})`)):"number"==typeof w?o.push(function(a){if(Number.isInteger(a))return a.toString();const p=Math.round(100*a);return p%100==0?(p/100).toString():a.toFixed(p%10==0?1:2)}(w)):(0,F.isDict)(w)?L(w,o,h):(0,F.isStream)(w)&&function(a,p,v){L(a.dict,p,v),p.push(" stream\n");let m=a.getString();null!==v&&(m=v.encryptString(m)),p.push(m,"\nendstream\n")}(w,o,h)}function b(w,o,h,n){for(let a=o+h-1;a>h-1;a--)n[a]=255&w,w>>=8;return h+o}function r(w,o,h){for(let n=0,a=w.length;n<a;n++)h[o+n]=255&w.charCodeAt(n)}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.calculateSHA384=r,I.PDF20=I.PDF17=I.CipherTransformFactory=I.calculateSHA512=I.calculateSHA256=I.calculateMD5=I.ARCFourCipher=I.AES256Cipher=I.AES128Cipher=void 0;var t=G(2),F=G(5),R=G(66);class e{constructor(f){this.a=0,this.b=0;const y=new Uint8Array(256),i=f.length;for(let d=0;d<256;++d)y[d]=d;for(let d=0,S=0;d<256;++d){const s=y[d];S=S+s+f[d%i]&255,y[d]=y[S],y[S]=s}this.s=y}encryptBlock(f){let y=this.a,i=this.b;const d=this.s,S=f.length,s=new Uint8Array(S);for(let l=0;l<S;++l){y=y+1&255;const A=d[y];i=i+A&255;const k=d[i];d[y]=k,d[i]=A,s[l]=f[l]^d[A+k&255]}return this.a=y,this.b=i,s}decryptBlock(f){return this.encryptBlock(f)}encrypt(f){return this.encryptBlock(f)}}I.ARCFourCipher=e;const x=function(){const f=new Uint8Array([7,12,17,22,7,12,17,22,7,12,17,22,7,12,17,22,5,9,14,20,5,9,14,20,5,9,14,20,5,9,14,20,4,11,16,23,4,11,16,23,4,11,16,23,4,11,16,23,6,10,15,21,6,10,15,21,6,10,15,21,6,10,15,21]),y=new Int32Array([-680876936,-389564586,606105819,-1044525330,-176418897,1200080426,-1473231341,-45705983,1770035416,-1958414417,-42063,-1990404162,1804603682,-40341101,-1502002290,1236535329,-165796510,-1069501632,643717713,-373897302,-701558691,38016083,-660478335,-405537848,568446438,-1019803690,-187363961,1163531501,-1444681467,-51403784,1735328473,-1926607734,-378558,-2022574463,1839030562,-35309556,-1530992060,1272893353,-155497632,-1094730640,681279174,-358537222,-722521979,76029189,-640364487,-421815835,530742520,-995338651,-198630844,1126891415,-1416354905,-57434055,1700485571,-1894986606,-1051523,-2054922799,1873313359,-30611744,-1560198380,1309151649,-145523070,-1120210379,718787259,-343485551]);return function(d,S,s){let l=1732584193,A=-271733879,k=-1732584194,u=271733878;const M=s+72&-64,O=new Uint8Array(M);let C,N;for(C=0;C<s;++C)O[C]=d[S++];O[C++]=128;const X=M-8;for(;C<X;)O[C++]=0;O[C++]=s<<3&255,O[C++]=s>>5&255,O[C++]=s>>13&255,O[C++]=s>>21&255,O[C++]=s>>>29&255,O[C++]=0,O[C++]=0,O[C++]=0;const H=new Int32Array(16);for(C=0;C<M;){for(N=0;N<16;++N,C+=4)H[N]=O[C]|O[C+1]<<8|O[C+2]<<16|O[C+3]<<24;let D,j,_=l,T=A,U=k,q=u;for(N=0;N<64;++N){N<16?(D=T&U|~T&q,j=N):N<32?(D=q&T|~q&U,j=5*N+1&15):N<48?(D=T^U^q,j=3*N+5&15):(D=U^(T|~q),j=7*N&15);const E=q,$=_+D+y[N]+H[j]|0,B=f[N];q=U,U=T,T=T+($<<B|$>>>32-B)|0,_=E}l=l+_|0,A=A+T|0,k=k+U|0,u=u+q|0}return new Uint8Array([255&l,l>>8&255,l>>16&255,l>>>24&255,255&A,A>>8&255,A>>16&255,A>>>24&255,255&k,k>>8&255,k>>16&255,k>>>24&255,255&u,u>>8&255,u>>16&255,u>>>24&255])}}();I.calculateMD5=x;class L{constructor(f,y){this.high=0|f,this.low=0|y}and(f){this.high&=f.high,this.low&=f.low}xor(f){this.high^=f.high,this.low^=f.low}or(f){this.high|=f.high,this.low|=f.low}shiftRight(f){f>=32?(this.low=this.high>>>f-32|0,this.high=0):(this.low=this.low>>>f|this.high<<32-f,this.high=this.high>>>f|0)}shiftLeft(f){f>=32?(this.high=this.low<<f-32,this.low=0):(this.high=this.high<<f|this.low>>>32-f,this.low=this.low<<f)}rotateRight(f){let y,i;32&f?(i=this.low,y=this.high):(y=this.low,i=this.high),this.low=y>>>(f&=31)|i<<32-f,this.high=i>>>f|y<<32-f}not(){this.high=~this.high,this.low=~this.low}add(f){const y=(this.low>>>0)+(f.low>>>0);let i=(this.high>>>0)+(f.high>>>0);y>4294967295&&(i+=1),this.low=0|y,this.high=0|i}copyTo(f,y){f[y]=this.high>>>24&255,f[y+1]=this.high>>16&255,f[y+2]=this.high>>8&255,f[y+3]=255&this.high,f[y+4]=this.low>>>24&255,f[y+5]=this.low>>16&255,f[y+6]=this.low>>8&255,f[y+7]=255&this.low}assign(f){this.high=f.high,this.low=f.low}}const P=function(){function f(A,k){return A>>>k|A<<32-k}function y(A,k,u){return A&k^~A&u}function i(A,k,u){return A&k^A&u^k&u}function d(A){return f(A,2)^f(A,13)^f(A,22)}function S(A){return f(A,6)^f(A,11)^f(A,25)}const l=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];return function(k,u,M){let O=1779033703,C=3144134277,N=1013904242,X=2773480762,H=1359893119,D=2600822924,j=528734635,_=1541459225;const T=64*Math.ceil((M+9)/64),U=new Uint8Array(T);let q,E;for(q=0;q<M;++q)U[q]=k[u++];U[q++]=128;const $=T-8;for(;q<$;)U[q++]=0;U[q++]=0,U[q++]=0,U[q++]=0,U[q++]=M>>>29&255,U[q++]=M>>21&255,U[q++]=M>>13&255,U[q++]=M>>5&255,U[q++]=M<<3&255;const B=new Uint32Array(64);for(q=0;q<T;){for(E=0;E<16;++E)B[E]=U[q]<<24|U[q+1]<<16|U[q+2]<<8|U[q+3],q+=4;for(E=16;E<64;++E)B[E]=(f(W=B[E-2],17)^f(W,19)^W>>>10)+B[E-7]+(f(A=B[E-15],7)^f(A,18)^A>>>3)+B[E-16]|0;let V,J,Y=O,z=C,Q=N,re=X,te=H,ae=D,se=j,le=_;for(E=0;E<64;++E)V=le+S(te)+y(te,ae,se)+l[E]+B[E],J=d(Y)+i(Y,z,Q),le=se,se=ae,ae=te,te=re+V|0,re=Q,Q=z,z=Y,Y=V+J|0;O=O+Y|0,C=C+z|0,N=N+Q|0,X=X+re|0,H=H+te|0,D=D+ae|0,j=j+se|0,_=_+le|0}var A,W;return new Uint8Array([O>>24&255,O>>16&255,O>>8&255,255&O,C>>24&255,C>>16&255,C>>8&255,255&C,N>>24&255,N>>16&255,N>>8&255,255&N,X>>24&255,X>>16&255,X>>8&255,255&X,H>>24&255,H>>16&255,H>>8&255,255&H,D>>24&255,D>>16&255,D>>8&255,255&D,j>>24&255,j>>16&255,j>>8&255,255&j,_>>24&255,_>>16&255,_>>8&255,255&_])}}();I.calculateSHA256=P;const b=function(){function f(A,k,u,M,O){A.assign(k),A.and(u),O.assign(k),O.not(),O.and(M),A.xor(O)}function y(A,k,u,M,O){A.assign(k),A.and(u),O.assign(k),O.and(M),A.xor(O),O.assign(u),O.and(M),A.xor(O)}function i(A,k,u){A.assign(k),A.rotateRight(28),u.assign(k),u.rotateRight(34),A.xor(u),u.assign(k),u.rotateRight(39),A.xor(u)}function d(A,k,u){A.assign(k),A.rotateRight(14),u.assign(k),u.rotateRight(18),A.xor(u),u.assign(k),u.rotateRight(41),A.xor(u)}function S(A,k,u){A.assign(k),A.rotateRight(1),u.assign(k),u.rotateRight(8),A.xor(u),u.assign(k),u.shiftRight(7),A.xor(u)}function s(A,k,u){A.assign(k),A.rotateRight(19),u.assign(k),u.rotateRight(61),A.xor(u),u.assign(k),u.shiftRight(6),A.xor(u)}const l=[new L(1116352408,3609767458),new L(1899447441,602891725),new L(3049323471,3964484399),new L(3921009573,2173295548),new L(961987163,4081628472),new L(1508970993,3053834265),new L(2453635748,2937671579),new L(2870763221,3664609560),new L(3624381080,2734883394),new L(310598401,1164996542),new L(607225278,1323610764),new L(1426881987,3590304994),new L(1925078388,4068182383),new L(2162078206,991336113),new L(2614888103,633803317),new L(3248222580,3479774868),new L(3835390401,2666613458),new L(4022224774,944711139),new L(264347078,2341262773),new L(604807628,2007800933),new L(770255983,1495990901),new L(1249150122,1856431235),new L(1555081692,3175218132),new L(1996064986,2198950837),new L(2554220882,3999719339),new L(2821834349,766784016),new L(2952996808,2566594879),new L(3210313671,3203337956),new L(3336571891,1034457026),new L(3584528711,2466948901),new L(113926993,3758326383),new L(338241895,168717936),new L(666307205,1188179964),new L(773529912,1546045734),new L(1294757372,1522805485),new L(1396182291,2643833823),new L(1695183700,2343527390),new L(1986661051,1014477480),new L(2177026350,1206759142),new L(2456956037,344077627),new L(2730485921,1290863460),new L(2820302411,3158454273),new L(3259730800,3505952657),new L(3345764771,106217008),new L(3516065817,3606008344),new L(3600352804,1432725776),new L(4094571909,1467031594),new L(275423344,851169720),new L(430227734,3100823752),new L(506948616,1363258195),new L(659060556,3750685593),new L(883997877,3785050280),new L(958139571,3318307427),new L(1322822218,3812723403),new L(1537002063,2003034995),new L(1747873779,3602036899),new L(1955562222,1575990012),new L(2024104815,1125592928),new L(2227730452,2716904306),new L(2361852424,442776044),new L(2428436474,593698344),new L(2756734187,3733110249),new L(3204031479,2999351573),new L(3329325298,3815920427),new L(3391569614,3928383900),new L(3515267271,566280711),new L(3940187606,3454069534),new L(4118630271,4000239992),new L(116418474,1914138554),new L(174292421,2731055270),new L(289380356,3203993006),new L(460393269,320620315),new L(685471733,587496836),new L(852142971,1086792851),new L(1017036298,365543100),new L(1126000580,2618297676),new L(1288033470,3409855158),new L(1501505948,4234509866),new L(1607167915,987167468),new L(1816402316,1246189591)];return function(k,u,M,O=!1){let C,N,X,H,D,j,_,T;O?(C=new L(3418070365,3238371032),N=new L(1654270250,914150663),X=new L(2438529370,812702999),H=new L(355462360,4144912697),D=new L(1731405415,4290775857),j=new L(2394180231,1750603025),_=new L(3675008525,1694076839),T=new L(1203062813,3204075428)):(C=new L(1779033703,4089235720),N=new L(3144134277,2227873595),X=new L(1013904242,4271175723),H=new L(2773480762,1595750129),D=new L(1359893119,2917565137),j=new L(2600822924,725511199),_=new L(528734635,4215389547),T=new L(1541459225,327033209));const U=128*Math.ceil((M+17)/128),q=new Uint8Array(U);let E,$;for(E=0;E<M;++E)q[E]=k[u++];q[E++]=128;const B=U-16;for(;E<B;)q[E++]=0;q[E++]=0,q[E++]=0,q[E++]=0,q[E++]=0,q[E++]=0,q[E++]=0,q[E++]=0,q[E++]=0,q[E++]=0,q[E++]=0,q[E++]=0,q[E++]=M>>>29&255,q[E++]=M>>21&255,q[E++]=M>>13&255,q[E++]=M>>5&255,q[E++]=M<<3&255;const W=new Array(80);for(E=0;E<80;E++)W[E]=new L(0,0);let V=new L(0,0),J=new L(0,0),Y=new L(0,0),z=new L(0,0),Q=new L(0,0),re=new L(0,0),te=new L(0,0),ae=new L(0,0);const se=new L(0,0),le=new L(0,0),ue=new L(0,0),oe=new L(0,0);let me,de;for(E=0;E<U;){for($=0;$<16;++$)W[$].high=q[E]<<24|q[E+1]<<16|q[E+2]<<8|q[E+3],W[$].low=q[E+4]<<24|q[E+5]<<16|q[E+6]<<8|q[E+7],E+=8;for($=16;$<80;++$)me=W[$],s(me,W[$-2],oe),me.add(W[$-7]),S(ue,W[$-15],oe),me.add(ue),me.add(W[$-16]);for(V.assign(C),J.assign(N),Y.assign(X),z.assign(H),Q.assign(D),re.assign(j),te.assign(_),ae.assign(T),$=0;$<80;++$)se.assign(ae),d(ue,Q,oe),se.add(ue),f(ue,Q,re,te,oe),se.add(ue),se.add(l[$]),se.add(W[$]),i(le,V,oe),y(ue,V,J,Y,oe),le.add(ue),me=ae,ae=te,te=re,re=Q,z.add(se),Q=z,z=Y,Y=J,J=V,me.assign(se),me.add(le),V=me;C.add(V),N.add(J),X.add(Y),H.add(z),D.add(Q),j.add(re),_.add(te),T.add(ae)}return O?(de=new Uint8Array(48),C.copyTo(de,0),N.copyTo(de,8),X.copyTo(de,16),H.copyTo(de,24),D.copyTo(de,32),j.copyTo(de,40)):(de=new Uint8Array(64),C.copyTo(de,0),N.copyTo(de,8),X.copyTo(de,16),H.copyTo(de,24),D.copyTo(de,32),j.copyTo(de,40),_.copyTo(de,48),T.copyTo(de,56)),de}}();function r(c,f,y){return b(c,f,y,!0)}I.calculateSHA512=b;class w{decryptBlock(f){return f}encrypt(f){return f}}class o{constructor(){this.constructor===o&&(0,t.unreachable)("Cannot initialize AESBaseCipher."),this._s=new Uint8Array([99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22]),this._inv_s=new Uint8Array([82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125]),this._mix=new Uint32Array([0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795]),this._mixCol=new Uint8Array(256);for(let f=0;f<256;f++)this._mixCol[f]=f<128?f<<1:f<<1^27;this.buffer=new Uint8Array(16),this.bufferPosition=0}_expandKey(f){(0,t.unreachable)("Cannot call `_expandKey` on the base class")}_decrypt(f,y){let i,d,S;const s=new Uint8Array(16);s.set(f);for(let l=0,A=this._keySize;l<16;++l,++A)s[l]^=y[A];for(let l=this._cyclesOfRepetition-1;l>=1;--l){i=s[13],s[13]=s[9],s[9]=s[5],s[5]=s[1],s[1]=i,i=s[14],d=s[10],s[14]=s[6],s[10]=s[2],s[6]=i,s[2]=d,i=s[15],d=s[11],S=s[7],s[15]=s[3],s[11]=i,s[7]=d,s[3]=S;for(let A=0;A<16;++A)s[A]=this._inv_s[s[A]];for(let A=0,k=16*l;A<16;++A,++k)s[A]^=y[k];for(let A=0;A<16;A+=4){const u=this._mix[s[A+1]],M=this._mix[s[A+2]],O=this._mix[s[A+3]];i=this._mix[s[A]]^u>>>8^u<<24^M>>>16^M<<16^O>>>24^O<<8,s[A]=i>>>24&255,s[A+1]=i>>16&255,s[A+2]=i>>8&255,s[A+3]=255&i}}i=s[13],s[13]=s[9],s[9]=s[5],s[5]=s[1],s[1]=i,i=s[14],d=s[10],s[14]=s[6],s[10]=s[2],s[6]=i,s[2]=d,i=s[15],d=s[11],S=s[7],s[15]=s[3],s[11]=i,s[7]=d,s[3]=S;for(let l=0;l<16;++l)s[l]=this._inv_s[s[l]],s[l]^=y[l];return s}_encrypt(f,y){const i=this._s;let d,S,s;const l=new Uint8Array(16);l.set(f);for(let A=0;A<16;++A)l[A]^=y[A];for(let A=1;A<this._cyclesOfRepetition;A++){for(let k=0;k<16;++k)l[k]=i[l[k]];s=l[1],l[1]=l[5],l[5]=l[9],l[9]=l[13],l[13]=s,s=l[2],S=l[6],l[2]=l[10],l[6]=l[14],l[10]=s,l[14]=S,s=l[3],S=l[7],d=l[11],l[3]=l[15],l[7]=s,l[11]=S,l[15]=d;for(let k=0;k<16;k+=4){const u=l[k+0],M=l[k+1],O=l[k+2],C=l[k+3];d=u^M^O^C,l[k+0]^=d^this._mixCol[u^M],l[k+1]^=d^this._mixCol[M^O],l[k+2]^=d^this._mixCol[O^C],l[k+3]^=d^this._mixCol[C^u]}for(let k=0,u=16*A;k<16;++k,++u)l[k]^=y[u]}for(let A=0;A<16;++A)l[A]=i[l[A]];s=l[1],l[1]=l[5],l[5]=l[9],l[9]=l[13],l[13]=s,s=l[2],S=l[6],l[2]=l[10],l[6]=l[14],l[10]=s,l[14]=S,s=l[3],S=l[7],d=l[11],l[3]=l[15],l[7]=s,l[11]=S,l[15]=d;for(let A=0,k=this._keySize;A<16;++A,++k)l[A]^=y[k];return l}_decryptBlock2(f,y){const i=f.length;let d=this.buffer,S=this.bufferPosition;const s=[];let l=this.iv;for(let u=0;u<i;++u){if(d[S]=f[u],++S,S<16)continue;const M=this._decrypt(d,this._key);for(let O=0;O<16;++O)M[O]^=l[O];l=d,s.push(M),d=new Uint8Array(16),S=0}if(this.buffer=d,this.bufferLength=S,this.iv=l,0===s.length)return new Uint8Array(0);let A=16*s.length;if(y){const u=s[s.length-1];let M=u[15];if(M<=16){for(let O=15,C=16-M;O>=C;--O)if(u[O]!==M){M=0;break}A-=M,s[s.length-1]=u.subarray(0,16-M)}}const k=new Uint8Array(A);for(let u=0,M=0,O=s.length;u<O;++u,M+=16)k.set(s[u],M);return k}decryptBlock(f,y,i=null){const d=f.length,S=this.buffer;let s=this.bufferPosition;if(i)this.iv=i;else{for(let l=0;s<16&&l<d;++l,++s)S[s]=f[l];if(s<16)return this.bufferLength=s,new Uint8Array(0);this.iv=S,f=f.subarray(16)}return this.buffer=new Uint8Array(16),this.bufferLength=0,this.decryptBlock=this._decryptBlock2,this.decryptBlock(f,y)}encrypt(f,y){const i=f.length;let d=this.buffer,S=this.bufferPosition;const s=[];y||(y=new Uint8Array(16));for(let k=0;k<i;++k){if(d[S]=f[k],++S,S<16)continue;for(let M=0;M<16;++M)d[M]^=y[M];const u=this._encrypt(d,this._key);y=u,s.push(u),d=new Uint8Array(16),S=0}if(this.buffer=d,this.bufferLength=S,this.iv=y,0===s.length)return new Uint8Array(0);const A=new Uint8Array(16*s.length);for(let k=0,u=0,M=s.length;k<M;++k,u+=16)A.set(s[k],u);return A}}class h extends o{constructor(f){super(),this._cyclesOfRepetition=10,this._keySize=160,this._rcon=new Uint8Array([141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141,1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145,57,114,228,211,189,97,194,159,37,74,148,51,102,204,131,29,58,116,232,203,141]),this._key=this._expandKey(f)}_expandKey(f){const y=this._s,i=this._rcon,d=new Uint8Array(176);d.set(f);for(let S=16,s=1;S<176;++s){let l=d[S-3],A=d[S-2],k=d[S-1],u=d[S-4];l=y[l],A=y[A],k=y[k],u=y[u],l^=i[s];for(let M=0;M<4;++M)d[S]=l^=d[S-16],S++,d[S]=A^=d[S-16],S++,d[S]=k^=d[S-16],S++,d[S]=u^=d[S-16],S++}return d}}I.AES128Cipher=h;class n extends o{constructor(f){super(),this._cyclesOfRepetition=14,this._keySize=224,this._key=this._expandKey(f)}_expandKey(f){const y=this._s,i=new Uint8Array(240);i.set(f);let d,S,s,l,A=1;for(let k=32,u=1;k<240;++u){k%32==16?(d=y[d],S=y[S],s=y[s],l=y[l]):k%32==0&&(d=i[k-3],S=i[k-2],s=i[k-1],l=i[k-4],d=y[d],S=y[S],s=y[s],l=y[l],d^=A,(A<<=1)>=256&&(A=255&(27^A)));for(let M=0;M<4;++M)i[k]=d^=i[k-32],k++,i[k]=S^=i[k-32],k++,i[k]=s^=i[k-32],k++,i[k]=l^=i[k-32],k++}return i}}I.AES256Cipher=n;class a{checkOwnerPassword(f,y,i,d){const S=new Uint8Array(f.length+56);S.set(f,0),S.set(y,f.length),S.set(i,f.length+y.length);const s=P(S,0,S.length);return(0,t.isArrayEqual)(s,d)}checkUserPassword(f,y,i){const d=new Uint8Array(f.length+8);d.set(f,0),d.set(y,f.length);const S=P(d,0,d.length);return(0,t.isArrayEqual)(S,i)}getOwnerKey(f,y,i,d){const S=new Uint8Array(f.length+56);S.set(f,0),S.set(y,f.length),S.set(i,f.length+y.length);const s=P(S,0,S.length);return new n(s).decryptBlock(d,!1,new Uint8Array(16))}getUserKey(f,y,i){const d=new Uint8Array(f.length+8);d.set(f,0),d.set(y,f.length);const S=P(d,0,d.length);return new n(S).decryptBlock(i,!1,new Uint8Array(16))}}I.PDF17=a;const p=function(){function f(y,i,d){let S=P(i,0,i.length).subarray(0,32),s=[0],l=0;for(;l<64||s[s.length-1]>l-32;){const A=y.length+S.length+d.length,k=new Uint8Array(A);let u=0;k.set(y,u),u+=y.length,k.set(S,u),u+=S.length,k.set(d,u);const M=new Uint8Array(64*A);for(let C=0,N=0;C<64;C++,N+=A)M.set(k,N);s=new h(S.subarray(0,16)).encrypt(M,S.subarray(16,32));let O=0;for(let C=0;C<16;C++)O*=1,O%=3,O+=(s[C]>>>0)%3,O%=3;0===O?S=P(s,0,s.length):1===O?S=r(s,0,s.length):2===O&&(S=b(s,0,s.length)),l++}return S.subarray(0,32)}return class{hash(i,d,S){return f(i,d,S)}checkOwnerPassword(i,d,S,s){const l=new Uint8Array(i.length+56);l.set(i,0),l.set(d,i.length),l.set(S,i.length+d.length);const A=f(i,l,S);return(0,t.isArrayEqual)(A,s)}checkUserPassword(i,d,S){const s=new Uint8Array(i.length+8);s.set(i,0),s.set(d,i.length);const l=f(i,s,[]);return(0,t.isArrayEqual)(l,S)}getOwnerKey(i,d,S,s){const l=new Uint8Array(i.length+56);l.set(i,0),l.set(d,i.length),l.set(S,i.length+d.length);const A=f(i,l,S);return new n(A).decryptBlock(s,!1,new Uint8Array(16))}getUserKey(i,d,S){const s=new Uint8Array(i.length+8);s.set(i,0),s.set(d,i.length);const l=f(i,s,[]);return new n(l).decryptBlock(S,!1,new Uint8Array(16))}}}();I.PDF20=p;class v{constructor(f,y){this.StringCipherConstructor=f,this.StreamCipherConstructor=y}createStream(f,y){const i=new this.StreamCipherConstructor;return new R.DecryptStream(f,y,function(S,s){return i.decryptBlock(S,s)})}decryptString(f){const y=new this.StringCipherConstructor;let i=(0,t.stringToBytes)(f);return i=y.decryptBlock(i,!0),(0,t.bytesToString)(i)}encryptString(f){const y=new this.StringCipherConstructor;if(y instanceof o){const d=f.length,S=16-d%16;16!==S&&(f=f.padEnd(16*Math.ceil(d/16),String.fromCharCode(S)));const s=new Uint8Array(16);if(typeof crypto<"u")crypto.getRandomValues(s);else for(let k=0;k<16;k++)s[k]=Math.floor(256*Math.random());let l=(0,t.stringToBytes)(f);l=y.encrypt(l,s);const A=new Uint8Array(16+l.length);return A.set(s),A.set(l,16),(0,t.bytesToString)(A)}let i=(0,t.stringToBytes)(f);return i=y.encrypt(i),(0,t.bytesToString)(i)}}const m=function(){const f=new Uint8Array([40,191,78,94,78,117,138,65,100,0,78,86,255,250,1,8,46,46,0,182,208,104,62,128,47,12,169,254,100,83,105,122]);function y(s,l,A,k,u,M,O,C){const X=new Uint8Array(40+A.length+s.length);let H,D,j=0;if(l)for(D=Math.min(32,l.length);j<D;++j)X[j]=l[j];for(H=0;j<32;)X[j++]=f[H++];for(H=0,D=A.length;H<D;++H)X[j++]=A[H];for(X[j++]=255&u,X[j++]=u>>8&255,X[j++]=u>>16&255,X[j++]=u>>>24&255,H=0,D=s.length;H<D;++H)X[j++]=s[H];M>=4&&!C&&(X[j++]=255,X[j++]=255,X[j++]=255,X[j++]=255);let _=x(X,0,j);const T=O>>3;if(M>=3)for(H=0;H<50;++H)_=x(_,0,T);const U=_.subarray(0,T);let q,E;if(M>=3){for(j=0;j<32;++j)X[j]=f[j];for(H=0,D=s.length;H<D;++H)X[j++]=s[H];q=new e(U),E=q.encryptBlock(x(X,0,j)),D=U.length;const $=new Uint8Array(D);for(H=1;H<=19;++H){for(let B=0;B<D;++B)$[B]=U[B]^H;q=new e($),E=q.encryptBlock(E)}for(H=0,D=E.length;H<D;++H)if(k[H]!==E[H])return null}else for(q=new e(U),E=q.encryptBlock(f),H=0,D=E.length;H<D;++H)if(k[H]!==E[H])return null;return U}const i=F.Name.get("Identity");function d(s,l,A,k=!1){const u=new Uint8Array(A.length+9),M=A.length;let O;for(O=0;O<M;++O)u[O]=A[O];return u[O++]=255&s,u[O++]=s>>8&255,u[O++]=s>>16&255,u[O++]=255&l,u[O++]=l>>8&255,k&&(u[O++]=115,u[O++]=65,u[O++]=108,u[O++]=84),x(u,0,O).subarray(0,Math.min(A.length+5,16))}function S(s,l,A,k,u){if(!(0,F.isName)(l))throw new t.FormatError("Invalid crypt filter name.");const M=s.get(l.name);let O;if(null!=M&&(O=M.get("CFM")),!O||"None"===O.name)return function(){return new w};if("V2"===O.name)return function(){return new e(d(A,k,u,!1))};if("AESV2"===O.name)return function(){return new h(d(A,k,u,!0))};if("AESV3"===O.name)return function(){return new n(u)};throw new t.FormatError("Unknown crypto method")}return class{constructor(l,A,k){const u=l.get("Filter");if(!(0,F.isName)(u,"Standard"))throw new t.FormatError("unknown encryption method");this.dict=l;const M=l.get("V");if(!Number.isInteger(M)||1!==M&&2!==M&&4!==M&&5!==M)throw new t.FormatError("unsupported encryption algorithm");this.algorithm=M;let O=l.get("Length");if(!O)if(M<=3)O=40;else{const U=l.get("CF"),q=l.get("StmF");if((0,F.isDict)(U)&&(0,F.isName)(q)){U.suppressEncryption=!0;const E=U.get(q.name);O=E&&E.get("Length")||128,O<40&&(O<<=3)}}if(!Number.isInteger(O)||O<40||O%8!=0)throw new t.FormatError("invalid key length");const C=(0,t.stringToBytes)(l.get("O")).subarray(0,32),N=(0,t.stringToBytes)(l.get("U")).subarray(0,32),X=l.get("P"),H=l.get("R"),D=(4===M||5===M)&&!1!==l.get("EncryptMetadata");this.encryptMetadata=D;const j=(0,t.stringToBytes)(A);let _,T;if(k){if(6===H)try{k=(0,t.utf8StringToString)(k)}catch{(0,t.warn)("CipherTransformFactory: Unable to convert UTF8 encoded password.")}_=(0,t.stringToBytes)(k)}if(5!==M)T=y(j,_,C,N,X,H,O,D);else{const U=(0,t.stringToBytes)(l.get("O")).subarray(32,40),q=(0,t.stringToBytes)(l.get("O")).subarray(40,48),E=(0,t.stringToBytes)(l.get("U")).subarray(0,48),$=(0,t.stringToBytes)(l.get("U")).subarray(32,40),B=(0,t.stringToBytes)(l.get("U")).subarray(40,48),W=(0,t.stringToBytes)(l.get("OE")),V=(0,t.stringToBytes)(l.get("UE"));(0,t.stringToBytes)(l.get("Perms")),T=function(Y,z,Q,re,te,ae,se,le,ue,oe,me,de){if(z){const Ne=Math.min(127,z.length);z=z.subarray(0,Ne)}else z=[];let Ae;return Ae=6===Y?new p:new a,Ae.checkUserPassword(z,le,se)?Ae.getUserKey(z,ue,me):z.length&&Ae.checkOwnerPassword(z,re,ae,Q)?Ae.getOwnerKey(z,te,ae,oe):null}(H,_,C,U,q,E,N,$,B,W,V)}if(!T&&!k)throw new t.PasswordException("No password given",t.PasswordResponses.NEED_PASSWORD);if(!T&&k&&(T=y(j,function(q,E,$,B){const W=new Uint8Array(32);let V=0;const J=Math.min(32,q.length);for(;V<J;++V)W[V]=q[V];let Y=0;for(;V<32;)W[V++]=f[Y++];let z=x(W,0,V);const Q=B>>3;if($>=3)for(Y=0;Y<50;++Y)z=x(z,0,z.length);let re,te;if($>=3){te=E;const ae=new Uint8Array(Q);for(Y=19;Y>=0;Y--){for(let se=0;se<Q;++se)ae[se]=z[se]^Y;re=new e(ae),te=re.encryptBlock(te)}}else re=new e(z.subarray(0,Q)),te=re.encryptBlock(E);return te}(_,C,H,O),C,N,X,H,O,D)),!T)throw new t.PasswordException("Incorrect Password",t.PasswordResponses.INCORRECT_PASSWORD);if(this.encryptionKey=T,M>=4){const U=l.get("CF");(0,F.isDict)(U)&&(U.suppressEncryption=!0),this.cf=U,this.stmf=l.get("StmF")||i,this.strf=l.get("StrF")||i,this.eff=l.get("EFF")||this.stmf}}createCipherTransform(l,A){if(4===this.algorithm||5===this.algorithm)return new v(S(this.cf,this.stmf,l,A,this.encryptionKey),S(this.cf,this.strf,l,A,this.encryptionKey));const k=d(l,A,this.encryptionKey,!1),u=function(){return new e(k)};return new v(u,u)}}}();I.CipherTransformFactory=m},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.DecryptStream=void 0;var t=G(19);I.DecryptStream=class F extends t.DecodeStream{constructor(e,x,L){super(x),this.str=e,this.dict=e.dict,this.decrypt=L,this.nextChunk=null,this.initialized=!1}readBlock(){let e;if(this.initialized?e=this.nextChunk:(e=this.str.getBytes(512),this.initialized=!0),!e||0===e.length)return void(this.eof=!0);this.nextChunk=this.str.getBytes(512),e=(0,this.decrypt)(e,!(this.nextChunk&&this.nextChunk.length>0));let L=this.bufferLength;const P=e.length,b=this.ensureBuffer(L+P);for(let r=0;r<P;r++)b[L++]=e[r];this.bufferLength=L}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XFAFactory=void 0;var t=G(68),F=G(71),R=G(76);class e{constructor(L){try{this.root=(new R.XFAParser).parse(e._createDocument(L)),this.form=new F.Binder(this.root).bind(),this.pages=this.form[t.$toHTML]()}catch(P){console.log(P)}}getPage(L){return this.pages.children[L]}get numberPages(){return this.pages.children.length}static _createDocument(L){return L["/xdp:xdp"]?Object.values(L).join(""):L["xdp:xdp"]}}I.XFAFactory=e},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XmlObject=I.XFAObjectArray=I.XFAObject=I.XFAAttribute=I.StringObject=I.OptionObject=I.Option10=I.Option01=I.IntegerObject=I.ContentObject=I.$uid=I.$toStyle=I.$toHTML=I.$text=I.$setValue=I.$setSetAttributes=I.$setId=I.$searchNode=I.$resolvePrototypes=I.$removeChild=I.$onText=I.$onChildCheck=I.$onChild=I.$nsAttributes=I.$nodeName=I.$namespaceId=I.$isTransparent=I.$isDescendent=I.$isDataValue=I.$insertAt=I.$indexOf=I.$ids=I.$hasSettableValue=I.$hasItem=I.$global=I.$getRealChildrenByNameIt=I.$getParent=I.$getNextPage=I.$getDataValue=I.$getChildrenByNameIt=I.$getChildrenByName=I.$getChildrenByClass=I.$getChildren=I.$getAvailableSpace=I.$getAttributeIt=I.$flushHTML=I.$finalize=I.$extra=I.$dump=I.$data=I.$content=I.$consumed=I.$clone=I.$cleanup=I.$clean=I.$childrenToHTML=I.$break=I.$appendChild=I.$addHTML=I.$acceptWhitespace=void 0;var t=G(69),F=G(2),R=G(70);const e=Symbol();I.$acceptWhitespace=e;const x=Symbol();I.$addHTML=x;const L=Symbol();I.$appendChild=L;const P=Symbol();I.$break=P;const b=Symbol();I.$childrenToHTML=b;const r=Symbol();I.$clean=r;const w=Symbol();I.$cleanup=w;const o=Symbol();I.$clone=o;const h=Symbol();I.$consumed=h;const n=Symbol("content");I.$content=n;const a=Symbol("data");I.$data=a;const p=Symbol();I.$dump=p;const v=Symbol("extra");I.$extra=v;const m=Symbol();I.$finalize=m;const c=Symbol();I.$flushHTML=c;const f=Symbol();I.$getAttributeIt=f;const y=Symbol();I.$getAvailableSpace=y;const i=Symbol();I.$getChildrenByClass=i;const d=Symbol();I.$getChildrenByName=d;const S=Symbol();I.$getChildrenByNameIt=S;const s=Symbol();I.$getDataValue=s;const l=Symbol();I.$getRealChildrenByNameIt=l;const A=Symbol();I.$getChildren=A;const k=Symbol();I.$getNextPage=k;const u=Symbol();I.$getParent=u;const M=Symbol();I.$global=M;const O=Symbol();I.$hasItem=O;const C=Symbol();I.$hasSettableValue=C;const N=Symbol();I.$ids=N;const X=Symbol();I.$indexOf=X;const H=Symbol();I.$insertAt=H;const D=Symbol();I.$isDataValue=D;const j=Symbol();I.$isDescendent=j;const _=Symbol();I.$isTransparent=_;const T=Symbol(),U=Symbol("namespaceId");I.$namespaceId=U;const q=Symbol("nodeName");I.$nodeName=q;const E=Symbol();I.$nsAttributes=E;const $=Symbol();I.$onChild=$;const B=Symbol();I.$onChildCheck=B;const W=Symbol();I.$onText=W;const V=Symbol();I.$removeChild=V;const J=Symbol();I.$resolvePrototypes=J;const Y=Symbol();I.$searchNode=Y;const z=Symbol();I.$setId=z;const Q=Symbol();I.$setSetAttributes=Q;const re=Symbol();I.$setValue=re;const te=Symbol();I.$text=te;const ae=Symbol();I.$toHTML=ae;const se=Symbol();I.$toStyle=se;const le=Symbol("uid");I.$uid=le;const ue=Symbol(),oe=Symbol(),me=Symbol(),de=Symbol("_children"),Ae=Symbol(),Ne=Symbol(),Ee=Symbol(),Re=Symbol(),qe=Symbol(),Ue=Symbol(),Se=Symbol(),Ce=Symbol(),Oe=Symbol(),pe=Symbol("parent"),ve=Symbol(),Ie=Symbol();let Te=0;class be{constructor(ce,ge,we=!1){this[U]=ce,this[q]=ge,this[Se]=we,this[pe]=null,this[de]=[],this[le]=`${ge}${Te++}`}[$](ce){if(!this[Se]||!this[B](ce))return!1;const ge=ce[q],we=this[ge];if(!(we instanceof ye))return null!==we&&this[V](we),this[ge]=ce,this[L](ce),!0;if(we.push(ce))return this[L](ce),!0;let _e="";return this.id?_e=` (id: ${this.id})`:this.name&&(_e=` (name: ${this.name} ${this.h.value})`),(0,F.warn)(`XFA - node "${this[q]}"${_e} has already enough "${ge}"!`),!1}[B](ce){return this.hasOwnProperty(ce[q])&&ce[U]===this[U]}[e](){return!1}[z](ce){this.id&&this[U]===R.NamespaceIds.template.id&&ce.set(this.id,this)}[L](ce){ce[pe]=this,this[de].push(ce)}[V](ce){const ge=this[de].indexOf(ce);this[de].splice(ge,1)}[C](){return this.hasOwnProperty("value")}[re](ce){}[W](ce){}[m](){}[r](ce){delete this[Se],this[w]&&(ce.clean(this[w]),delete this[w])}[O](){return!1}[X](ce){return this[de].indexOf(ce)}[H](ce,ge){ge[pe]=this,this[de].splice(ce,0,ge)}[_](){return""===this.name}[T](){return""}[te](){return 0===this[de].length?this[n]:this[de].map(ce=>ce[te]()).join("")}get[me](){const ce=Object.getPrototypeOf(this);if(!ce._attributes){const ge=ce._attributes=new Set;for(const we of Object.getOwnPropertyNames(this)){if(null===this[we]||this[we]instanceof be||this[we]instanceof ye)break;ge.add(we)}}return(0,F.shadow)(this,me,ce._attributes)}[j](ce){let ge=this;for(;ge;){if(ge===ce)return!0;ge=ge[u]()}return!1}[u](){return this[pe]}[A](ce=null){return ce?this[ce]:this[de]}[p](){const ce=Object.create(null);this[n]&&(ce.$content=this[n]);for(const ge of Object.getOwnPropertyNames(this)){const we=this[ge];null!==we&&(we instanceof be?ce[ge]=we[p]():we instanceof ye?we.isEmpty()||(ce[ge]=we.dump()):ce[ge]=we)}return ce}[se](){return null}[ae](){return t.HTMLResult.EMPTY}*[Re](ce,ge){for(const we of this[A]())if(!ce||ge===ce.has(we[q])){const _e=this[y](),Me=we[ae](_e);Me.success||(this[v].failingNode=we),yield Me}}[c](){return null}[x](ce,ge){this[v].children.push(ce)}[y](){}[b]({filter:ce=null,include:ge=!0}){if(this[v].generator){const we=this[y](),_e=this[v].failingNode[ae](we);if(!_e.success)return!1;_e.html&&this[x](_e.html,_e.bbox),delete this[v].failingNode}else this[v].generator=this[Re](ce,ge);for(;;){const we=this[v].generator.next();if(we.done)break;const _e=we.value;if(!_e.success)return!1;_e.html&&this[x](_e.html,_e.bbox)}return this[v].generator=null,!0}[Q](ce){(ce.use||ce.id)&&(this[ve]=new Set(Object.keys(ce)))}[Ue](ce){const ge=this[me],we=this[ve];return[...ce].filter(_e=>ge.has(_e)&&!we.has(_e))}[J](ce,ge=new Set){for(const we of this[de]){const _e=we[qe](ce,ge);_e?we[ue](_e,ce,ge):we[J](ce,ge)}}[qe](ce,ge){const{use:we}=this;if(we&&we.startsWith("#")){const _e=we.slice(1),Me=ce.get(_e);if(this.use="",!Me)return(0,F.warn)(`XFA - Invalid prototype id: ${_e}.`),null;if(Me[q]!==this[q])return(0,F.warn)(`XFA - Incompatible prototype: ${Me[q]} !== ${this[q]}.`),null;if(ge.has(Me))return(0,F.warn)("XFA - Cycle detected in prototypes use."),null;ge.add(Me);const ze=Me[qe](ce,ge);return ze?(Me[ue](ze,ce,ge),ge.delete(Me),Me):(ge.delete(Me),Me)}return null}[ue](ce,ge,we){if(we.has(ce))return void(0,F.warn)("XFA - Cycle detected in prototypes use.");!this[n]&&ce[n]&&(this[n]=ce[n]);const _e=new Set(we);_e.add(ce);for(const Me of this[Ue](ce[ve]))this[Me]=ce[Me],this[ve]&&this[ve].add(Me);for(const Me of Object.getOwnPropertyNames(this)){if(this[me].has(Me))continue;const ze=this[Me],je=ce[Me];if(ze instanceof ye){for(const Be of ze[de])Be[J](ge,we);for(let Be=ze[de].length,Ze=je[de].length;Be<Ze;Be++){const Ve=ce[de][Be][o]();if(!ze.push(Ve))break;Ve[pe]=this,this[de].push(Ve),Ve[J](ge,_e)}}else if(null===ze){if(null!==je){const Be=je[o]();Be[pe]=this,this[Me]=Be,this[de].push(Be),Be[J](ge,_e)}}else ze[J](ge,we)}}static[Ae](ce){return Array.isArray(ce)?ce.map(ge=>be[Ae](ge)):ce instanceof Object?Object.assign({},ce):ce}[o](){const ce=Object.create(Object.getPrototypeOf(this));for(const ge of Object.getOwnPropertySymbols(this))try{ce[ge]=this[ge]}catch{(0,F.shadow)(ce,ge,this[ge])}ce[de]=[];for(const ge of Object.getOwnPropertyNames(this)){if(this[me].has(ge)){ce[ge]=be[Ae](this[ge]);continue}const we=this[ge];ce[ge]=we instanceof ye?new ye(we[Ce]):null}for(const ge of this[de]){const we=ge[q],_e=ge[o]();ce[de].push(_e),_e[pe]=ce,null===ce[we]?ce[we]=_e:ce[we][de].push(_e)}return ce}[A](ce=null){return ce?this[de].filter(ge=>ge[q]===ce):this[de]}[i](ce){return this[ce]}[d](ce,ge,we=!0){return Array.from(this[S](ce,ge,we))}*[S](ce,ge,we=!0){if("parent"!==ce){for(const _e of this[de])_e[q]===ce&&(yield _e),_e.name===ce&&(yield _e),(ge||_e[_]())&&(yield*_e[S](ce,ge,!1));we&&this[me].has(ce)&&(yield new fe(this,ce,this[ce]))}else yield this[pe]}}I.XFAObject=be;class ye{constructor(ce=1/0){this[Ce]=ce,this[de]=[]}push(ce){return this[de].length<=this[Ce]?(this[de].push(ce),!0):((0,F.warn)(`XFA - node "${ce[q]}" accepts no more than ${this[Ce]} children`),!1)}isEmpty(){return 0===this[de].length}dump(){return 1===this[de].length?this[de][0][p]():this[de].map(ce=>ce[p]())}[o](){const ce=new ye(this[Ce]);return ce[de]=this[de].map(ge=>ge[o]()),ce}get children(){return this[de]}clear(){this[de].length=0}}I.XFAObjectArray=ye;class fe{constructor(ce,ge,we){this[pe]=ce,this[q]=ge,this[n]=we,this[h]=!1}[u](){return this[pe]}[D](){return!0}[te](){return this[n]}[j](ce){return this[pe]===ce||this[pe][j](ce)}}I.XFAAttribute=fe;class Pe extends be{constructor(ce,ge,we={}){if(super(ce,ge),this[n]="",this[Ne]=null,"#text"!==ge){const _e=new Map;this[oe]=_e;for(const[Me,ze]of Object.entries(we))_e.set(Me,new fe(this,Me,ze));if(we.hasOwnProperty(E)){const Me=we[E].xfa.dataNode;void 0!==Me&&("dataGroup"===Me?this[Ne]=!1:"dataValue"===Me&&(this[Ne]=!0))}}this[h]=!1}[$](ce){if(this[n]){const ge=new Pe(this[U],"#text");this[L](ge),ge[n]=this[n],this[n]=""}return this[L](ce),!0}[W](ce){this[n]+=ce}[m](){if(this[n]&&this[de].length>0){const ce=new Pe(this[U],"#text");this[L](ce),ce[n]=this[n],delete this[n]}}[ae](){return"#text"===this[q]?t.HTMLResult.success({name:"#text",value:this[n]}):t.HTMLResult.EMPTY}[A](ce=null){return ce?this[de].filter(ge=>ge[q]===ce):this[de]}[i](ce){const ge=this[oe].get(ce);return void 0!==ge?ge:this[A](ce)}*[S](ce,ge){const we=this[oe].get(ce);we&&(yield we);for(const _e of this[de])_e[q]===ce&&(yield _e),ge&&(yield*_e[S](ce,ge))}*[f](ce,ge){const we=this[oe].get(ce);!we||ge&&we[h]||(yield we);for(const _e of this[de])yield*_e[f](ce,ge)}*[l](ce,ge,we){for(const _e of this[de])_e[q]!==ce||we&&_e[h]||(yield _e),ge&&(yield*_e[l](ce,ge,we))}[D](){return null===this[Ne]?0===this[de].length||this[de][0][U]===R.NamespaceIds.xhtml.id:this[Ne]}[s](){return null===this[Ne]?0===this[de].length?this[n].trim():this[de][0][U]===R.NamespaceIds.xhtml.id?this[de][0][te]().trim():null:this[n].trim()}[p](){const ce=Object.create(null);this[n]&&(ce.$content=this[n]),ce.$name=this[q],ce.children=[];for(const ge of this[de])ce.children.push(ge[p]());ce.attributes=Object.create(null);for(const[ge,we]of this[oe])ce.attributes[ge]=we[n];return ce}}I.XmlObject=Pe;class ke extends be{constructor(ce,ge){super(ce,ge),this[n]=""}[W](ce){this[n]+=ce}[m](){}}I.ContentObject=ke,I.OptionObject=class extends ke{constructor(ce,ge,we){super(ce,ge),this[Oe]=we}[m](){this[n]=(0,t.getKeyword)({data:this[n],defaultValue:this[Oe][0],validate:ce=>this[Oe].includes(ce)})}[r](ce){super[r](ce),delete this[Oe]}},I.StringObject=class extends ke{[m](){this[n]=this[n].trim()}};class He extends ke{constructor(ce,ge,we,_e){super(ce,ge),this[Ee]=we,this[Ie]=_e}[m](){this[n]=(0,t.getInteger)({data:this[n],defaultValue:this[Ee],validate:this[Ie]})}[r](ce){super[r](ce),delete this[Ee],delete this[Ie]}}I.IntegerObject=He,I.Option01=class extends He{constructor(ce,ge){super(ce,ge,0,we=>1===we)}},I.Option10=class extends He{constructor(ce,ge){super(ce,ge,1,we=>0===we)}}},(ne,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.getBBox=function(L){if(!L)return{x:-1,y:-1,width:-1,height:-1};const b=L.trim().split(/\s*,\s*/).map(n=>R(n,"-1"));if(b.length<4||b[2]<0||b[3]<0)return{x:-1,y:-1,width:-1,height:-1};const[r,w,o,h]=b;return{x:r,y:w,width:o,height:h}},I.getColor=function(L,P=[0,0,0]){let[b,r,w]=P;if(!L)return{r:b,g:r,b:w};const o=L.trim().split(/\s*,\s*/).map(h=>Math.min(Math.max(0,parseInt(h.trim(),10)),255)).map(h=>isNaN(h)?0:h);return o.length<3||([b,r,w]=o),{r:b,g:r,b:w}},I.getFloat=function({data:L,defaultValue:P,validate:b}){if(!L)return P;L=L.trim();const r=parseFloat(L);return!isNaN(r)&&b(r)?r:P},I.getInteger=function({data:L,defaultValue:P,validate:b}){if(!L)return P;L=L.trim();const r=parseInt(L,10);return!isNaN(r)&&b(r)?r:P},I.getKeyword=F,I.getMeasurement=R,I.getRatio=function(L){if(!L)return{num:1,den:1};const P=L.trim().split(/\s*:\s*/).map(w=>parseFloat(w)).filter(w=>!isNaN(w));if(1===P.length&&P.push(1),0===P.length)return{num:1,den:1};const[b,r]=P;return{num:b,den:r}},I.getRelevant=function(L){return L?L.trim().split(/\s+/).map(P=>({excluded:"-"===P[0],viewname:P.substring(1)})):[]},I.getStringOption=function(L,P){return F({data:L,defaultValue:P[0],validate:b=>P.includes(b)})},I.HTMLResult=void 0;const G={pt:x=>x,cm:x=>x/2.54*72,mm:x=>x/25.4*72,in:x=>72*x,px:x=>x},t=/([+-]?[0-9]+\.?[0-9]*)(.*)/;function F({data:x,defaultValue:L,validate:P}){return x&&P(x=x.trim())?x:L}function R(x,L="0"){if(L=L||"0",!x)return R(L);const P=x.trim().match(t);if(!P)return R(L);const[,b,r]=P,w=parseFloat(b);if(isNaN(w))return R(L);if(0===w)return 0;const o=G[r];return o?o(w):w}class e{constructor(L,P,b){this.success=L,this.html=P,this.bbox=b}static success(L,P=null){return new e(!0,L,P)}}I.HTMLResult=e,e.FAILURE=new e(!1,null,null),e.EMPTY=new e(!0,null,null)},(ne,I)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.NamespaceIds=I.$buildXFAObject=void 0;const G=Symbol();I.$buildXFAObject=G,I.NamespaceIds={config:{id:0,check:t=>t.startsWith("http://www.xfa.org/schema/xci/")},connectionSet:{id:1,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-connection-set/")},datasets:{id:2,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-data/")},form:{id:3,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-form/")},localeSet:{id:4,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-locale-set/")},pdf:{id:5,check:t=>"http://ns.adobe.com/xdp/pdf/"===t},signature:{id:6,check:t=>"http://www.w3.org/2000/09/xmldsig#"===t},sourceSet:{id:7,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-source-set/")},stylesheet:{id:8,check:t=>"http://www.w3.org/1999/XSL/Transform"===t},template:{id:9,check:t=>t.startsWith("http://www.xfa.org/schema/xfa-template/")},xdc:{id:10,check:t=>t.startsWith("http://www.xfa.org/schema/xdc/")},xdp:{id:11,check:t=>"http://ns.adobe.com/xdp/"===t},xfdf:{id:12,check:t=>"http://ns.adobe.com/xfdf/"===t},xhtml:{id:13,check:t=>"http://www.w3.org/1999/xhtml"===t},xmpmeta:{id:14,check:t=>"http://ns.adobe.com/xmpmeta/"===t}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Binder=void 0;var t=G(68),F=G(72),R=G(75),e=G(70),x=G(2);function L(P){const b=new F.Text({});return b[t.$content]=P,b}I.Binder=class{constructor(b){this.root=b,this.datasets=b.datasets,b.datasets&&b.datasets.data?(this.emptyMerge=!1,this.data=b.datasets.data):(this.emptyMerge=!0,this.data=new t.XmlObject(e.NamespaceIds.datasets.id,"data")),this.root.form=this.form=b.template[t.$clone]()}_isConsumeData(){return!this.emptyMerge&&this._mergeMode}_isMatchTemplate(){return!this._isConsumeData()}bind(){return this._bindElement(this.form,this.data),this.form}getData(){return this.data}_bindValue(b,r,w){if(b[t.$hasSettableValue]())if(r[t.$isDataValue]()){const o=r[t.$getDataValue]();b[t.$setValue](L(o)),b[t.$data]=r}else if(b instanceof F.Field&&b.ui&&b.ui.choiceList&&"multiSelect"===b.ui.choiceList.open){const o=r[t.$getChildren]().map(h=>h[t.$content].trim()).join("\n");b[t.$setValue](L(o)),b[t.$data]=r}else this._isConsumeData()&&(0,x.warn)("XFA - Nodes haven't the same type.");else!r[t.$isDataValue]()||this._isMatchTemplate()?(this._bindElement(b,r),b[t.$data]=r):(0,x.warn)("XFA - Nodes haven't the same type.")}_findDataByNameToConsume(b,r,w,o){if(!b)return null;let h,n;for(let a=0;a<3;a++){for(h=w[t.$getRealChildrenByNameIt](b,!1,!0);n=h.next().value,n;)if(r===n[t.$isDataValue]())return n;if(w[t.$namespaceId]===e.NamespaceIds.datasets.id&&"data"===w[t.$nodeName])break;w=w[t.$getParent]()}if(!o)return null;for(h=this.data[t.$getRealChildrenByNameIt](b,!1,!1);n=h.next().value,n;)if(n[t.$global])return n;return h=this.data[t.$getAttributeIt](b,!0),n=h.next().value,n&&n[t.$isDataValue]()?n:null}_setProperties(b,r){if(b.hasOwnProperty("setProperty"))for(const{ref:w,target:o,connection:h}of b.setProperty.children){if(h||!w)continue;const[n]=(0,R.searchNode)(this.root,r,w,!1,!1);if(!n){(0,x.warn)(`XFA - Invalid reference: ${w}.`);continue}if(!n[t.$isDescendent](this.data)){(0,x.warn)("XFA - Invalid node: must be a data node.");continue}const[a]=(0,R.searchNode)(this.root,b,o,!1,!1);if(!a){(0,x.warn)(`XFA - Invalid target: ${o}.`);continue}if(!a[t.$isDescendent](b)){(0,x.warn)("XFA - Invalid target: must be a property or subproperty.");continue}const p=a[t.$getParent]();if(a instanceof F.SetProperty||p instanceof F.SetProperty){(0,x.warn)("XFA - Invalid target: cannot be a setProperty or one of its properties.");continue}if(a instanceof F.BindItems||p instanceof F.BindItems){(0,x.warn)("XFA - Invalid target: cannot be a bindItems or one of its properties.");continue}const v=n[t.$text](),m=a[t.$nodeName];if(a instanceof t.XFAAttribute){const c=Object.create(null);c[m]=v;const f=Reflect.construct(Object.getPrototypeOf(p).constructor,[c]);p[m]=f[m]}else a.hasOwnProperty(t.$content)?(a[t.$data]=n,a[t.$content]=v,a[t.$finalize]()):(0,x.warn)("XFA - Invalid node to use in setProperty")}}_bindItems(b,r){if(!b.hasOwnProperty("items")||!b.hasOwnProperty("bindItems")||b.bindItems.isEmpty())return;for(const h of b.items.children)b[t.$removeChild](h);b.items.clear();const w=new F.Items({}),o=new F.Items({});b[t.$appendChild](w),b.items.push(w),b[t.$appendChild](o),b.items.push(o);for(const{ref:h,labelRef:n,valueRef:a,connection:p}of b.bindItems.children){if(p||!h)continue;const v=(0,R.searchNode)(this.root,r,h,!1,!1);if(v)for(const m of v){if(!m[t.$isDescendent](this.datasets)){(0,x.warn)(`XFA - Invalid ref (${h}): must be a datasets child.`);continue}const[c]=(0,R.searchNode)(this.root,m,n,!0,!1);if(!c){(0,x.warn)(`XFA - Invalid label: ${n}.`);continue}if(!c[t.$isDescendent](this.datasets)){(0,x.warn)("XFA - Invalid label: must be a datasets child.");continue}const[f]=(0,R.searchNode)(this.root,m,a,!0,!1);if(!f){(0,x.warn)(`XFA - Invalid value: ${a}.`);continue}if(!f[t.$isDescendent](this.datasets)){(0,x.warn)("XFA - Invalid value: must be a datasets child.");continue}const y=L(c[t.$text]()),i=L(f[t.$text]());w[t.$appendChild](y),w.text.push(y),o[t.$appendChild](i),o.text.push(i)}else(0,x.warn)(`XFA - Invalid reference: ${h}.`)}}_bindOccurrences(b,r,w){let o;if(r.length>1&&(o=b[t.$clone]()),this._bindValue(b,r[0],w),this._setProperties(b,r[0]),this._bindItems(b,r[0]),1===r.length)return;const h=b[t.$getParent](),n=b[t.$nodeName],a=h[t.$indexOf](b);for(let p=1,v=r.length;p<v;p++){const m=r[p],c=o[t.$clone]();c.occur.min=1,c.occur.max=1,c.occur.initial=1,h[n].push(c),h[t.$insertAt](a+p,c),this._bindValue(c,m,w),this._setProperties(c,m),this._bindItems(c,m)}}_createOccurrences(b){if(!this.emptyMerge)return;const{occur:r}=b;if(!r||r.initial<=1)return;const w=b[t.$getParent](),o=b[t.$nodeName];for(let h=0,n=r.initial;h<n;h++){const a=b[t.$clone]();a.occur.min=1,a.occur.max=1,a.occur.initial=1,w[o].push(a),w[t.$appendChild](a)}}_getOccurInfo(b){const{occur:r}=b;return r&&b.name?[r.min,-1===r.max?1/0:r.max]:[1,1]}_bindElement(b,r){const w=[];this._createOccurrences(b);for(const o of b[t.$getChildren]()){if(o[t.$data])continue;void 0===this._mergeMode&&"subform"===o[t.$nodeName]&&(this._mergeMode="consumeData"===o.mergeMode);let h=!1,n=null,a=null,p=null;if(o.bind){switch(o.bind.match){case"none":this._bindElement(o,r);continue;case"global":h=!0;break;case"dataRef":if(!o.bind.ref){(0,x.warn)(`XFA - ref is empty in node ${o[t.$nodeName]}.`),this._bindElement(o,r);continue}a=o.bind.ref}o.bind.picture&&(n=o.bind.picture[t.$content])}const[v,m]=this._getOccurInfo(o);if(a)p=(0,R.searchNode)(this.root,r,a,!0,!1),null===p?(p=(0,R.createDataNode)(this.data,r,a),this._isConsumeData()&&(p[t.$consumed]=!0),p=[p]):(this._isConsumeData()&&(p=p.filter(c=>!c[t.$consumed])),p.length>m?p=p.slice(0,m):0===p.length&&(p=null),p&&this._isConsumeData()&&p.forEach(c=>{c[t.$consumed]=!0}));else{if(!o.name){this._bindElement(o,r);continue}if(this._isConsumeData()){const c=[];for(;c.length<m;){const f=this._findDataByNameToConsume(o.name,o[t.$hasSettableValue](),r,h);if(!f)break;f[t.$consumed]=!0,c.push(f)}p=c.length>0?c:null}else p=r[t.$getRealChildrenByNameIt](o.name,!1,!1).next().value,p||(p=new t.XmlObject(r[t.$namespaceId],o.name),r[t.$appendChild](p)),p=[p]}if(p){if(p.length<v){(0,x.warn)(`XFA - Must have at least ${v} occurrences: ${b[t.$nodeName]}.`);continue}this._bindOccurrences(o,p,n)}else v>0?(this._setProperties(o,r),this._bindItems(o,r),this._bindElement(o,r)):w.push(o)}w.forEach(o=>o[t.$getParent]()[t.$removeChild](o))}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Value=I.Text=I.TemplateNamespace=I.Template=I.SetProperty=I.Items=I.Field=I.BindItems=void 0;var t=G(68),F=G(70),R=G(73),e=G(74),x=G(69),L=G(2),P=G(75);const b=F.NamespaceIds.template.id;function r(Fe,g){if(!Fe.value){const ie=new ft({});Fe[t.$appendChild](ie),Fe.value=ie}Fe.value[t.$setValue](g)}function w(Fe){let g=Fe[t.$getParent]();for(;!(g instanceof mt);)g=g[t.$getParent]();return g}function o(Fe,g){if(""!==Fe.w&&Math.round(Fe.w+Fe.x-g.width)>1){const ie=w(Fe)[t.$extra].currentContentArea;return Fe.w+Fe.x>ie.w?0:1}if(""!==Fe.h&&Math.round(Fe.h+Fe.y-g.height)>1){const ie=w(Fe)[t.$extra].currentContentArea;return Fe.h+Fe.y>ie.h?0:1}return 2}class h extends t.StringObject{constructor(g){super(b,"appearanceFilter"),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||""}}class n extends t.XFAObject{constructor(g){super(b,"arc",!0),this.circular=(0,x.getInteger)({data:g.circular,defaultValue:0,validate:ie=>1===ie}),this.hand=(0,x.getStringOption)(g.hand,["even","left","right"]),this.id=g.id||"",this.startAngle=(0,x.getFloat)({data:g.startAngle,defaultValue:0,validate:ie=>!0}),this.sweepAngle=(0,x.getFloat)({data:g.sweepAngle,defaultValue:360,validate:ie=>!0}),this.use=g.use||"",this.usehref=g.usehref||"",this.edge=null,this.fill=null}}class a extends t.XFAObject{constructor(g){super(b,"area",!0),this.colSpan=(0,x.getInteger)({data:g.colSpan,defaultValue:1,validate:ie=>ie>=1||-1===ie}),this.id=g.id||"",this.name=g.name||"",this.relevant=(0,x.getRelevant)(g.relevant),this.use=g.use||"",this.usehref=g.usehref||"",this.x=(0,x.getMeasurement)(g.x,"0pt"),this.y=(0,x.getMeasurement)(g.y,"0pt"),this.desc=null,this.extras=null,this.area=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[t.$isTransparent](){return!0}[t.$addHTML](g,ie){const[Le,$e,Ge,tt]=ie;this[t.$extra].width=Math.max(this[t.$extra].width,Le+Ge),this[t.$extra].height=Math.max(this[t.$extra].height,$e+tt),this[t.$extra].children.push(g)}[t.$getAvailableSpace](){return this[t.$extra].availableSpace}[t.$toHTML](g){const ie=(0,R.toStyle)(this,"position"),Le={style:ie,id:this[t.$uid],class:"xfaArea"};this.name&&(Le.xfaName=this.name);const $e=[];if(this[t.$extra]={children:$e,width:0,height:0,availableSpace:g},!this[t.$childrenToHTML]({filter:new Set(["area","draw","field","exclGroup","subform","subformSet"]),include:!0}))return delete this[t.$extra],x.HTMLResult.empty;ie.width=(0,R.measureToString)(this[t.$extra].width),ie.height=(0,R.measureToString)(this[t.$extra].height);const Ge={name:"div",attributes:Le,children:$e},tt=[this.x,this.y,this[t.$extra].width,this[t.$extra].height];return delete this[t.$extra],x.HTMLResult.success(Ge,tt)}}class p extends t.XFAObject{constructor(g){super(b,"assist",!0),this.id=g.id||"",this.role=g.role||"",this.use=g.use||"",this.usehref=g.usehref||"",this.speak=null,this.toolTip=null}}class v extends t.XFAObject{constructor(g){super(b,"barcode",!0),this.charEncoding=(0,x.getKeyword)({data:g.charEncoding?g.charEncoding.toLowerCase():"",defaultValue:"",validate:ie=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(ie)||ie.match(/iso-8859-[0-9]{2}/)}),this.checksum=(0,x.getStringOption)(g.checksum,["none","1mod10","1mod10_1mod11","2mod10","auto"]),this.dataColumnCount=(0,x.getInteger)({data:g.dataColumnCount,defaultValue:-1,validate:ie=>ie>=0}),this.dataLength=(0,x.getInteger)({data:g.dataLength,defaultValue:-1,validate:ie=>ie>=0}),this.dataPrep=(0,x.getStringOption)(g.dataPrep,["none","flateCompress"]),this.dataRowCount=(0,x.getInteger)({data:g.dataRowCount,defaultValue:-1,validate:ie=>ie>=0}),this.endChar=g.endChar||"",this.errorCorrectionLevel=(0,x.getInteger)({data:g.errorCorrectionLevel,defaultValue:-1,validate:ie=>ie>=0&&ie<=8}),this.id=g.id||"",this.moduleHeight=(0,x.getMeasurement)(g.moduleHeight,"5mm"),this.moduleWidth=(0,x.getMeasurement)(g.moduleWidth,"0.25mm"),this.printCheckDigit=(0,x.getInteger)({data:g.printCheckDigit,defaultValue:0,validate:ie=>1===ie}),this.rowColumnRatio=(0,x.getRatio)(g.rowColumnRatio),this.startChar=g.startChar||"",this.textLocation=(0,x.getStringOption)(g.textLocation,["below","above","aboveEmbedded","belowEmbedded","none"]),this.truncate=(0,x.getInteger)({data:g.truncate,defaultValue:0,validate:ie=>1===ie}),this.type=(0,x.getStringOption)(g.type?g.type.toLowerCase():"",["aztec","codabar","code2of5industrial","code2of5interleaved","code2of5matrix","code2of5standard","code3of9","code3of9extended","code11","code49","code93","code128","code128a","code128b","code128c","code128sscc","datamatrix","ean8","ean8add2","ean8add5","ean13","ean13add2","ean13add5","ean13pwcd","fim","logmars","maxicode","msi","pdf417","pdf417macro","plessey","postauscust2","postauscust3","postausreplypaid","postausstandard","postukrm4scc","postusdpbc","postusimb","postusstandard","postus5zip","qrcode","rfid","rss14","rss14expanded","rss14limited","rss14stacked","rss14stackedomni","rss14truncated","telepen","ucc128","ucc128random","ucc128sscc","upca","upcaadd2","upcaadd5","upcapwcd","upce","upceadd2","upceadd5","upcean2","upcean5","upsmaxicode"]),this.upsMode=(0,x.getStringOption)(g.upsMode,["usCarrier","internationalCarrier","secureSymbol","standardSymbol"]),this.use=g.use||"",this.usehref=g.usehref||"",this.wideNarrowRatio=(0,x.getRatio)(g.wideNarrowRatio),this.encrypt=null,this.extras=null}}class m extends t.XFAObject{constructor(g){super(b,"bind",!0),this.match=(0,x.getStringOption)(g.match,["once","dataRef","global","none"]),this.ref=g.ref||"",this.picture=null}}class c extends t.XFAObject{constructor(g){super(b,"bindItems"),this.connection=g.connection||"",this.labelRef=g.labelRef||"",this.ref=g.ref||"",this.valueRef=g.valueRef||""}}I.BindItems=c;class f extends t.XFAObject{constructor(g){super(b,"bookend"),this.id=g.id||"",this.leader=g.leader||"",this.trailer=g.trailer||"",this.use=g.use||"",this.usehref=g.usehref||""}}class y extends t.Option01{constructor(g){super(b,"boolean"),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}[t.$toHTML](g){return x.HTMLResult.success(1===this[t.$content])}}class i extends t.XFAObject{constructor(g){super(b,"border",!0),this.break=(0,x.getStringOption)(g.break,["close","open"]),this.hand=(0,x.getStringOption)(g.hand,["even","left","right"]),this.id=g.id||"",this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,x.getRelevant)(g.relevant),this.use=g.use||"",this.usehref=g.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.extras=null,this.fill=null,this.margin=null}[t.$toStyle](g,ie){const Le=this.edge.children.slice();if(Le.length<4){const We=Le[Le.length-1]||new J({});for(let rt=Le.length;rt<4;rt++)Le.push(We)}g=g||[0,0,0,0];for(let We=0;We<4;We++)g[We]=Le[We].thickness;ie=ie||[0,0,0,0];const $e=Le.map(We=>{const rt=We[t.$toStyle]();return rt.color=rt.color||"#000000",rt});let Ge;this.margin?(Ge=this.margin[t.$toStyle](),ie[0]=this.margin.topInset,ie[1]=this.margin.rightInset,ie[2]=this.margin.bottomInset,ie[3]=this.margin.leftInset):Ge=Object.create(null);let tt=!1;const at=this[t.$getParent]();(at?at[t.$getParent]():null)instanceof At&&(tt=!0),this.fill&&Object.assign(Ge,this.fill[t.$toStyle]());let Ye=!1;if(this.corner.children.some(We=>0!==We.radius)){const We=this.corner.children.map(rt=>rt[t.$toStyle]());if(2===We.length||3===We.length){const rt=We[We.length-1];for(let ct=We.length;ct<4;ct++)We.push(rt)}Ge.borderRadius=We.map(rt=>rt.radius).join(" "),Ye=!0}const et=$e[0];if(!Ye&&(this.edge.children.length<=1||$e.every(We=>We.style===et.style&&We.width===et.width&&We.color===et.color)&&ie.every(We=>We===ie[0]))){let We;switch(this.presence){case"invisible":case"hidden":We="";break;case"inactive":We="none";break;default:We=et.style}Ge.outline=`${et.width} ${et.color} ${We}`;const rt=Le[0].thickness+ie[0];Ge.outlineOffset=`-${(0,R.measureToString)(rt)}`,tt&&(Ge.padding=`${(0,R.measureToString)(rt+1)}`)}else{switch(this.presence){case"invisible":case"hidden":Ge.borderStyle="";break;case"inactive":Ge.borderStyle="none";break;default:Ge.borderStyle=$e.map(We=>We.style).join(" ")}Ge.borderWidth=$e.map(We=>We.width).join(" "),Ge.borderColor=$e.map(We=>We.color).join(" ")}return Ge}}class d extends t.XFAObject{constructor(g){super(b,"break",!0),this.after=(0,x.getStringOption)(g.after,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.afterTarget=g.afterTarget||"",this.before=(0,x.getStringOption)(g.before,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.beforeTarget=g.beforeTarget||"",this.bookendLeader=g.bookendLeader||"",this.bookendTrailer=g.bookendTrailer||"",this.id=g.id||"",this.overflowLeader=g.overflowLeader||"",this.overflowTarget=g.overflowTarget||"",this.overflowTrailer=g.overflowTrailer||"",this.startNew=(0,x.getInteger)({data:g.startNew,defaultValue:0,validate:ie=>1===ie}),this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null}}class S extends t.XFAObject{constructor(g){super(b,"breakAfter",!0),this.id=g.id||"",this.leader=g.leader||"",this.startNew=(0,x.getInteger)({data:g.startNew,defaultValue:0,validate:ie=>1===ie}),this.target=g.target||"",this.targetType=(0,x.getStringOption)(g.targetType,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.trailer=g.trailer||"",this.use=g.use||"",this.usehref=g.usehref||"",this.script=null}}class s extends t.XFAObject{constructor(g){super(b,"breakBefore",!0),this.id=g.id||"",this.leader=g.leader||"",this.startNew=(0,x.getInteger)({data:g.startNew,defaultValue:0,validate:ie=>1===ie}),this.target=g.target||"",this.targetType=(0,x.getStringOption)(g.targetType,["auto","contentArea","pageArea","pageEven","pageOdd"]),this.trailer=g.trailer||"",this.use=g.use||"",this.usehref=g.usehref||"",this.script=null}[t.$toHTML](g){return this[t.$extra]={},x.HTMLResult.FAILURE}}class l extends t.XFAObject{constructor(g){super(b,"button",!0),this.highlight=(0,x.getStringOption)(g.highlight,["inverted","none","outline","push"]),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null}[t.$toHTML](g){return x.HTMLResult.success({name:"button",attributes:{class:"xfaButton",style:{}},children:[]})}}class A extends t.XFAObject{constructor(g){super(b,"calculate",!0),this.id=g.id||"",this.override=(0,x.getStringOption)(g.override,["disabled","error","ignore","warning"]),this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.message=null,this.script=null}}class k extends t.XFAObject{constructor(g){super(b,"caption",!0),this.id=g.id||"",this.placement=(0,x.getStringOption)(g.placement,["left","bottom","inline","right","top"]),this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.reserve=(0,x.getMeasurement)(g.reserve),this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.font=null,this.margin=null,this.para=null,this.value=null}[t.$setValue](g){r(this,g)}[t.$toHTML](g){if(!this.value)return x.HTMLResult.EMPTY;const ie=this.value[t.$toHTML](g).html;if(!ie)return x.HTMLResult.EMPTY;const Le=[];Le.push("string"==typeof ie?{name:"#text",value:ie}:ie);const $e=(0,R.toStyle)(this,"font","margin","para","visibility");switch(this.placement){case"left":case"right":this.reserve>0?$e.width=(0,R.measureToString)(this.reserve):$e.minWidth=(0,R.measureToString)(this.reserve);break;case"top":case"bottom":this.reserve>0?$e.height=(0,R.measureToString)(this.reserve):$e.minHeight=(0,R.measureToString)(this.reserve)}return x.HTMLResult.success({name:"div",attributes:{style:$e,class:"xfaCaption"},children:Le})}}class u extends t.StringObject{constructor(g){super(b,"certificate"),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}}class M extends t.XFAObject{constructor(g){super(b,"certificates",!0),this.credentialServerPolicy=(0,x.getStringOption)(g.credentialServerPolicy,["optional","required"]),this.id=g.id||"",this.url=g.url||"",this.urlPolicy=g.urlPolicy||"",this.use=g.use||"",this.usehref=g.usehref||"",this.encryption=null,this.issuers=null,this.keyUsage=null,this.oids=null,this.signing=null,this.subjectDNs=null}}class O extends t.XFAObject{constructor(g){super(b,"checkButton",!0),this.id=g.id||"",this.mark=(0,x.getStringOption)(g.mark,["default","check","circle","cross","diamond","square","star"]),this.shape=(0,x.getStringOption)(g.shape,["square","round"]),this.size=(0,x.getMeasurement)(g.size,"10pt"),this.use=g.use||"",this.usehref=g.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](g){const ie=(0,R.toStyle)(this,"border","margin"),Le=(0,R.measureToString)(this.size);let $e,Ge;if(ie.width=ie.height=Le,"square"===this.shape?($e="\u25aa",Ge="10%"):($e="\u25cf",Ge="50%"),ie.borderRadius||(ie.borderRadius=Ge),"default"!==this.mark)switch(this.mark){case"check":$e="\u2713";break;case"circle":$e="\u25cf";break;case"cross":$e="\u2715";break;case"diamond":$e="\u2666";break;case"square":$e="\u25aa";break;case"star":$e="\u2605"}"10px"!==Le&&(ie.fontSize=Le,ie.lineHeight=Le,ie.width=Le,ie.height=Le);const tt=this[t.$getParent]()[t.$getParent]()[t.$uid],at={name:"input",attributes:{class:"xfaCheckbox",fieldId:tt,type:"radio",id:`${tt}-radio`}},Ye=this[t.$getParent]()[t.$getParent]()[t.$getParent]();return Ye instanceof me&&(at.attributes.name=Ye[t.$uid]),x.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[at,{name:"span",attributes:{class:"xfaCheckboxMark",mark:$e,style:ie}}]})}}class C extends t.XFAObject{constructor(g){super(b,"choiceList",!0),this.commitOn=(0,x.getStringOption)(g.commitOn,["select","exit"]),this.id=g.id||"",this.open=(0,x.getStringOption)(g.open,["userControl","always","multiSelect","onEntry"]),this.textEntry=(0,x.getInteger)({data:g.textEntry,defaultValue:0,validate:ie=>1===ie}),this.use=g.use||"",this.usehref=g.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](g){const ie=(0,R.toStyle)(this,"border","margin"),Le=this[t.$getParent]()[t.$getParent](),$e=[];if(Le.items.children.length>0){const tt=Le.items.children[0][t.$toHTML]().html,at=Le.items.children[1]?Le.items.children[1][t.$toHTML]().html:[];for(let Ye=0,et=tt.length;Ye<et;Ye++)$e.push({name:"option",attributes:{value:at[Ye]||tt[Ye]},value:tt[Ye]})}const Ge={class:"xfaSelect",fieldId:this[t.$getParent]()[t.$getParent]()[t.$uid],style:ie};return"multiSelect"===this.open&&(Ge.multiple=!0),x.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[{name:"select",children:$e,attributes:Ge}]})}}class N extends t.XFAObject{constructor(g){super(b,"color",!0),this.cSpace=(0,x.getStringOption)(g.cSpace,["SRGB"]),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.value=g.value?(0,x.getColor)(g.value):"",this.extras=null}[t.$hasSettableValue](){return!1}[t.$toStyle](){return this.value?L.Util.makeHexColor(this.value.r,this.value.g,this.value.b):null}}class X extends t.XFAObject{constructor(g){super(b,"comb"),this.id=g.id||"",this.numberOfCells=(0,x.getInteger)({data:g.numberOfCells,defaultValue:0,validate:ie=>ie>=0}),this.use=g.use||"",this.usehref=g.usehref||""}}class H extends t.XFAObject{constructor(g){super(b,"connect",!0),this.connection=g.connection||"",this.id=g.id||"",this.ref=g.ref||"",this.usage=(0,x.getStringOption)(g.usage,["exportAndImport","exportOnly","importOnly"]),this.use=g.use||"",this.usehref=g.usehref||"",this.picture=null}}class D extends t.XFAObject{constructor(g){super(b,"contentArea",!0),this.h=(0,x.getMeasurement)(g.h),this.id=g.id||"",this.name=g.name||"",this.relevant=(0,x.getRelevant)(g.relevant),this.use=g.use||"",this.usehref=g.usehref||"",this.w=(0,x.getMeasurement)(g.w),this.x=(0,x.getMeasurement)(g.x,"0pt"),this.y=(0,x.getMeasurement)(g.y,"0pt"),this.desc=null,this.extras=null}[t.$toHTML](g){const ie={position:"absolute",left:(0,R.measureToString)(this.x),top:(0,R.measureToString)(this.y),width:(0,R.measureToString)(this.w),height:(0,R.measureToString)(this.h)};return x.HTMLResult.success({name:"div",children:[],attributes:{style:ie,class:"xfaContentarea",id:this[t.$uid]}})}}class j extends t.XFAObject{constructor(g){super(b,"corner",!0),this.id=g.id||"",this.inverted=(0,x.getInteger)({data:g.inverted,defaultValue:0,validate:ie=>1===ie}),this.join=(0,x.getStringOption)(g.join,["square","round"]),this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.radius=(0,x.getMeasurement)(g.radius),this.stroke=(0,x.getStringOption)(g.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=(0,x.getMeasurement)(g.thickness,"0.5pt"),this.use=g.use||"",this.usehref=g.usehref||"",this.color=null,this.extras=null}[t.$toStyle](){const g=(0,R.toStyle)(this,"visibility");return g.radius=(0,R.measureToString)(this.radius),g}}class _ extends t.ContentObject{constructor(g){super(b,"date"),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}[t.$finalize](){this[t.$content]=new Date(this[t.$content].trim())}[t.$toHTML](g){return x.HTMLResult.success(this[t.$content].toString())}}class T extends t.ContentObject{constructor(g){super(b,"dateTime"),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}[t.$finalize](){this[t.$content]=new Date(this[t.$content].trim())}[t.$toHTML](g){return x.HTMLResult.success(this[t.$content].toString())}}class U extends t.XFAObject{constructor(g){super(b,"dateTimeEdit",!0),this.hScrollPolicy=(0,x.getStringOption)(g.hScrollPolicy,["auto","off","on"]),this.id=g.id||"",this.picker=(0,x.getStringOption)(g.picker,["host","none"]),this.use=g.use||"",this.usehref=g.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](g){const ie=(0,R.toStyle)(this,"border","font","margin"),Le={name:"input",attributes:{type:"text",fieldId:this[t.$getParent]()[t.$getParent]()[t.$uid],class:"xfaTextfield",style:ie}};return x.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[Le]})}}class q extends t.ContentObject{constructor(g){super(b,"decimal"),this.fracDigits=(0,x.getInteger)({data:g.fracDigits,defaultValue:2,validate:ie=>!0}),this.id=g.id||"",this.leadDigits=(0,x.getInteger)({data:g.leadDigits,defaultValue:-1,validate:ie=>!0}),this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}[t.$finalize](){const g=parseFloat(this[t.$content].trim());this[t.$content]=isNaN(g)?null:g}[t.$toHTML](g){return x.HTMLResult.success(null!==this[t.$content]?this[t.$content].toString():"")}}class E extends t.XFAObject{constructor(g){super(b,"defaultUi",!0),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null}}class $ extends t.XFAObject{constructor(g){super(b,"desc",!0),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class B extends t.OptionObject{constructor(g){super(b,"digestMethod",["","SHA1","SHA256","SHA512","RIPEMD160"]),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||""}}class W extends t.XFAObject{constructor(g){super(b,"digestMethods",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||"",this.digestMethod=new t.XFAObjectArray}}class V extends t.XFAObject{constructor(g){super(b,"draw",!0),this.anchorType=(0,x.getStringOption)(g.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,x.getInteger)({data:g.colSpan,defaultValue:1,validate:ie=>ie>=1||-1===ie}),this.h=g.h?(0,x.getMeasurement)(g.h):"",this.hAlign=(0,x.getStringOption)(g.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=g.id||"",this.locale=g.locale||"",this.maxH=(0,x.getMeasurement)(g.maxH,"0pt"),this.maxW=(0,x.getMeasurement)(g.maxW,"0pt"),this.minH=(0,x.getMeasurement)(g.minH,"0pt"),this.minW=(0,x.getMeasurement)(g.minW,"0pt"),this.name=g.name||"",this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,x.getRelevant)(g.relevant),this.rotate=(0,x.getInteger)({data:g.rotate,defaultValue:0,validate:ie=>ie%90==0}),this.use=g.use||"",this.usehref=g.usehref||"",this.w=g.w?(0,x.getMeasurement)(g.w):"",this.x=(0,x.getMeasurement)(g.x,"0pt"),this.y=(0,x.getMeasurement)(g.y,"0pt"),this.assist=null,this.border=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.value=null,this.setProperty=new t.XFAObjectArray}[t.$setValue](g){r(this,g)}[t.$toHTML](g){if("hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return x.HTMLResult.EMPTY;if((0,R.fixDimensions)(this),""!==this.w&&""===this.h&&this.value){const et=this.value[t.$text]();if(et){const{height:We}=(0,R.layoutText)(et,this.font.size,{width:this.w,height:1/0});this.h=We||""}}switch(o(this,g)){case 0:return x.HTMLResult.EMPTY;case 1:return x.HTMLResult.FAILURE}const ie=(0,R.toStyle)(this,"font","hAlign","dimensions","position","presence","rotate","anchorType","borderMarginPadding"),Le=["xfaDraw"];this.font&&Le.push("xfaFont");const $e={style:ie,id:this[t.$uid],class:Le.join(" ")};this.name&&($e.xfaName=this.name);const Ge={name:"div",attributes:$e,children:[]},tt=(0,R.addExtraDivForBorder)(Ge),at=(0,R.computeBbox)(this,Ge,g),Ye=this.value?this.value[t.$toHTML](g).html:null;if(null===Ye)return x.HTMLResult.success(tt,at);if(Ge.children.push(Ye),"xfaRich"===Ye.attributes.class&&(""===this.h&&(ie.height="auto"),""===this.w&&(ie.width="auto"),this.para)){switch($e.style.display="flex",$e.style.flexDirection="column",this.para.vAlign){case"top":$e.style.justifyContent="start";break;case"bottom":$e.style.justifyContent="end";break;case"middle":$e.style.justifyContent="center"}const et=this.para[t.$toStyle]();if(Ye.attributes.style)for(const[We,rt]of Object.entries(et))We in Ye.attributes.style||(Ye.attributes.style[We]=rt);else Ye.attributes.style=et}return x.HTMLResult.success(tt,at)}}class J extends t.XFAObject{constructor(g){super(b,"edge",!0),this.cap=(0,x.getStringOption)(g.cap,["square","butt","round"]),this.id=g.id||"",this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.stroke=(0,x.getStringOption)(g.stroke,["solid","dashDot","dashDotDot","dashed","dotted","embossed","etched","lowered","raised"]),this.thickness=Math.max(1,Math.round((0,x.getMeasurement)(g.thickness,"0.5pt"))),this.use=g.use||"",this.usehref=g.usehref||"",this.color=null,this.extras=null}[t.$toStyle](){const g=(0,R.toStyle)(this,"visibility");if(Object.assign(g,{linecap:this.cap,width:(0,R.measureToString)(Math.max(1,Math.round(this.thickness))),color:this.color?this.color[t.$toStyle]():"#000000",style:""}),"visible"!==this.presence)g.style="none";else switch(this.stroke){case"solid":g.style="solid";break;case"dashDot":case"dashDotDot":case"dashed":g.style="dashed";break;case"dotted":g.style="dotted";break;case"embossed":g.style="ridge";break;case"etched":g.style="groove";break;case"lowered":g.style="inset";break;case"raised":g.style="outset"}return g}}class Y extends t.OptionObject{constructor(g){super(b,"encoding",["adbe.x509.rsa_sha1","adbe.pkcs7.detached","adbe.pkcs7.sha1"]),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||""}}class z extends t.XFAObject{constructor(g){super(b,"encodings",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||"",this.encoding=new t.XFAObjectArray}}class Q extends t.XFAObject{constructor(g){super(b,"encrypt",!0),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.certificate=null}}class re extends t.XFAObject{constructor(g){super(b,"encryptData",!0),this.id=g.id||"",this.operation=(0,x.getStringOption)(g.operation,["encrypt","decrypt"]),this.target=g.target||"",this.use=g.use||"",this.usehref=g.usehref||"",this.filter=null,this.manifest=null}}class te extends t.XFAObject{constructor(g){super(b,"encryption",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||"",this.certificate=new t.XFAObjectArray}}class ae extends t.OptionObject{constructor(g){super(b,"encryptionMethod",["","AES256-CBC","TRIPLEDES-CBC","AES128-CBC","AES192-CBC"]),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||""}}class se extends t.XFAObject{constructor(g){super(b,"encryptionMethods",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||"",this.encryptionMethod=new t.XFAObjectArray}}class le extends t.XFAObject{constructor(g){super(b,"event",!0),this.activity=(0,x.getStringOption)(g.activity,["click","change","docClose","docReady","enter","exit","full","indexChange","initialize","mouseDown","mouseEnter","mouseExit","mouseUp","postExecute","postOpen","postPrint","postSave","postSign","postSubmit","preExecute","preOpen","prePrint","preSave","preSign","preSubmit","ready","validationState"]),this.id=g.id||"",this.listen=(0,x.getStringOption)(g.listen,["refOnly","refAndDescendents"]),this.name=g.name||"",this.ref=g.ref||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.encryptData=null,this.execute=null,this.script=null,this.signData=null,this.submit=null}}class ue extends t.ContentObject{constructor(g){super(b,"exData"),this.contentType=g.contentType||"",this.href=g.href||"",this.id=g.id||"",this.maxLength=(0,x.getInteger)({data:g.maxLength,defaultValue:-1,validate:ie=>ie>=-1}),this.name=g.name||"",this.rid=g.rid||"",this.transferEncoding=(0,x.getStringOption)(g.transferEncoding,["none","base64","package"]),this.use=g.use||"",this.usehref=g.usehref||""}[t.$onChild](g){return("text/html"===this.contentType&&g[t.$namespaceId]===F.NamespaceIds.xhtml.id||"text/xml"===this.contentType)&&(this[t.$content]=g,!0)}[t.$toHTML](g){return"text/html"===this.contentType&&this[t.$content]?this[t.$content][t.$toHTML](g):x.HTMLResult.EMPTY}}class oe extends t.XFAObject{constructor(g){super(b,"exObject",!0),this.archive=g.archive||"",this.classId=g.classId||"",this.codeBase=g.codeBase||"",this.codeType=g.codeType||"",this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class me extends t.XFAObject{constructor(g){super(b,"exclGroup",!0),this.access=(0,x.getStringOption)(g.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=g.accessKey||"",this.anchorType=(0,x.getStringOption)(g.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,x.getInteger)({data:g.colSpan,defaultValue:1,validate:ie=>ie>=1||-1===ie}),this.h=g.h?(0,x.getMeasurement)(g.h):"",this.hAlign=(0,x.getStringOption)(g.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=g.id||"",this.layout=(0,x.getStringOption)(g.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.maxH=(0,x.getMeasurement)(g.maxH,"0pt"),this.maxW=(0,x.getMeasurement)(g.maxW,"0pt"),this.minH=(0,x.getMeasurement)(g.minH,"0pt"),this.minW=(0,x.getMeasurement)(g.minW,"0pt"),this.name=g.name||"",this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,x.getRelevant)(g.relevant),this.use=g.use||"",this.usehref=g.usehref||"",this.w=g.w?(0,x.getMeasurement)(g.w):"",this.x=(0,x.getMeasurement)(g.x,"0pt"),this.y=(0,x.getMeasurement)(g.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.margin=null,this.para=null,this.traversal=null,this.validate=null,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[t.$hasSettableValue](){return!0}[t.$setValue](g){for(const ie of this.field.children){if(!ie.value){const $e=new ft({});ie[t.$appendChild]($e),ie.value=$e}const Le=new y({});Le[t.$content]=0;for(const $e of ie.items.children)if($e[t.$hasItem](g)){Le[t.$content]=1;break}ie.value[t.$setValue](Le)}}[t.$flushHTML](){return(0,e.flushHTML)(this)}[t.$addHTML](g,ie){(0,e.addHTML)(this,g,ie)}[t.$getAvailableSpace](){return(0,e.getAvailableSpace)(this)}[t.$toHTML](g){if("hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return x.HTMLResult.EMPTY;(0,R.fixDimensions)(this);const ie=[],Le={id:this[t.$uid]};switch(this[t.$extra]||(this[t.$extra]=Object.create(null)),Object.assign(this[t.$extra],{children:ie,attributes:Le,attempt:0,availableSpace:g,width:0,height:0,prevHeight:0,currentWidth:0}),o(this,g)){case 0:return x.HTMLResult.EMPTY;case 1:return x.HTMLResult.FAILURE}g={width:""===this.w?g.width:this.w,height:""===this.h?g.height:this.h};const $e=new Set(["field"]);if("row"===this.layout){const it=this[t.$getParent]().columnWidths;Array.isArray(it)&&it.length>0&&(this[t.$extra].columnWidths=it,this[t.$extra].currentColumn=0)}const Ge=(0,R.toStyle)(this,"anchorType","dimensions","position","presence","borderMarginPadding","hAlign"),tt=["xfaExclgroup"],at=(0,R.layoutClass)(this);let Ye;if(at&&tt.push(at),Le.style=Ge,Le.class=tt.join(" "),this.name&&(Le.xfaName=this.name),"lr-tb"===this.layout||"rl-tb"===this.layout){for(;this[t.$extra].attempt<2&&!this[t.$childrenToHTML]({filter:$e,include:!0});this[t.$extra].attempt++);Ye=2===this[t.$extra].attempt}else Ye=!this[t.$childrenToHTML]({filter:$e,include:!0});if(Ye)return x.HTMLResult.FAILURE;let et=0,We=0;this.margin&&(et=this.margin.leftInset+this.margin.rightInset,We=this.margin.topInset+this.margin.bottomInset),""===this.w&&(Ge.width=(0,R.measureToString)(this[t.$extra].width+et)),""===this.h&&(Ge.height=(0,R.measureToString)(this[t.$extra].height+We));let rt,ct={name:"div",attributes:Le,children:ie};return ct=(0,R.addExtraDivForBorder)(ct),rt=""!==this.w&&""!==this.h?[this.x,this.y,this.w,this.h]:[this.x,this.y,""===this.w?et+this[t.$extra].width:this.w,""===this.h?We+this[t.$extra].height:this.h],delete this[t.$extra],x.HTMLResult.success(ct,rt)}}class de extends t.XFAObject{constructor(g){super(b,"execute"),this.connection=g.connection||"",this.executeType=(0,x.getStringOption)(g.executeType,["import","remerge"]),this.id=g.id||"",this.runAt=(0,x.getStringOption)(g.runAt,["client","both","server"]),this.use=g.use||"",this.usehref=g.usehref||""}}class Ae extends t.XFAObject{constructor(g){super(b,"extras",!0),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}}class Ne extends t.XFAObject{constructor(g){super(b,"field",!0),this.access=(0,x.getStringOption)(g.access,["open","nonInteractive","protected","readOnly"]),this.accessKey=g.accessKey||"",this.anchorType=(0,x.getStringOption)(g.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,x.getInteger)({data:g.colSpan,defaultValue:1,validate:ie=>ie>=1||-1===ie}),this.h=g.h?(0,x.getMeasurement)(g.h):"",this.hAlign=(0,x.getStringOption)(g.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=g.id||"",this.locale=g.locale||"",this.maxH=(0,x.getMeasurement)(g.maxH,"0pt"),this.maxW=(0,x.getMeasurement)(g.maxW,"0pt"),this.minH=(0,x.getMeasurement)(g.minH,"0pt"),this.minW=(0,x.getMeasurement)(g.minW,"0pt"),this.name=g.name||"",this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,x.getRelevant)(g.relevant),this.rotate=(0,x.getInteger)({data:g.rotate,defaultValue:0,validate:ie=>ie%90==0}),this.use=g.use||"",this.usehref=g.usehref||"",this.w=g.w?(0,x.getMeasurement)(g.w):"",this.x=(0,x.getMeasurement)(g.x,"0pt"),this.y=(0,x.getMeasurement)(g.y,"0pt"),this.assist=null,this.bind=null,this.border=null,this.calculate=null,this.caption=null,this.desc=null,this.extras=null,this.font=null,this.format=null,this.items=new t.XFAObjectArray(2),this.keep=null,this.margin=null,this.para=null,this.traversal=null,this.ui=null,this.validate=null,this.value=null,this.bindItems=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray}[t.$setValue](g){r(this,g)}[t.$toHTML](g){if(!this.ui||"hidden"===this.presence||"inactive"===this.presence||0===this.h||0===this.w)return x.HTMLResult.EMPTY;switch((0,R.fixDimensions)(this),o(this,g)){case 0:return x.HTMLResult.EMPTY;case 1:return x.HTMLResult.FAILURE}const ie=(0,R.toStyle)(this,"font","dimensions","position","rotate","anchorType","presence","borderMarginPadding","hAlign"),Le=["xfaField"];this.font&&Le.push("xfaFont");const $e={style:ie,id:this[t.$uid],class:Le.join(" ")};this.name&&($e.xfaName=this.name);const Ge=[];let tt={name:"div",attributes:$e,children:Ge};const at=(0,R.computeBbox)(this,tt,g);tt=(0,R.addExtraDivForBorder)(tt);const Ye=this.ui?this.ui[t.$toHTML]().html:null;if(!Ye)return x.HTMLResult.success(tt,at);if(Ye.attributes.style||(Ye.attributes.style=Object.create(null)),Ge.push(Ye),this.value)if(this.ui.imageEdit)Ye.children.push(this.value[t.$toHTML]().html);else if("button"!==Ye.name){const We=this.value[t.$toHTML]().html;We&&("textarea"===Ye.children[0].name?Ye.children[0].attributes.textContent=We.value:Ye.children[0].attributes.value=We.value)}const et=this.caption?this.caption[t.$toHTML]().html:null;if(!et)return x.HTMLResult.success(tt,at);if("button"===Ye.name)return Ye.attributes.style.background=ie.background,delete ie.background,"div"===et.name&&(et.name="span"),Ye.children.push(et),x.HTMLResult.success(tt,at);switch(Ye.children.splice(0,0,et),this.caption.placement){case"left":Ye.attributes.style.flexDirection="row";break;case"right":Ye.attributes.style.flexDirection="row-reverse";break;case"top":Ye.attributes.style.alignItems="start",Ye.attributes.style.flexDirection="column";break;case"bottom":Ye.attributes.style.alignItems="start",Ye.attributes.style.flexDirection="column-reverse";break;case"inline":delete Ye.attributes.class,et.attributes.style.float="left"}return x.HTMLResult.success(tt,at)}}I.Field=Ne;class Ee extends t.XFAObject{constructor(g){super(b,"fill",!0),this.id=g.id||"",this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.use=g.use||"",this.usehref=g.usehref||"",this.color=null,this.extras=null,this.linear=null,this.pattern=null,this.radial=null,this.solid=null,this.stipple=null}[t.$toStyle](){let g="color";this[t.$getParent]()instanceof i&&(g="background");const ie=Object.create(null);for(const Le of Object.getOwnPropertyNames(this)){if("extras"===Le||"color"===Le)continue;const $e=this[Le];if($e instanceof t.XFAObject)return ie[g]=$e[t.$toStyle](this.color),ie}return this.color&&(ie[g]=this.color[t.$toStyle]()),ie}}class Re extends t.XFAObject{constructor(g){super(b,"filter",!0),this.addRevocationInfo=(0,x.getStringOption)(g.addRevocationInfo,["","required","optional","none"]),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||"",this.version=(0,x.getInteger)({data:this.version,defaultValue:5,validate:ie=>ie>=1&&ie<=5}),this.appearanceFilter=null,this.certificates=null,this.digestMethods=null,this.encodings=null,this.encryptionMethods=null,this.handler=null,this.lockDocument=null,this.mdp=null,this.reasons=null,this.timeStamp=null}}class qe extends t.ContentObject{constructor(g){super(b,"float"),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}[t.$finalize](){const g=parseFloat(this[t.$content].trim());this[t.$content]=isNaN(g)?null:g}[t.$toHTML](g){return x.HTMLResult.success(null!==this[t.$content]?this[t.$content].toString():"")}}class Ue extends t.XFAObject{constructor(g){super(b,"font",!0),this.baselineShift=(0,x.getMeasurement)(g.baselineShift),this.fontHorizontalScale=(0,x.getFloat)({data:g.fontHorizontalScale,defaultValue:100,validate:ie=>ie>=0}),this.fontVerticalScale=(0,x.getFloat)({data:g.fontVerticalScale,defaultValue:100,validate:ie=>ie>=0}),this.id=g.id||"",this.kerningMode=(0,x.getStringOption)(g.kerningMode,["none","pair"]),this.letterSpacing=(0,x.getMeasurement)(g.letterSpacing,"0"),this.lineThrough=(0,x.getInteger)({data:g.lineThrough,defaultValue:0,validate:ie=>1===ie||2===ie}),this.lineThroughPeriod=(0,x.getStringOption)(g.lineThroughPeriod,["all","word"]),this.overline=(0,x.getInteger)({data:g.overline,defaultValue:0,validate:ie=>1===ie||2===ie}),this.overlinePeriod=(0,x.getStringOption)(g.overlinePeriod,["all","word"]),this.posture=(0,x.getStringOption)(g.posture,["normal","italic"]),this.size=(0,x.getMeasurement)(g.size,"10pt"),this.typeface=g.typeface||"",this.underline=(0,x.getInteger)({data:g.underline,defaultValue:0,validate:ie=>1===ie||2===ie}),this.underlinePeriod=(0,x.getStringOption)(g.underlinePeriod,["all","word"]),this.use=g.use||"",this.usehref=g.usehref||"",this.weight=(0,x.getStringOption)(g.weight,["normal","bold"]),this.extras=null,this.fill=null}[t.$toStyle](){const g=(0,R.toStyle)(this,"fill"),ie=g.color;ie&&("#000000"===ie?delete g.color:ie.startsWith("#")||(g.background=ie,g.backgroundClip="text",g.color="transparent")),this.baselineShift&&(g.verticalAlign=(0,R.measureToString)(this.baselineShift)),"none"!==this.kerningMode&&(g.fontKerning="normal"),this.letterSpacing&&(g.letterSpacing=(0,R.measureToString)(this.letterSpacing)),0!==this.lineThrough&&(g.textDecoration="line-through",2===this.lineThrough&&(g.textDecorationStyle="double")),0!==this.overline&&(g.textDecoration="overline",2===this.overline&&(g.textDecorationStyle="double")),"normal"!==this.posture&&(g.fontStyle=this.posture);const Le=(0,R.measureToString)(.99*this.size);return"10px"!==Le&&(g.fontSize=Le),g.fontFamily=(0,R.getFonts)(this.typeface),0!==this.underline&&(g.textDecoration="underline",2===this.underline&&(g.textDecorationStyle="double")),"normal"!==this.weight&&(g.fontWeight=this.weight),g}}class Se extends t.XFAObject{constructor(g){super(b,"format",!0),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.picture=null}}class Ce extends t.StringObject{constructor(g){super(b,"handler"),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||""}}class Oe extends t.XFAObject{constructor(g){super(b,"hyphenation"),this.excludeAllCaps=(0,x.getInteger)({data:g.excludeAllCaps,defaultValue:0,validate:ie=>1===ie}),this.excludeInitialCap=(0,x.getInteger)({data:g.excludeInitialCap,defaultValue:0,validate:ie=>1===ie}),this.hyphenate=(0,x.getInteger)({data:g.hyphenate,defaultValue:0,validate:ie=>1===ie}),this.id=g.id||"",this.pushCharacterCount=(0,x.getInteger)({data:g.pushCharacterCount,defaultValue:3,validate:ie=>ie>=0}),this.remainCharacterCount=(0,x.getInteger)({data:g.remainCharacterCount,defaultValue:3,validate:ie=>ie>=0}),this.use=g.use||"",this.usehref=g.usehref||"",this.wordCharacterCount=(0,x.getInteger)({data:g.wordCharacterCount,defaultValue:7,validate:ie=>ie>=0})}}class pe extends t.StringObject{constructor(g){super(b,"image"),this.aspect=(0,x.getStringOption)(g.aspect,["fit","actual","height","none","width"]),this.contentType=g.contentType||"",this.href=g.href||"",this.id=g.id||"",this.name=g.name||"",this.transferEncoding=(0,x.getStringOption)(g.transferEncoding,["base64","none","package"]),this.use=g.use||"",this.usehref=g.usehref||""}[t.$toHTML](){if(this.href||!this[t.$content])return x.HTMLResult.EMPTY;if("base64"===this.transferEncoding){const g=(0,L.stringToBytes)(atob(this[t.$content])),ie=new Blob([g],{type:this.contentType});return x.HTMLResult.success({name:"img",attributes:{class:"xfaImage",style:{},src:URL.createObjectURL(ie)}})}return x.HTMLResult.EMPTY}}class ve extends t.XFAObject{constructor(g){super(b,"imageEdit",!0),this.data=(0,x.getStringOption)(g.data,["link","embed"]),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.border=null,this.extras=null,this.margin=null}[t.$toHTML](g){return"embed"===this.data?x.HTMLResult.success({name:"div",children:[],attributes:{}}):x.HTMLResult.EMPTY}}class Ie extends t.ContentObject{constructor(g){super(b,"integer"),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}[t.$finalize](){const g=parseInt(this[t.$content].trim(),10);this[t.$content]=isNaN(g)?null:g}[t.$toHTML](g){return x.HTMLResult.success(null!==this[t.$content]?this[t.$content].toString():"")}}class Te extends t.XFAObject{constructor(g){super(b,"issuers",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||"",this.certificate=new t.XFAObjectArray}}class be extends t.XFAObject{constructor(g){super(b,"items",!0),this.id=g.id||"",this.name=g.name||"",this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.ref=g.ref||"",this.save=(0,x.getInteger)({data:g.save,defaultValue:0,validate:ie=>1===ie}),this.use=g.use||"",this.usehref=g.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[t.$hasItem](g){return this.hasOwnProperty(g[t.$nodeName])&&this[g[t.$nodeName]].children.some(ie=>ie[t.$content]===g[t.$content])}[t.$toHTML](){const g=[];for(const ie of this[t.$getChildren]())g.push(ie[t.$text]());return x.HTMLResult.success(g)}}I.Items=be;class ye extends t.XFAObject{constructor(g){super(b,"keep",!0),this.id=g.id||"";const ie=["none","contentArea","pageArea"];this.intact=(0,x.getStringOption)(g.intact,ie),this.next=(0,x.getStringOption)(g.next,ie),this.previous=(0,x.getStringOption)(g.previous,ie),this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null}}class fe extends t.XFAObject{constructor(g){super(b,"keyUsage");const ie=["","yes","no"];this.crlSign=(0,x.getStringOption)(g.crlSign,ie),this.dataEncipherment=(0,x.getStringOption)(g.dataEncipherment,ie),this.decipherOnly=(0,x.getStringOption)(g.decipherOnly,ie),this.digitalSignature=(0,x.getStringOption)(g.digitalSignature,ie),this.encipherOnly=(0,x.getStringOption)(g.encipherOnly,ie),this.id=g.id||"",this.keyAgreement=(0,x.getStringOption)(g.keyAgreement,ie),this.keyCertSign=(0,x.getStringOption)(g.keyCertSign,ie),this.keyEncipherment=(0,x.getStringOption)(g.keyEncipherment,ie),this.nonRepudiation=(0,x.getStringOption)(g.nonRepudiation,ie),this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||""}}class Pe extends t.XFAObject{constructor(g){super(b,"line",!0),this.hand=(0,x.getStringOption)(g.hand,["even","left","right"]),this.id=g.id||"",this.slope=(0,x.getStringOption)(g.slope,["\\","/"]),this.use=g.use||"",this.usehref=g.usehref||"",this.edge=null}}class ke extends t.XFAObject{constructor(g){super(b,"linear",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["toRight","toBottom","toLeft","toTop"]),this.use=g.use||"",this.usehref=g.usehref||"",this.color=null,this.extras=null}[t.$toStyle](g){return g=g?g[t.$toStyle]():"#FFFFFF",`linear-gradient(${this.type.replace(/([RBLT])/," $1").toLowerCase()}, ${g}, ${this.color?this.color[t.$toStyle]():"#000000"})`}}class He extends t.ContentObject{constructor(g){super(b,"lockDocument"),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||""}[t.$finalize](){this[t.$content]=(0,x.getStringOption)(this[t.$content],["auto","0","1"])}}class Xe extends t.XFAObject{constructor(g){super(b,"manifest",!0),this.action=(0,x.getStringOption)(g.action,["include","all","exclude"]),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.ref=new t.XFAObjectArray}}class ce extends t.XFAObject{constructor(g){super(b,"margin",!0),this.bottomInset=(0,x.getMeasurement)(g.bottomInset,"0"),this.id=g.id||"",this.leftInset=(0,x.getMeasurement)(g.leftInset,"0"),this.rightInset=(0,x.getMeasurement)(g.rightInset,"0"),this.topInset=(0,x.getMeasurement)(g.topInset,"0"),this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null}[t.$toStyle](){return{margin:(0,R.measureToString)(this.topInset)+" "+(0,R.measureToString)(this.rightInset)+" "+(0,R.measureToString)(this.bottomInset)+" "+(0,R.measureToString)(this.leftInset)}}}class ge extends t.XFAObject{constructor(g){super(b,"mdp"),this.id=g.id||"",this.permissions=(0,x.getInteger)({data:g.permissions,defaultValue:2,validate:ie=>1===ie||3===ie}),this.signatureType=(0,x.getStringOption)(g.signatureType,["filler","author"]),this.use=g.use||"",this.usehref=g.usehref||""}}class we extends t.XFAObject{constructor(g){super(b,"medium"),this.id=g.id||"",this.imagingBBox=(0,x.getBBox)(g.imagingBBox),this.long=(0,x.getMeasurement)(g.long),this.orientation=(0,x.getStringOption)(g.orientation,["portrait","landscape"]),this.short=(0,x.getMeasurement)(g.short),this.stock=g.stock||"",this.trayIn=(0,x.getStringOption)(g.trayIn,["auto","delegate","pageFront"]),this.trayOut=(0,x.getStringOption)(g.trayOut,["auto","delegate"]),this.use=g.use||"",this.usehref=g.usehref||""}}class _e extends t.XFAObject{constructor(g){super(b,"message",!0),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.text=new t.XFAObjectArray}}class Me extends t.XFAObject{constructor(g){super(b,"numericEdit",!0),this.hScrollPolicy=(0,x.getStringOption)(g.hScrollPolicy,["auto","off","on"]),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](g){const ie=(0,R.toStyle)(this,"border","font","margin"),Le={name:"input",attributes:{type:"text",fieldId:this[t.$getParent]()[t.$getParent]()[t.$uid],class:"xfaTextfield",style:ie}};return x.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[Le]})}}class ze extends t.XFAObject{constructor(g){super(b,"occur",!0),this.id=g.id||"",this.initial=(0,x.getInteger)({data:g.initial,defaultValue:1,validate:ie=>!0}),this.max=(0,x.getInteger)({data:g.max,defaultValue:1,validate:ie=>!0}),this.min=(0,x.getInteger)({data:g.min,defaultValue:1,validate:ie=>!0}),this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null}}class je extends t.StringObject{constructor(g){super(b,"oid"),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}}class Be extends t.XFAObject{constructor(g){super(b,"oids",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||"",this.oid=new t.XFAObjectArray}}class Ze extends t.XFAObject{constructor(g){super(b,"overflow"),this.id=g.id||"",this.leader=g.leader||"",this.target=g.target||"",this.trailer=g.trailer||"",this.use=g.use||"",this.usehref=g.usehref||""}}class Ve extends t.XFAObject{constructor(g){super(b,"pageArea",!0),this.blankOrNotBlank=(0,x.getStringOption)(g.blankOrNotBlank,["any","blank","notBlank"]),this.id=g.id||"",this.initialNumber=(0,x.getInteger)({data:g.initialNumber,defaultValue:1,validate:ie=>!0}),this.name=g.name||"",this.numbered=(0,x.getInteger)({data:g.numbered,defaultValue:1,validate:ie=>!0}),this.oddOrEven=(0,x.getStringOption)(g.oddOrEven,["any","even","odd"]),this.pagePosition=(0,x.getStringOption)(g.pagePosition,["any","first","last","only","rest"]),this.relevant=(0,x.getRelevant)(g.relevant),this.use=g.use||"",this.usehref=g.usehref||"",this.desc=null,this.extras=null,this.medium=null,this.occur=null,this.area=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.subform=new t.XFAObjectArray}[t.$getNextPage](){this[t.$extra]||(this[t.$extra]={numberOfUse:1});const g=this[t.$getParent]();return"orderedOccurrence"===g.relation&&this.occur&&(-1===this.occur.max||this[t.$extra].numberOfUse<this.occur.max)?(this[t.$extra].numberOfUse+=1,this):(delete this[t.$extra],g[t.$getNextPage]())}[t.$getAvailableSpace](){return{width:1/0,height:1/0}}[t.$toHTML](){this[t.$extra]||(this[t.$extra]={numberOfUse:1});const g=[];this[t.$extra].children=g;const ie=Object.create(null);if(this.medium&&this.medium.short&&this.medium.long){if(ie.width=(0,R.measureToString)(this.medium.short),ie.height=(0,R.measureToString)(this.medium.long),"landscape"===this.medium.orientation){const Le=ie.width;ie.width=ie.height,ie.height=Le}}else(0,L.warn)("XFA - No medium specified in pageArea: please file a bug.");return this[t.$childrenToHTML]({filter:new Set(["area","draw","field","subform","contentArea"]),include:!0}),x.HTMLResult.success({name:"div",children:g,attributes:{id:this[t.$uid],style:ie}})}}class Je extends t.XFAObject{constructor(g){super(b,"pageSet",!0),this.duplexImposition=(0,x.getStringOption)(g.duplexImposition,["longEdge","shortEdge"]),this.id=g.id||"",this.name=g.name||"",this.relation=(0,x.getStringOption)(g.relation,["orderedOccurrence","duplexPaginated","simplexPaginated"]),this.relevant=(0,x.getRelevant)(g.relevant),this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.occur=null,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray}[t.$getNextPage](){if(this[t.$extra]||(this[t.$extra]={numberOfUse:1,currentIndex:-1}),"orderedOccurrence"===this.relation){if(this[t.$extra].currentIndex+1<this.pageArea.children.length)return this[t.$extra].currentIndex+=1,this.pageArea.children[this[t.$extra].currentIndex];if(this[t.$extra].currentIndex+1<this.pageSet.children.length)return this[t.$extra].currentIndex+=1,this.pageSet.children[this[t.$extra].currentIndex];if(this.occur&&(-1===this.occur.max||this[t.$extra].numberOfUse<this.occur.max))return this[t.$extra].numberOfUse+=1,this[t.$extra].currentIndex=0,this.pageArea.children.length>0?this.pageArea.children[0]:this.pageSet.children[0][t.$getNextPage]();delete this[t.$extra];const Ge=this[t.$getParent]();return Ge instanceof Je?Ge[t.$getNextPage]():this[t.$getNextPage]()}const g=w(this)[t.$extra].pageNumber,ie=g%2==0?"even":"odd",Le=0===g?"first":"rest";let $e=this.pageArea.children.find(Ge=>Ge.oddOrEven===ie&&Ge.pagePosition===Le);return $e||($e=this.pageArea.children.find(Ge=>"any"===Ge.oddOrEven&&Ge.pagePosition===Le),$e)?$e:($e=this.pageArea.children.find(Ge=>"any"===Ge.oddOrEven&&"any"===Ge.pagePosition),$e||this.pageArea.children[0])}}class Qe extends t.XFAObject{constructor(g){super(b,"para",!0),this.hAlign=(0,x.getStringOption)(g.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=g.id||"",this.lineHeight=g.lineHeight?(0,x.getMeasurement)(g.lineHeight,"0pt"):"",this.marginLeft=g.marginLeft?(0,x.getMeasurement)(g.marginLeft,"0pt"):"",this.marginRight=g.marginRight?(0,x.getMeasurement)(g.marginRight,"0pt"):"",this.orphans=(0,x.getInteger)({data:g.orphans,defaultValue:0,validate:ie=>ie>=0}),this.preserve=g.preserve||"",this.radixOffset=g.radixOffset?(0,x.getMeasurement)(g.radixOffset,"0pt"):"",this.spaceAbove=g.spaceAbove?(0,x.getMeasurement)(g.spaceAbove,"0pt"):"",this.spaceBelow=g.spaceBelow?(0,x.getMeasurement)(g.spaceBelow,"0pt"):"",this.tabDefault=g.tabDefault?(0,x.getMeasurement)(this.tabDefault):"",this.tabStops=(g.tabStops||"").trim().split(/\s+/).map((ie,Le)=>Le%2==1?(0,x.getMeasurement)(ie):ie),this.textIndent=g.textIndent?(0,x.getMeasurement)(g.textIndent,"0pt"):"",this.use=g.use||"",this.usehref=g.usehref||"",this.vAlign=(0,x.getStringOption)(g.vAlign,["top","bottom","middle"]),this.widows=(0,x.getInteger)({data:g.widows,defaultValue:0,validate:ie=>ie>=0}),this.hyphenation=null}[t.$toStyle](){const g=(0,R.toStyle)(this,"hAlign");return""!==this.marginLeft&&(g.marginLeft=(0,R.measureToString)(this.marginLeft)),""!==this.marginRight&&(g.marginRight=(0,R.measureToString)(this.marginRight)),""!==this.spaceAbove&&(g.marginTop=(0,R.measureToString)(this.spaceAbove)),""!==this.spaceBelow&&(g.marginBottom=(0,R.measureToString)(this.spaceBelow)),""!==this.textIndent&&(g.textIndent=(0,R.measureToString)(this.textIndent),(0,R.fixTextIndent)(g)),this.lineHeight>0&&(g.lineHeight=(0,R.measureToString)(this.lineHeight)),""!==this.tabDefault&&(g.tabSize=(0,R.measureToString)(this.tabDefault)),this.hyphenatation&&Object.assign(g,this.hyphenatation[t.$toStyle]()),g}}class nt extends t.XFAObject{constructor(g){super(b,"passwordEdit",!0),this.hScrollPolicy=(0,x.getStringOption)(g.hScrollPolicy,["auto","off","on"]),this.id=g.id||"",this.passwordChar=g.passwordChar||"*",this.use=g.use||"",this.usehref=g.usehref||"",this.border=null,this.extras=null,this.margin=null}}class st extends t.XFAObject{constructor(g){super(b,"pattern",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["crossHatch","crossDiagonal","diagonalLeft","diagonalRight","horizontal","vertical"]),this.use=g.use||"",this.usehref=g.usehref||"",this.color=null,this.extras=null}[t.$toStyle](g){g=g?g[t.$toStyle]():"#FFFFFF";const ie=this.color?this.color[t.$toStyle]():"#000000",Le="repeating-linear-gradient",$e=`${g},${g} 5px,${ie} 5px,${ie} 10px`;switch(this.type){case"crossHatch":return`${Le}(to top,${$e}) ${Le}(to right,${$e})`;case"crossDiagonal":return`${Le}(45deg,${$e}) ${Le}(-45deg,${$e})`;case"diagonalLeft":return`${Le}(45deg,${$e})`;case"diagonalRight":return`${Le}(-45deg,${$e})`;case"horizontal":return`${Le}(to top,${$e})`;case"vertical":return`${Le}(to right,${$e})`}return""}}class pt extends t.StringObject{constructor(g){super(b,"picture"),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||""}}class kt extends t.XFAObject{constructor(g){super(b,"proto",!0),this.appearanceFilter=new t.XFAObjectArray,this.arc=new t.XFAObjectArray,this.area=new t.XFAObjectArray,this.assist=new t.XFAObjectArray,this.barcode=new t.XFAObjectArray,this.bindItems=new t.XFAObjectArray,this.bookend=new t.XFAObjectArray,this.boolean=new t.XFAObjectArray,this.border=new t.XFAObjectArray,this.break=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.button=new t.XFAObjectArray,this.calculate=new t.XFAObjectArray,this.caption=new t.XFAObjectArray,this.certificate=new t.XFAObjectArray,this.certificates=new t.XFAObjectArray,this.checkButton=new t.XFAObjectArray,this.choiceList=new t.XFAObjectArray,this.color=new t.XFAObjectArray,this.comb=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.contentArea=new t.XFAObjectArray,this.corner=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.dateTimeEdit=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.defaultUi=new t.XFAObjectArray,this.desc=new t.XFAObjectArray,this.digestMethod=new t.XFAObjectArray,this.digestMethods=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.edge=new t.XFAObjectArray,this.encoding=new t.XFAObjectArray,this.encodings=new t.XFAObjectArray,this.encrypt=new t.XFAObjectArray,this.encryptData=new t.XFAObjectArray,this.encryption=new t.XFAObjectArray,this.encryptionMethod=new t.XFAObjectArray,this.encryptionMethods=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.execute=new t.XFAObjectArray,this.extras=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.fill=new t.XFAObjectArray,this.filter=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.font=new t.XFAObjectArray,this.format=new t.XFAObjectArray,this.handler=new t.XFAObjectArray,this.hyphenation=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.imageEdit=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.issuers=new t.XFAObjectArray,this.items=new t.XFAObjectArray,this.keep=new t.XFAObjectArray,this.keyUsage=new t.XFAObjectArray,this.line=new t.XFAObjectArray,this.linear=new t.XFAObjectArray,this.lockDocument=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.margin=new t.XFAObjectArray,this.mdp=new t.XFAObjectArray,this.medium=new t.XFAObjectArray,this.message=new t.XFAObjectArray,this.numericEdit=new t.XFAObjectArray,this.occur=new t.XFAObjectArray,this.oid=new t.XFAObjectArray,this.oids=new t.XFAObjectArray,this.overflow=new t.XFAObjectArray,this.pageArea=new t.XFAObjectArray,this.pageSet=new t.XFAObjectArray,this.para=new t.XFAObjectArray,this.passwordEdit=new t.XFAObjectArray,this.pattern=new t.XFAObjectArray,this.picture=new t.XFAObjectArray,this.radial=new t.XFAObjectArray,this.reason=new t.XFAObjectArray,this.reasons=new t.XFAObjectArray,this.rectangle=new t.XFAObjectArray,this.ref=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.signData=new t.XFAObjectArray,this.signature=new t.XFAObjectArray,this.signing=new t.XFAObjectArray,this.solid=new t.XFAObjectArray,this.speak=new t.XFAObjectArray,this.stipple=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray,this.subjectDN=new t.XFAObjectArray,this.subjectDNs=new t.XFAObjectArray,this.submit=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.textEdit=new t.XFAObjectArray,this.time=new t.XFAObjectArray,this.timeStamp=new t.XFAObjectArray,this.toolTip=new t.XFAObjectArray,this.traversal=new t.XFAObjectArray,this.traverse=new t.XFAObjectArray,this.ui=new t.XFAObjectArray,this.validate=new t.XFAObjectArray,this.value=new t.XFAObjectArray,this.variables=new t.XFAObjectArray}}class Ct extends t.XFAObject{constructor(g){super(b,"radial",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["toEdge","toCenter"]),this.use=g.use||"",this.usehref=g.usehref||"",this.color=null,this.extras=null}[t.$toStyle](g){g=g?g[t.$toStyle]():"#FFFFFF";const ie=this.color?this.color[t.$toStyle]():"#000000";return`radial-gradient(circle to center, ${"toEdge"===this.type?`${g},${ie}`:`${ie},${g}`})`}}class vt extends t.StringObject{constructor(g){super(b,"reason"),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}}class Ft extends t.XFAObject{constructor(g){super(b,"reasons",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||"",this.reason=new t.XFAObjectArray}}class Ot extends t.XFAObject{constructor(g){super(b,"rectangle",!0),this.hand=(0,x.getStringOption)(g.hand,["even","left","right"]),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.corner=new t.XFAObjectArray(4),this.edge=new t.XFAObjectArray(4),this.fill=null}}class Tt extends t.StringObject{constructor(g){super(b,"ref"),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||""}}class Pt extends t.StringObject{constructor(g){super(b,"script"),this.binding=g.binding||"",this.contentType=g.contentType||"",this.id=g.id||"",this.name=g.name||"",this.runAt=(0,x.getStringOption)(g.runAt,["client","both","server"]),this.use=g.use||"",this.usehref=g.usehref||""}}class wt extends t.XFAObject{constructor(g){super(b,"setProperty"),this.connection=g.connection||"",this.ref=g.ref||"",this.target=g.target||""}}I.SetProperty=wt;class _t extends t.XFAObject{constructor(g){super(b,"signData",!0),this.id=g.id||"",this.operation=(0,x.getStringOption)(g.operation,["sign","clear","verify"]),this.ref=g.ref||"",this.target=g.target||"",this.use=g.use||"",this.usehref=g.usehref||"",this.filter=null,this.manifest=null}}class It extends t.XFAObject{constructor(g){super(b,"signature",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["PDF1.3","PDF1.6"]),this.use=g.use||"",this.usehref=g.usehref||"",this.border=null,this.extras=null,this.filter=null,this.manifest=null,this.margin=null}}class Et extends t.XFAObject{constructor(g){super(b,"signing",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||"",this.certificate=new t.XFAObjectArray}}class Mt extends t.XFAObject{constructor(g){super(b,"solid",!0),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null}[t.$toStyle](g){return g?g[t.$toStyle]():"#FFFFFF"}}class Rt extends t.StringObject{constructor(g){super(b,"speak"),this.disable=(0,x.getInteger)({data:g.disable,defaultValue:0,validate:ie=>1===ie}),this.id=g.id||"",this.priority=(0,x.getStringOption)(g.priority,["custom","caption","name","toolTip"]),this.rid=g.rid||"",this.use=g.use||"",this.usehref=g.usehref||""}}class Dt extends t.XFAObject{constructor(g){super(b,"stipple",!0),this.id=g.id||"",this.rate=(0,x.getInteger)({data:g.rate,defaultValue:50,validate:ie=>ie>=0&&ie<=100}),this.use=g.use||"",this.usehref=g.usehref||"",this.color=null,this.extras=null}[t.$toStyle](g){const ie=this.rate/100;return L.Util.makeHexColor(Math.round(g.value.r*(1-ie)+this.value.r*ie),Math.round(g.value.g*(1-ie)+this.value.g*ie),Math.round(g.value.b*(1-ie)+this.value.b*ie))}}class Nt extends t.XFAObject{constructor(g){super(b,"subform",!0),this.access=(0,x.getStringOption)(g.access,["open","nonInteractive","protected","readOnly"]),this.allowMacro=(0,x.getInteger)({data:g.allowMacro,defaultValue:0,validate:ie=>1===ie}),this.anchorType=(0,x.getStringOption)(g.anchorType,["topLeft","bottomCenter","bottomLeft","bottomRight","middleCenter","middleLeft","middleRight","topCenter","topRight"]),this.colSpan=(0,x.getInteger)({data:g.colSpan,defaultValue:1,validate:ie=>ie>=1||-1===ie}),this.columnWidths=(g.columnWidths||"").trim().split(/\s+/).map(ie=>"-1"===ie?-1:(0,x.getMeasurement)(ie)),this.h=g.h?(0,x.getMeasurement)(g.h):"",this.hAlign=(0,x.getStringOption)(g.hAlign,["left","center","justify","justifyAll","radix","right"]),this.id=g.id||"",this.layout=(0,x.getStringOption)(g.layout,["position","lr-tb","rl-row","rl-tb","row","table","tb"]),this.locale=g.locale||"",this.maxH=(0,x.getMeasurement)(g.maxH,"0pt"),this.maxW=(0,x.getMeasurement)(g.maxW,"0pt"),this.mergeMode=(0,x.getStringOption)(g.mergeMode,["consumeData","matchTemplate"]),this.minH=(0,x.getMeasurement)(g.minH,"0pt"),this.minW=(0,x.getMeasurement)(g.minW,"0pt"),this.name=g.name||"",this.presence=(0,x.getStringOption)(g.presence,["visible","hidden","inactive","invisible"]),this.relevant=(0,x.getRelevant)(g.relevant),this.restoreState=(0,x.getStringOption)(g.restoreState,["manual","auto"]),this.scope=(0,x.getStringOption)(g.scope,["name","none"]),this.use=g.use||"",this.usehref=g.usehref||"",this.w=g.w?(0,x.getMeasurement)(g.w):"",this.x=(0,x.getMeasurement)(g.x,"0pt"),this.y=(0,x.getMeasurement)(g.y,"0pt"),this.assist=null,this.bind=null,this.bookend=null,this.border=null,this.break=null,this.calculate=null,this.desc=null,this.extras=null,this.keep=null,this.margin=null,this.occur=null,this.overflow=null,this.pageSet=null,this.para=null,this.traversal=null,this.validate=null,this.variables=null,this.area=new t.XFAObjectArray,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.connect=new t.XFAObjectArray,this.draw=new t.XFAObjectArray,this.event=new t.XFAObjectArray,this.exObject=new t.XFAObjectArray,this.exclGroup=new t.XFAObjectArray,this.field=new t.XFAObjectArray,this.proto=new t.XFAObjectArray,this.setProperty=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[t.$flushHTML](){return(0,e.flushHTML)(this)}[t.$addHTML](g,ie){(0,e.addHTML)(this,g,ie)}[t.$getAvailableSpace](){return(0,e.getAvailableSpace)(this)}[t.$toHTML](g){if("helpText"===this.name)return x.HTMLResult.EMPTY;if(this[t.$extra]&&this[t.$extra].afterBreakAfter){const it=this[t.$extra].afterBreakAfter;return delete this[t.$extra],it}if("hidden"===this.presence||"inactive"===this.presence)return x.HTMLResult.EMPTY;(this.breakBefore.children.length>1||this.breakAfter.children.length>1)&&(0,L.warn)("XFA - Several breakBefore or breakAfter in subforms: please file a bug."),(0,R.fixDimensions)(this);const ie=[],Le={id:this[t.$uid]};if(this[t.$extra]||(this[t.$extra]=Object.create(null)),Object.assign(this[t.$extra],{children:ie,attributes:Le,attempt:0,availableSpace:g,width:0,height:0,prevHeight:0,currentWidth:0}),this.breakBefore.children.length>=1){const it=this.breakBefore.children[0];if(!it[t.$extra])return it[t.$extra]=!0,w(this)[t.$break](it),x.HTMLResult.FAILURE}switch(o(this,g)){case 0:return x.HTMLResult.EMPTY;case 1:return x.HTMLResult.FAILURE}const $e=new Set(["area","draw","exclGroup","field","subform","subformSet"]);if(this.layout.includes("row")){const it=this[t.$getParent]().columnWidths;Array.isArray(it)&&it.length>0&&(this[t.$extra].columnWidths=it,this[t.$extra].currentColumn=0)}const Ge=(0,R.toStyle)(this,"anchorType","dimensions","position","presence","borderMarginPadding","hAlign"),tt=["xfaSubform"],at=(0,R.layoutClass)(this);let Ye;if(at&&tt.push(at),Le.style=Ge,Le.class=tt.join(" "),this.name&&(Le.xfaName=this.name),"lr-tb"===this.layout||"rl-tb"===this.layout){for(;this[t.$extra].attempt<2&&!this[t.$childrenToHTML]({filter:$e,include:!0});this[t.$extra].attempt++);Ye=2===this[t.$extra].attempt}else Ye=!this[t.$childrenToHTML]({filter:$e,include:!0});if(Ye)return x.HTMLResult.FAILURE;let et=0,We=0;this.margin&&(et=this.margin.leftInset+this.margin.rightInset,We=this.margin.topInset+this.margin.bottomInset),""===this.w&&(Ge.width=(0,R.measureToString)(this[t.$extra].width+et)),""===this.h&&(Ge.height=(0,R.measureToString)(this[t.$extra].height+We));let rt,ct={name:"div",attributes:Le,children:ie};if(ct=(0,R.addExtraDivForBorder)(ct),rt=""!==this.w&&""!==this.h?[this.x,this.y,this.w,this.h]:[this.x,this.y,""===this.w?et+this[t.$extra].width:this.w,""===this.h?We+this[t.$extra].height:this.h],this.breakAfter.children.length>=1){const it=this.breakAfter.children[0];return w(this)[t.$break](it),this[t.$extra].afterBreakAfter=x.HTMLResult.success(ct,rt),x.HTMLResult.FAILURE}return delete this[t.$extra],x.HTMLResult.success(ct,rt)}}class Lt extends t.XFAObject{constructor(g){super(b,"subformSet",!0),this.id=g.id||"",this.name=g.name||"",this.relation=(0,x.getStringOption)(g.relation,["ordered","choice","unordered"]),this.relevant=(0,x.getRelevant)(g.relevant),this.use=g.use||"",this.usehref=g.usehref||"",this.bookend=null,this.break=null,this.desc=null,this.extras=null,this.occur=null,this.overflow=null,this.breakAfter=new t.XFAObjectArray,this.breakBefore=new t.XFAObjectArray,this.subform=new t.XFAObjectArray,this.subformSet=new t.XFAObjectArray}[t.$toHTML](){const g=[];return this[t.$extra]||(this[t.$extra]=Object.create(null)),this[t.$extra].children=g,this[t.$childrenToHTML]({filter:new Set(["subform","subformSet"]),include:!0}),x.HTMLResult.success({name:"div",children:g,attributes:{id:this[t.$uid]}})}}class Bt extends t.ContentObject{constructor(g){super(b,"subjectDN"),this.delimiter=g.delimiter||",",this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}[t.$finalize](){this[t.$content]=new Map(this[t.$content].split(this.delimiter).map(g=>((g=g.split("=",2))[0]=g[0].trim(),g)))}}class jt extends t.XFAObject{constructor(g){super(b,"subjectDNs",!0),this.id=g.id||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||"",this.subjectDN=new t.XFAObjectArray}}class Ut extends t.XFAObject{constructor(g){super(b,"submit",!0),this.embedPDF=(0,x.getInteger)({data:g.embedPDF,defaultValue:0,validate:ie=>1===ie}),this.format=(0,x.getStringOption)(g.format,["xdp","formdata","pdf","urlencoded","xfd","xml"]),this.id=g.id||"",this.target=g.target||"",this.textEncoding=(0,x.getKeyword)({data:g.textEncoding?g.textEncoding.toLowerCase():"",defaultValue:"",validate:ie=>["utf-8","big-five","fontspecific","gbk","gb-18030","gb-2312","ksc-5601","none","shift-jis","ucs-2","utf-16"].includes(ie)||ie.match(/iso-8859-[0-9]{2}/)}),this.use=g.use||"",this.usehref=g.usehref||"",this.xdpContent=g.xdpContent||"",this.encrypt=null,this.encryptData=new t.XFAObjectArray,this.signData=new t.XFAObjectArray}}class mt extends t.XFAObject{constructor(g){super(b,"template",!0),this.baseProfile=(0,x.getStringOption)(g.baseProfile,["full","interactiveForms"]),this.extras=null,this.subform=new t.XFAObjectArray}[t.$finalize](){0===this.subform.children.length&&(0,L.warn)("XFA - No subforms in template node."),this.subform.children.length>=2&&(0,L.warn)("XFA - Several subforms in template node: please file a bug.")}[t.$break](g){this[t.$extra].breakingNode=g}[t.$searchNode](g,ie){return g.startsWith("#")?[this[t.$ids].get(g.slice(1))]:(0,P.searchNode)(this,ie,g,!0,!0)}[t.$toHTML](){if(!this.subform.children.length)return x.HTMLResult.success({name:"div",children:[]});this[t.$extra]={breakingNode:null,pageNumber:1,pagePosition:"first",oddOrEven:"odd",blankOrNotBlank:"nonBlank"};const g=this.subform.children[0],ie=g.pageSet.pageArea.children,Le={name:"div",children:[]};let $e=null,Ge=null,tt=null;if(g.breakBefore.children.length>=1?(Ge=g.breakBefore.children[0],tt=Ge.target):g.subform.children.length>=1&&g.subform.children[0].breakBefore.children.length>=1?(Ge=g.subform.children[0].breakBefore.children[0],tt=Ge.target):g.break&&g.break.beforeTarget?(Ge=g.break,tt=Ge.beforeTarget):g.subform.children.length>=1&&g.subform.children[0].break&&g.subform.children[0].break.beforeTarget&&(Ge=g.subform.children[0].break,tt=Ge.beforeTarget),Ge){const rt=this[t.$searchNode](tt,Ge[t.$getParent]());rt instanceof Ve&&($e=rt,Ge[t.$extra]={})}$e||($e=ie[0]);const at=$e[t.$getParent]();at[t.$extra]={numberOfUse:1,currentIndex:at.pageArea.children.indexOf($e)};let Ye,et=null,We=null;for(;;){Ye=null;const rt=$e[t.$toHTML]().html;Le.children.push(rt),et&&(rt.children.push(et[t.$toHTML](rt[t.$extra].space).html),et=null),We&&(rt.children.push(We[t.$toHTML](rt[t.$extra].space).html),We=null);const ct=$e.contentArea.children,it=rt.children.filter(ot=>"xfaContentarea"===ot.attributes.class);for(let ot=0,Yt=ct.length;ot<Yt;ot++){const xt=this[t.$extra].currentContentArea=ct[ot],bt={width:xt.w,height:xt.h};et&&(it[ot].children.push(et[t.$toHTML](bt).html),et=null),We&&(it[ot].children.push(We[t.$toHTML](bt).html),We=null);let lt=g[t.$toHTML](bt);if(lt.success)return lt.html&&it[ot].children.push(lt.html),Le;let ht=!1;if(this[t.$extra].breakingNode){const xe=this[t.$extra].breakingNode;if(this[t.$extra].breakingNode=null,"auto"===xe.targetType){ot--;continue}const Z=1===xe.startNew;xe.leader&&(et=this[t.$searchNode](xe.leader,xe[t.$getParent]()),et=et?et[0]:null),xe.trailer&&(We=this[t.$searchNode](xe.trailer,xe[t.$getParent]()),We=We?We[0]:null);let Ke=null;if(xe.target&&(Ke=this[t.$searchNode](xe.target,xe[t.$getParent]()),Ke=Ke&&Ke[0]),"pageArea"===xe.targetType)if(Z)ht=!0;else{if(!(Ke!==$e&&Ke instanceof Ve)){ot--;continue}Ye=Ke,ht=!0}else if("contentArea"===Ke||!(Ke instanceof D)){ot--;continue}}if(lt=g[t.$flushHTML](),lt&&it[ot].children.push(lt),ht)break}this[t.$extra].pageNumber+=1,$e=Ye||$e[t.$getNextPage]()}}}I.Template=mt;class St extends t.ContentObject{constructor(g){super(b,"text"),this.id=g.id||"",this.maxChars=(0,x.getInteger)({data:g.maxChars,defaultValue:0,validate:ie=>ie>=0}),this.name=g.name||"",this.rid=g.rid||"",this.use=g.use||"",this.usehref=g.usehref||""}[t.$onChild](g){return g[t.$namespaceId]===F.NamespaceIds.xhtml.id?(this[t.$content]=g,!0):((0,L.warn)(`XFA - Invalid content in Text: ${g[t.$nodeName]}.`),!1)}[t.$toHTML](g){if("string"==typeof this[t.$content]){const ie={name:"span",attributes:{class:"xfaRich",style:{}},value:this[t.$content]};return this[t.$content].includes("\u2029")?(ie.name="div",ie.children=[],this[t.$content].split("\u2029").map(Le=>Le.split(/[\u2028\n]/).reduce(($e,Ge)=>($e.push({name:"span",value:Ge},{name:"br"}),$e),[])).forEach(Le=>{ie.children.push({name:"p",children:Le})})):/[\u2028\n]/.test(this[t.$content])&&(ie.name="div",ie.children=[],this[t.$content].split(/[\u2028\n]/).forEach(Le=>{ie.children.push({name:"span",value:Le},{name:"br"})})),x.HTMLResult.success(ie)}return this[t.$content][t.$toHTML](g)}}I.Text=St;class $t extends t.XFAObject{constructor(g){super(b,"textEdit",!0),this.allowRichText=(0,x.getInteger)({data:g.allowRichText,defaultValue:0,validate:ie=>1===ie}),this.hScrollPolicy=(0,x.getStringOption)(g.hScrollPolicy,["auto","off","on"]),this.id=g.id||"",this.multiLine=(0,x.getInteger)({data:g.multiLine,defaultValue:1,validate:ie=>0===ie}),this.use=g.use||"",this.usehref=g.usehref||"",this.vScrollPolicy=(0,x.getStringOption)(g.vScrollPolicy,["auto","off","on"]),this.border=null,this.comb=null,this.extras=null,this.margin=null}[t.$toHTML](g){const ie=(0,R.toStyle)(this,"border","font","margin");let Le;return Le=1===this.multiLine?{name:"textarea",attributes:{fieldId:this[t.$getParent]()[t.$getParent]()[t.$uid],class:"xfaTextfield",style:ie}}:{name:"input",attributes:{type:"text",fieldId:this[t.$getParent]()[t.$getParent]()[t.$uid],class:"xfaTextfield",style:ie}},x.HTMLResult.success({name:"label",attributes:{class:"xfaLabel"},children:[Le]})}}class qt extends t.StringObject{constructor(g){super(b,"time"),this.id=g.id||"",this.name=g.name||"",this.use=g.use||"",this.usehref=g.usehref||""}[t.$finalize](){this[t.$content]=new Date(this[t.$content])}[t.$toHTML](g){return x.HTMLResult.success(this[t.$content].toString())}}class Xt extends t.XFAObject{constructor(g){super(b,"timeStamp"),this.id=g.id||"",this.server=g.server||"",this.type=(0,x.getStringOption)(g.type,["optional","required"]),this.use=g.use||"",this.usehref=g.usehref||""}}class Ht extends t.StringObject{constructor(g){super(b,"toolTip"),this.id=g.id||"",this.rid=g.rid||"",this.use=g.use||"",this.usehref=g.usehref||""}}class zt extends t.XFAObject{constructor(g){super(b,"traversal",!0),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.traverse=new t.XFAObjectArray}}class Gt extends t.XFAObject{constructor(g){super(b,"traverse",!0),this.id=g.id||"",this.operation=(0,x.getStringOption)(g.operation,["next","back","down","first","left","right","up"]),this.ref=g.ref||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.script=null}get name(){return this.operation}[t.$isTransparent](){return!1}}class At extends t.XFAObject{constructor(g){super(b,"ui",!0),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.picture=null,this.barcode=null,this.button=null,this.checkButton=null,this.choiceList=null,this.dateTimeEdit=null,this.defaultUi=null,this.imageEdit=null,this.numericEdit=null,this.passwordEdit=null,this.signature=null,this.textEdit=null}[t.$toHTML](g){for(const ie of Object.getOwnPropertyNames(this)){if("extras"===ie||"picture"===ie)continue;const Le=this[ie];if(Le instanceof t.XFAObject)return Le[t.$toHTML](g)}return x.HTMLResult.EMPTY}}class Wt extends t.XFAObject{constructor(g){super(b,"validate",!0),this.formatTest=(0,x.getStringOption)(g.formatTest,["warning","disabled","error"]),this.id=g.id||"",this.nullTest=(0,x.getStringOption)(g.nullTest,["disabled","error","warning"]),this.scriptTest=(0,x.getStringOption)(g.scriptTest,["error","disabled","warning"]),this.use=g.use||"",this.usehref=g.usehref||"",this.extras=null,this.message=null,this.picture=null,this.script=null}}class ft extends t.XFAObject{constructor(g){super(b,"value",!0),this.id=g.id||"",this.override=(0,x.getInteger)({data:g.override,defaultValue:0,validate:ie=>1===ie}),this.relevant=(0,x.getRelevant)(g.relevant),this.use=g.use||"",this.usehref=g.usehref||"",this.arc=null,this.boolean=null,this.date=null,this.dateTime=null,this.decimal=null,this.exData=null,this.float=null,this.image=null,this.integer=null,this.line=null,this.rectangle=null,this.text=null,this.time=null}[t.$setValue](g){const ie=this[t.$getParent]();if(ie instanceof Ne&&ie.ui&&ie.ui.imageEdit)return this.image||(this.image=new pe({})),void(this.image[t.$content]=g[t.$content]);const Le=g[t.$nodeName];if(null===this[Le]){for(const $e of Object.getOwnPropertyNames(this)){const Ge=this[$e];Ge instanceof t.XFAObject&&(this[$e]=null,this[t.$removeChild](Ge))}this[g[t.$nodeName]]=g,this[t.$appendChild](g)}else this[Le][t.$content]=g[t.$content]}[t.$text](){if(this.exData)return this.exData[t.$content][t.$text]().trim();for(const g of Object.getOwnPropertyNames(this)){if("image"===g)continue;const ie=this[g];if(ie instanceof t.XFAObject)return(ie[t.$content]||"").toString().trim()}return null}[t.$toHTML](g){for(const ie of Object.getOwnPropertyNames(this)){const Le=this[ie];if(Le instanceof t.XFAObject)return Le[t.$toHTML](g)}return x.HTMLResult.EMPTY}}I.Value=ft;class Vt extends t.XFAObject{constructor(g){super(b,"variables",!0),this.id=g.id||"",this.use=g.use||"",this.usehref=g.usehref||"",this.boolean=new t.XFAObjectArray,this.date=new t.XFAObjectArray,this.dateTime=new t.XFAObjectArray,this.decimal=new t.XFAObjectArray,this.exData=new t.XFAObjectArray,this.float=new t.XFAObjectArray,this.image=new t.XFAObjectArray,this.integer=new t.XFAObjectArray,this.manifest=new t.XFAObjectArray,this.script=new t.XFAObjectArray,this.text=new t.XFAObjectArray,this.time=new t.XFAObjectArray}[t.$isTransparent](){return!0}}class gt{static[F.$buildXFAObject](g,ie){if(gt.hasOwnProperty(g)){const Le=gt[g](ie);return Le[t.$setSetAttributes](ie),Le}}static appearanceFilter(g){return new h(g)}static arc(g){return new n(g)}static area(g){return new a(g)}static assist(g){return new p(g)}static barcode(g){return new v(g)}static bind(g){return new m(g)}static bindItems(g){return new c(g)}static bookend(g){return new f(g)}static boolean(g){return new y(g)}static border(g){return new i(g)}static break(g){return new d(g)}static breakAfter(g){return new S(g)}static breakBefore(g){return new s(g)}static button(g){return new l(g)}static calculate(g){return new A(g)}static caption(g){return new k(g)}static certificate(g){return new u(g)}static certificates(g){return new M(g)}static checkButton(g){return new O(g)}static choiceList(g){return new C(g)}static color(g){return new N(g)}static comb(g){return new X(g)}static connect(g){return new H(g)}static contentArea(g){return new D(g)}static corner(g){return new j(g)}static date(g){return new _(g)}static dateTime(g){return new T(g)}static dateTimeEdit(g){return new U(g)}static decimal(g){return new q(g)}static defaultUi(g){return new E(g)}static desc(g){return new $(g)}static digestMethod(g){return new B(g)}static digestMethods(g){return new W(g)}static draw(g){return new V(g)}static edge(g){return new J(g)}static encoding(g){return new Y(g)}static encodings(g){return new z(g)}static encrypt(g){return new Q(g)}static encryptData(g){return new re(g)}static encryption(g){return new te(g)}static encryptionMethod(g){return new ae(g)}static encryptionMethods(g){return new se(g)}static event(g){return new le(g)}static exData(g){return new ue(g)}static exObject(g){return new oe(g)}static exclGroup(g){return new me(g)}static execute(g){return new de(g)}static extras(g){return new Ae(g)}static field(g){return new Ne(g)}static fill(g){return new Ee(g)}static filter(g){return new Re(g)}static float(g){return new qe(g)}static font(g){return new Ue(g)}static format(g){return new Se(g)}static handler(g){return new Ce(g)}static hyphenation(g){return new Oe(g)}static image(g){return new pe(g)}static imageEdit(g){return new ve(g)}static integer(g){return new Ie(g)}static issuers(g){return new Te(g)}static items(g){return new be(g)}static keep(g){return new ye(g)}static keyUsage(g){return new fe(g)}static line(g){return new Pe(g)}static linear(g){return new ke(g)}static lockDocument(g){return new He(g)}static manifest(g){return new Xe(g)}static margin(g){return new ce(g)}static mdp(g){return new ge(g)}static medium(g){return new we(g)}static message(g){return new _e(g)}static numericEdit(g){return new Me(g)}static occur(g){return new ze(g)}static oid(g){return new je(g)}static oids(g){return new Be(g)}static overflow(g){return new Ze(g)}static pageArea(g){return new Ve(g)}static pageSet(g){return new Je(g)}static para(g){return new Qe(g)}static passwordEdit(g){return new nt(g)}static pattern(g){return new st(g)}static picture(g){return new pt(g)}static proto(g){return new kt(g)}static radial(g){return new Ct(g)}static reason(g){return new vt(g)}static reasons(g){return new Ft(g)}static rectangle(g){return new Ot(g)}static ref(g){return new Tt(g)}static script(g){return new Pt(g)}static setProperty(g){return new wt(g)}static signData(g){return new _t(g)}static signature(g){return new It(g)}static signing(g){return new Et(g)}static solid(g){return new Mt(g)}static speak(g){return new Rt(g)}static stipple(g){return new Dt(g)}static subform(g){return new Nt(g)}static subformSet(g){return new Lt(g)}static subjectDN(g){return new Bt(g)}static subjectDNs(g){return new jt(g)}static submit(g){return new Ut(g)}static template(g){return new mt(g)}static text(g){return new St(g)}static textEdit(g){return new $t(g)}static time(g){return new qt(g)}static timeStamp(g){return new Xt(g)}static toolTip(g){return new Ht(g)}static traversal(g){return new zt(g)}static traverse(g){return new Gt(g)}static ui(g){return new At(g)}static validate(g){return new Wt(g)}static value(g){return new ft(g)}static variables(g){return new Vt(g)}}I.TemplateNamespace=gt},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.addExtraDivForBorder=function(r){const w=r.attributes.style,o=w.borderData,h=[],n={class:"xfaWrapper",style:Object.create(null)};for(const a of["top","left"])void 0!==w[a]&&(n.style[a]=w[a]);if(delete w.top,delete w.left,n.style.position="absolute"===w.position?"absolute":"relative",delete w.position,w.justifyContent&&(n.style.justifyContent=w.justifyContent,delete w.justifyContent),o){let a;delete w.borderData,o.margin?(a=o.margin.split(" "),delete o.margin):a=["0px","0px","0px","0px"];let p="100%",v=p;"0px"===a[1]&&"0px"===a[3]||(p=`calc(100% - ${parseInt(a[1])+parseInt(a[3])}px`),"0px"===a[0]&&"0px"===a[2]||(v=`calc(100% - ${parseInt(a[0])+parseInt(a[2])}px`);const m={top:a[0],left:a[3],width:p,height:v};for(const[f,y]of Object.entries(o))m[f]=y;w.transform&&(m.transform=w.transform),h.push({name:"div",attributes:{class:"xfaBorderDiv",style:m}})}return h.push(r),{name:"div",attributes:n,children:h}},I.computeBbox=function(r,w,o){let h;if(""!==r.w&&""!==r.h)h=[r.x,r.y,r.w,r.h];else{if(!o)return null;let n=r.w;if(""===n){if(0===r.maxW){const p=r[t.$getParent]();n="position"===p.layout&&""!==p.w?0:r.minW}else n=Math.min(r.maxW,o.width);w.attributes.style.width=L(n)}let a=r.h;if(""===a){if(0===r.maxH){const p=r[t.$getParent]();a="position"===p.layout&&""!==p.h?0:r.minH}else a=Math.min(r.maxH,o.height);w.attributes.style.height=L(a)}h=[r.x,r.y,n,a]}return h},I.fixDimensions=function(r){const w=r[t.$getParent]();if(w.layout&&w.layout.includes("row")){const o=w[t.$extra],h=r.colSpan;let n;n=-1===h?o.columnWidths.slice(o.currentColumn).reduce((a,p)=>a+p,0):o.columnWidths.slice(o.currentColumn,o.currentColumn+h).reduce((a,p)=>a+p,0),isNaN(n)||(r.w=n)}w.w&&r.w&&(r.w=Math.min(w.w,r.w)),w.h&&r.h&&(r.h=Math.min(w.h,r.h)),w.layout&&"position"!==w.layout&&(r.x=r.y=0,"tb"===w.layout&&""!==w.w&&(""===r.w||0===r.w||r.w>w.w)&&(r.w=w.w)),"position"===r.layout?(r.minW=r.minH=0,r.maxW=r.maxH=1/0):"table"===r.layout&&""===r.w&&Array.isArray(r.columnWidths)&&(r.w=r.columnWidths.reduce((o,h)=>o+h,0))},I.fixTextIndent=function(r){const w=(0,F.getMeasurement)(r.textIndent,"0px");if(w>=0)return;const o=r.textAlign||"left";if("left"===o||"right"===o){const h="margin"+("left"===o?"Left":"Right"),n=(0,F.getMeasurement)(r[h],"0px");r[h]=n-w+"pt"}},I.getFonts=function(r){r.startsWith("'")?r=`"${r.slice(1,r.length-1)}"`:r.includes(" ")&&!r.startsWith('"')&&(r=`"${r}"`);const w=[r];switch(r){case'"Myriad Pro"':w.push('"Roboto Condensed"','"Ubuntu Condensed"','"Microsoft Sans Serif"','"Apple Symbols"',"Helvetica",'"sans serif"');break;case"Arial":w.push("Helvetica",'"Liberation Sans"',"Arimo",'"sans serif"')}return w.join(",")},I.layoutClass=function(r){switch(r.layout){case"position":default:return"xfaPosition";case"lr-tb":return"xfaLrTb";case"rl-row":return"xfaRlRow";case"rl-tb":return"xfaRlTb";case"row":return"xfaRow";case"table":return"xfaTable";case"tb":return"xfaTb"}},I.layoutText=function(r,w,o){let h=0,n=0,a=0;const p=1.5*w,v=.4*w,m=Math.floor(o.width/v),c=r.match(e);let f=0,y=0,i=c[0];for(;i;){const d=i.length*v;if(h+d<=o.width)h+=d,f+=i.length,i=c[y++];else if(!x.test(i)||i.length>m){const S=Math.floor((o.width-h)/v);if(i=i.slice(S),f+=S,n+p>o.height)return{width:0,height:0,splitPos:f};a=Math.max(h,a),h=0,n+=p}else{if(n+p>o.height)return{width:0,height:0,splitPos:f};a=Math.max(h,a),h=d,n+=p,i=c[y++]}}return 0===a&&(a=h),0!==a&&(n+=p),{width:a,height:n,splitPos:-1}},I.measureToString=L,I.toStyle=function(r,...w){const o=Object.create(null);for(const h of w){const n=r[h];if(null!==n)if(n instanceof t.XFAObject){const a=n[t.$toStyle]();a?Object.assign(o,a):(0,R.warn)(`(DEBUG) - XFA - style for ${h} not implemented yet`)}else P.hasOwnProperty(h)&&P[h](r,o)}return o};var t=G(68),F=G(69),R=G(2);const e=new RegExp("([\\p{N}\\p{L}\\p{M}]+)|([^\\p{N}\\p{L}\\p{M}]+)","gu"),x=new RegExp("^[\\p{N}\\p{L}\\p{M}]","u");function L(b){return"string"==typeof b?"0px":Number.isInteger(b)?`${b}px`:`${b.toFixed(2)}px`}const P={anchorType(b,r){const w=b[t.$getParent]();if(w&&(!w.layout||"position"===w.layout))switch("transform"in r||(r.transform=""),b.anchorType){case"bottomCenter":r.transform+="translate(-50%, -100%)";break;case"bottomLeft":r.transform+="translate(0,-100%)";break;case"bottomRight":r.transform+="translate(-100%,-100%)";break;case"middleCenter":r.transform+="translate(-50%,-50%)";break;case"middleLeft":r.transform+="translate(0,-50%)";break;case"middleRight":r.transform+="translate(-100%,-50%)";break;case"topCenter":r.transform+="translate(-50%,0)";break;case"topRight":r.transform+="translate(-100%,0)"}},dimensions(b,r){const w=b[t.$getParent]();let o=b.w;const h=b.h;if(w.layout&&w.layout.includes("row")){const n=w[t.$extra],a=b.colSpan;let p;-1===a?(p=n.columnWidths.slice(n.currentColumn).reduce((v,m)=>v+m,0),n.currentColumn=0):(p=n.columnWidths.slice(n.currentColumn,n.currentColumn+a).reduce((v,m)=>v+m,0),n.currentColumn=(n.currentColumn+b.colSpan)%n.columnWidths.length),isNaN(p)||(o=b.w=p)}""!==o?r.width=L(o):(r.width="auto",b.maxW>0&&(r.maxWidth=L(b.maxW)),"position"===w.layout&&(r.minWidth=L(b.minW))),""!==h?r.height=L(h):(r.height="auto",b.maxH>0&&(r.maxHeight=L(b.maxH)),"position"===w.layout&&(r.minHeight=L(b.minH)))},position(b,r){const w=b[t.$getParent]();(!w||!w.layout||"position"===w.layout)&&(r.position="absolute",r.left=L(b.x),r.top=L(b.y))},rotate(b,r){b.rotate&&("transform"in r||(r.transform=""),r.transform+=`rotate(-${b.rotate}deg)`,r.transformOrigin="top left")},presence(b,r){switch(b.presence){case"invisible":r.visibility="hidden";break;case"hidden":case"inactive":r.display="none"}},hAlign(b,r){if("para"===b[t.$nodeName])switch(b.hAlign){case"justifyAll":r.textAlign="justify-all";break;case"radix":r.textAlign="left";break;default:r.textAlign=b.hAlign}else switch(b.hAlign){case"right":case"center":r.justifyContent=b.hAlign}},borderMarginPadding(b,r){const w=[0,0,0,0],h=b.margin?[b.margin.topInset,b.margin.rightInset,b.margin.bottomInset,b.margin.leftInset]:[0,0,0,0];let n;if(b.border&&(Object.assign(r,b.border[t.$toStyle](w,[0,0,0,0])),n=r.margin,delete r.margin),w.every(a=>0===a)){if(h.every(a=>0===a))return;Object.assign(r,b.margin[t.$toStyle]()),r.padding=r.margin,delete r.margin,delete r.outline,delete r.outlineOffset}else b.margin&&(Object.assign(r,b.margin[t.$toStyle]()),r.padding=r.margin,delete r.margin),r.borderWidth&&(r.borderData={borderWidth:r.borderWidth,borderColor:r.borderColor,borderStyle:r.borderStyle,margin:n},delete r.borderWidth,delete r.borderColor,delete r.borderStyle)}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.addHTML=function(e,x,L){const P=e[t.$extra],b=P.availableSpace;switch(e.layout){case"position":{const[r,w,o,h]=L;P.width=Math.max(P.width,r+o),P.height=Math.max(P.height,w+h),P.children.push(x);break}case"lr-tb":case"rl-tb":if((!P.line||1===P.attempt)&&(P.line={name:"div",attributes:{class:"lr-tb"===e.layout?"xfaLr":"xfaRl"},children:[]},P.children.push(P.line)),P.line.children.push(x),0===P.attempt){const[,,r,w]=L;P.currentWidth+=r,P.height=Math.max(P.height,P.prevHeight+w)}else{const[,,r,w]=L;P.width=Math.max(P.width,P.currentWidth),P.currentWidth=r,P.prevHeight=P.height,P.height+=w,P.attempt=0}break;case"rl-row":case"row":{P.children.push(x);const[,,r,w]=L;P.width+=r,P.height=Math.max(P.height,w);const o=(0,F.measureToString)(P.height);for(const h of P.children)"xfaWrapper"===h.attributes.class?h.children[h.children.length-1].attributes.style.height=o:h.attributes.style.height=o;break}case"table":{const[,,r,w]=L;P.width=Math.min(b.width,Math.max(P.width,r)),P.height+=w,P.children.push(x);break}case"tb":{const[,,,r]=L;P.width=b.width,P.height+=r,P.children.push(x);break}}},I.flushHTML=function(e){const x={name:"div",attributes:e[t.$extra].attributes,children:e[t.$extra].children};if(e[t.$extra].failingNode){const L=e[t.$extra].failingNode[t.$flushHTML]();L&&x.children.push(L)}return 0===x.children.length?null:(e[t.$extra].children=[],delete e[t.$extra].line,x)},I.getAvailableSpace=function(e){const x=e[t.$extra].availableSpace;switch(e.layout){case"lr-tb":case"rl-tb":switch(e[t.$extra].attempt){case 0:return{width:x.width-e[t.$extra].currentWidth,height:x.height-e[t.$extra].prevHeight};case 1:return{width:x.width,height:x.height-e[t.$extra].height};default:return{width:1/0,height:x.height-e[t.$extra].prevHeight}}case"rl-row":case"row":return{width:e[t.$extra].columnWidths.slice(e[t.$extra].currentColumn).reduce((L,P)=>L+P),height:x.height};case"table":case"tb":return{width:x.width,height:x.height-e[t.$extra].height};default:return x}};var t=G(68),F=G(73)},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.createDataNode=function(p,v,m){const c=h(m);if(!c||c.some(i=>i.operator===L))return null;const f=w.get(c[0].name);let y=0;f?(p=f(p,v),y=1):p=v||p;for(let i=c.length;y<i;y++){const{name:d,operator:S,index:s}=c[y];if(!isFinite(s))return c[y].index=0,n(p,c.slice(y));let l;switch(S){case x:l=p[t.$getChildrenByName](d,!1);break;case L:l=p[t.$getChildrenByName](d,!0);break;case P:l=p[t.$getChildrenByClass](d),l=l instanceof t.XFAObjectArray?l.children:[l]}if(0===l.length)return n(p,c.slice(y));if(!(s<l.length))return c[y].index=l.length-s,n(p,c.slice(y));{const A=l[s];if(!(A instanceof t.XFAObject))return(0,F.warn)("XFA - Cannot create a node."),null;p=A}}return null},I.searchNode=function(p,v,m,c=!0,f=!0){const y=h(m,c);if(!y)return null;const i=w.get(y[0].name);let d,S=0;i?(d=!0,p=[i(p,v)],S=1):(d=null===v,p=[v||p]);for(let s=y.length;S<s;S++){const{name:l,cacheName:A,operator:k,index:u}=y[S],M=[];for(const O of p){if(!(O instanceof t.XFAObject))continue;let C,N;if(f&&(N=o.get(O),N||(N=new Map,o.set(O,N)),C=N.get(A)),!C){switch(k){case x:C=O[t.$getChildrenByName](l,!1);break;case L:C=O[t.$getChildrenByName](l,!0);break;case P:C=O[t.$getChildrenByClass](l),C=C instanceof t.XFAObjectArray?C.children:[C]}f&&N.set(A,C)}C.length>0&&M.push(C)}if(0!==M.length||d||0!==S)p=isFinite(u)?M.filter(O=>u<O.length).map(O=>O[u]):M.reduce((O,C)=>O.concat(C),[]);else{if(!(v=v[t.$getParent]()))return null;S=-1,p=[v]}}return 0===p.length?null:p};var t=G(68),F=G(2);const R=/^[^.[]+/,e=/^[^\]]+/,x=0,L=1,P=2,b=3,r=4,w=new Map([["$data",(a,p)=>a.datasets.data],["$template",(a,p)=>a.template],["$connectionSet",(a,p)=>a.connectionSet],["$form",(a,p)=>a.form],["$layout",(a,p)=>a.layout],["$host",(a,p)=>a.host],["$dataWindow",(a,p)=>a.dataWindow],["$event",(a,p)=>a.event],["!",(a,p)=>a.datasets],["$xfa",(a,p)=>a],["xfa",(a,p)=>a],["$",(a,p)=>p]]),o=new WeakMap;function h(a,p){let v=a.match(R);if(!v)return null;let[m]=v;const c=[{name:m,cacheName:"."+m,index:0,js:null,formCalc:null,operator:x}];let f=m.length;for(;f<a.length;){const i=f;if("["===a.charAt(f++)){if(v=a.slice(f).match(e),!v)return(0,F.warn)("XFA - Invalid index in SOM expression"),null;c[c.length-1].index="*"===(y=(y=v[0]).trim())?1/0:parseInt(y,10)||0,f+=v[0].length+1;continue}let d;switch(a.charAt(f)){case".":if(!p)return null;f++,d=L;break;case"#":f++,d=P;break;case"[":d=b;break;case"(":d=r;break;default:d=x}if(v=a.slice(f).match(R),!v)break;[m]=v,f+=m.length,c.push({name:m,cacheName:a.slice(i,f),operator:d,index:0,js:null,formCalc:null})}var y;return c}function n(a,p){let v=null;for(const{name:m,index:c}of p){for(let f=0;f<=c;f++)v=new t.XmlObject(a[t.$namespaceId],m),a[t.$appendChild](v);a=v}return v}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XFAParser=void 0;var t=G(68),F=G(61),R=G(77),e=G(2);I.XFAParser=class x extends F.XMLParserBase{constructor(){super(),this._builder=new R.Builder,this._stack=[],this._ids=new Map,this._current=this._builder.buildRoot(this._ids),this._errorCode=F.XMLParserErrorCode.NoError,this._whiteRegex=/^\s+$/,this._nbsps=/\xa0+/g}parse(P){if(this.parseXml(P),this._errorCode===F.XMLParserErrorCode.NoError)return this._current[t.$finalize](),this._current.element}onText(P){P=P.replace(this._nbsps,b=>b.slice(1)+" "),this._current[t.$acceptWhitespace]()?this._current[t.$onText](P):this._whiteRegex.test(P)||this._current[t.$onText](P.trim())}onCdata(P){this._current[t.$onText](P)}_mkAttributes(P,b){let r=null,w=null;const o=Object.create({});for(const{name:h,value:n}of P)if("xmlns"===h)r?(0,e.warn)(`XFA - multiple namespace definition in <${b}>`):r=n;else if(h.startsWith("xmlns:")){const a=h.substring(6);w||(w=[]),w.push({prefix:a,value:n})}else{const a=h.indexOf(":");if(-1===a)o[h]=n;else{let p=o[t.$nsAttributes];p||(p=o[t.$nsAttributes]=Object.create(null));const[v,m]=[h.slice(0,a),h.slice(a+1)];let c=p[v];c||(c=p[v]=Object.create(null)),c[m]=n}}return[r,w,o]}_getNameAndPrefix(P){const b=P.indexOf(":");return-1===b?[P,null]:[P.substring(b+1),P.substring(0,b)]}onBeginElement(P,b,r){const[w,o,h]=this._mkAttributes(b,P),[n,a]=this._getNameAndPrefix(P),p=this._builder.build({nsPrefix:a,name:n,attributes:h,namespace:w,prefixes:o});r?(p[t.$finalize](),this._current[t.$onChild](p)&&p[t.$setId](this._ids),p[t.$clean](this._builder)):(this._stack.push(this._current),this._current=p)}onEndElement(P){const b=this._current;b[t.$finalize](),this._current=this._stack.pop(),this._current[t.$onChild](b)&&b[t.$setId](this._ids),b[t.$clean](this._builder)}onError(P){this._errorCode=P}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.Builder=void 0;var t=G(70),F=G(68),R=G(78),e=G(72),x=G(87),L=G(2);class P extends F.XFAObject{constructor(w){super(-1,"root",Object.create(null)),this.element=null,this[F.$ids]=w}[F.$onChild](w){return this.element=w,!0}[F.$finalize](){super[F.$finalize](),this.element.template instanceof e.Template&&(this.element.template[F.$resolvePrototypes](this[F.$ids]),this.element.template[F.$ids]=this[F.$ids])}}class b extends F.XFAObject{constructor(){super(-1,"",Object.create(null))}[F.$onChild](w){return!1}}I.Builder=class{constructor(){this._namespaceStack=[],this._namespacePrefixes=new Map,this._namespaces=new Map,this._nextNsId=Math.max(...Object.values(t.NamespaceIds).map(({id:w})=>w)),this._currentNamespace=new x.UnknownNamespace(++this._nextNsId)}buildRoot(w){return new P(w)}build({nsPrefix:w,name:o,attributes:h,namespace:n,prefixes:a}){const p=null!==n;if(p&&(this._namespaceStack.push(this._currentNamespace),this._currentNamespace=this._searchNamespace(n)),a&&this._addNamespacePrefix(a),h.hasOwnProperty(F.$nsAttributes)){const c=R.NamespaceSetUp.datasets,f=h[F.$nsAttributes];let y=null;for(const[i,d]of Object.entries(f))if(this._getNamespaceToUse(i)===c){y={xfa:d};break}y?h[F.$nsAttributes]=y:delete h[F.$nsAttributes]}const v=this._getNamespaceToUse(w),m=v&&v[t.$buildXFAObject](o,h)||new b;return(p||a)&&(m[F.$cleanup]={hasNamespace:p,prefixes:a}),m}_searchNamespace(w){let o=this._namespaces.get(w);if(o)return o;for(const[h,{check:n}]of Object.entries(t.NamespaceIds))if(n(w)){if(o=R.NamespaceSetUp[h],o)return this._namespaces.set(w,o),o;break}return o=new x.UnknownNamespace(++this._nextNsId),this._namespaces.set(w,o),o}_addNamespacePrefix(w){for(const{prefix:o,value:h}of w){const n=this._searchNamespace(h);let a=this._namespacePrefixes.get(o);a||(a=[],this._namespacePrefixes.set(o,a)),a.push(n)}}_getNamespaceToUse(w){if(!w)return this._currentNamespace;const o=this._namespacePrefixes.get(w);return o&&o.length>0?o[o.length-1]:((0,L.warn)(`Unknown namespace prefix: ${w}.`),null)}clean(w){const{hasNamespace:o,prefixes:h}=w;o&&(this._currentNamespace=this._namespaceStack.pop()),h&&h.forEach(({prefix:n})=>{this._namespacePrefixes.get(n).pop()})}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.NamespaceSetUp=void 0;var t=G(79),F=G(80),R=G(81),e=G(82),x=G(83),L=G(84),P=G(72),b=G(85),r=G(86);I.NamespaceSetUp={config:t.ConfigNamespace,connection:F.ConnectionSetNamespace,datasets:R.DatasetsNamespace,localeSet:e.LocaleSetNamespace,signature:x.SignatureNamespace,stylesheet:L.StylesheetNamespace,template:P.TemplateNamespace,xdp:b.XdpNamespace,xhtml:r.XhtmlNamespace}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.ConfigNamespace=void 0;var t=G(70),F=G(68),R=G(69),e=G(2);const x=t.NamespaceIds.config.id;class L extends F.XFAObject{constructor(Z){super(x,"acrobat",!0),this.acrobat7=null,this.autoSave=null,this.common=null,this.validate=null,this.validateApprovalSignatures=null,this.submitUrl=new F.XFAObjectArray}}class P extends F.XFAObject{constructor(Z){super(x,"acrobat7",!0),this.dynamicRender=null}}class b extends F.OptionObject{constructor(Z){super(x,"ADBE_JSConsole",["delegate","Enable","Disable"])}}class r extends F.OptionObject{constructor(Z){super(x,"ADBE_JSDebugger",["delegate","Enable","Disable"])}}class w extends F.Option01{constructor(Z){super(x,"addSilentPrint")}}class o extends F.Option01{constructor(Z){super(x,"addViewerPreferences")}}class h extends F.Option10{constructor(Z){super(x,"adjustData")}}class n extends F.IntegerObject{constructor(Z){super(x,"adobeExtensionLevel",0,Ke=>Ke>=1&&Ke<=8)}}class a extends F.XFAObject{constructor(Z){super(x,"agent",!0),this.name=Z.name?Z.name.trim():"",this.common=new F.XFAObjectArray}}class p extends F.ContentObject{constructor(Z){super(x,"alwaysEmbed")}}class v extends F.StringObject{constructor(Z){super(x,"amd")}}class m extends F.XFAObject{constructor(Z){super(x,"area"),this.level=(0,R.getInteger)({data:Z.level,defaultValue:0,validate:Ke=>Ke>=1&&Ke<=3}),this.name=(0,R.getStringOption)(Z.name,["","barcode","coreinit","deviceDriver","font","general","layout","merge","script","signature","sourceSet","templateCache"])}}class c extends F.OptionObject{constructor(Z){super(x,"attributes",["preserve","delegate","ignore"])}}class f extends F.OptionObject{constructor(Z){super(x,"autoSave",["disabled","enabled"])}}class y extends F.StringObject{constructor(Z){super(x,"base")}}class i extends F.XFAObject{constructor(Z){super(x,"batchOutput"),this.format=(0,R.getStringOption)(Z.format,["none","concat","zip","zipCompress"])}}class d extends F.ContentObject{constructor(Z){super(x,"behaviorOverride")}[F.$finalize](){this[F.$content]=new Map(this[F.$content].trim().split(/\s+/).filter(Z=>!!Z&&Z.include(":")).map(Z=>Z.split(":",2)))}}class S extends F.XFAObject{constructor(Z){super(x,"cache",!0),this.templateCache=null}}class s extends F.Option01{constructor(Z){super(x,"change")}}class l extends F.XFAObject{constructor(Z){super(x,"common",!0),this.data=null,this.locale=null,this.localeSet=null,this.messaging=null,this.suppressBanner=null,this.template=null,this.validationMessaging=null,this.versionControl=null,this.log=new F.XFAObjectArray}}class A extends F.XFAObject{constructor(Z){super(x,"compress"),this.scope=(0,R.getStringOption)(Z.scope,["imageOnly","document"])}}class k extends F.Option01{constructor(Z){super(x,"compressLogicalStructure")}}class u extends F.Option10{constructor(Z){super(x,"compressObjectStream")}}class M extends F.XFAObject{constructor(Z){super(x,"compression",!0),this.compressLogicalStructure=null,this.compressObjectStream=null,this.level=null,this.type=null}}class O extends F.XFAObject{constructor(Z){super(x,"config",!0),this.acrobat=null,this.present=null,this.trace=null,this.agent=new F.XFAObjectArray}}class C extends F.OptionObject{constructor(Z){super(x,"conformance",["A","B"])}}class N extends F.Option01{constructor(Z){super(x,"contentCopy")}}class X extends F.IntegerObject{constructor(Z){super(x,"copies",1,Ke=>Ke>=1)}}class H extends F.StringObject{constructor(Z){super(x,"creator")}}class D extends F.IntegerObject{constructor(Z){super(x,"currentPage",0,Ke=>Ke>=0)}}class j extends F.XFAObject{constructor(Z){super(x,"data",!0),this.adjustData=null,this.attributes=null,this.incrementalLoad=null,this.outputXSL=null,this.range=null,this.record=null,this.startNode=null,this.uri=null,this.window=null,this.xsl=null,this.excludeNS=new F.XFAObjectArray,this.transform=new F.XFAObjectArray}}class _ extends F.XFAObject{constructor(Z){super(x,"debug",!0),this.uri=null}}class T extends F.ContentObject{constructor(Z){super(x,"defaultTypeface"),this.writingScript=(0,R.getStringOption)(Z.writingScript,["*","Arabic","Cyrillic","EastEuropeanRoman","Greek","Hebrew","Japanese","Korean","Roman","SimplifiedChinese","Thai","TraditionalChinese","Vietnamese"])}}class U extends F.OptionObject{constructor(Z){super(x,"destination",["pdf","pcl","ps","webClient","zpl"])}}class q extends F.Option01{constructor(Z){super(x,"documentAssembly")}}class E extends F.XFAObject{constructor(Z){super(x,"driver",!0),this.name=Z.name?Z.name.trim():"",this.fontInfo=null,this.xdc=null}}class $ extends F.OptionObject{constructor(Z){super(x,"duplexOption",["simplex","duplexFlipLongEdge","duplexFlipShortEdge"])}}class B extends F.OptionObject{constructor(Z){super(x,"dynamicRender",["forbidden","required"])}}class W extends F.Option01{constructor(Z){super(x,"embed")}}class V extends F.Option01{constructor(Z){super(x,"encrypt")}}class J extends F.XFAObject{constructor(Z){super(x,"encryption",!0),this.encrypt=null,this.encryptionLevel=null,this.permissions=null}}class Y extends F.OptionObject{constructor(Z){super(x,"encryptionLevel",["40bit","128bit"])}}class z extends F.StringObject{constructor(Z){super(x,"enforce")}}class Q extends F.XFAObject{constructor(Z){super(x,"equate"),this.force=(0,R.getInteger)({data:Z.force,defaultValue:1,validate:Ke=>0===Ke}),this.from=Z.from||"",this.to=Z.to||""}}class re extends F.XFAObject{constructor(Z){super(x,"equateRange"),this.from=Z.from||"",this.to=Z.to||"",this._unicodeRange=Z.unicodeRange||""}get unicodeRange(){const Z=[],Ke=/U\+([0-9a-fA-F]+)/,ut=this._unicodeRange;for(let dt of ut.split(",").map(yt=>yt.trim()).filter(yt=>!!yt))dt=dt.split("-",2).map(yt=>{const Kt=yt.match(Ke);return Kt?parseInt(Kt[1],16):0}),1===dt.length&&dt.push(dt[0]),Z.push(dt);return(0,e.shadow)(this,"unicodeRange",Z)}}class te extends F.ContentObject{constructor(Z){super(x,"exclude")}[F.$finalize](){this[F.$content]=this[F.$content].trim().split(/\s+/).filter(Z=>Z&&["calculate","close","enter","exit","initialize","ready","validate"].includes(Z))}}class ae extends F.StringObject{constructor(Z){super(x,"excludeNS")}}class se extends F.OptionObject{constructor(Z){super(x,"flipLabel",["usePrinterSetting","on","off"])}}class le extends F.XFAObject{constructor(Z){super(x,"fontInfo",!0),this.embed=null,this.map=null,this.subsetBelow=null,this.alwaysEmbed=new F.XFAObjectArray,this.defaultTypeface=new F.XFAObjectArray,this.neverEmbed=new F.XFAObjectArray}}class ue extends F.Option01{constructor(Z){super(x,"formFieldFilling")}}class oe extends F.StringObject{constructor(Z){super(x,"groupParent")}}class me extends F.OptionObject{constructor(Z){super(x,"ifEmpty",["dataValue","dataGroup","ignore","remove"])}}class de extends F.StringObject{constructor(Z){super(x,"includeXDPContent")}}class Ae extends F.OptionObject{constructor(Z){super(x,"incrementalLoad",["none","forwardOnly"])}}class Ne extends F.Option01{constructor(Z){super(x,"incrementalMerge")}}class Ee extends F.Option01{constructor(Z){super(x,"interactive")}}class Re extends F.OptionObject{constructor(Z){super(x,"jog",["usePrinterSetting","none","pageSet"])}}class qe extends F.XFAObject{constructor(Z){super(x,"labelPrinter",!0),this.name=(0,R.getStringOption)(Z.name,["zpl","dpl","ipl","tcpl"]),this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class Ue extends F.OptionObject{constructor(Z){super(x,"layout",["paginate","panel"])}}class Se extends F.IntegerObject{constructor(Z){super(x,"level",0,Ke=>Ke>0)}}class Ce extends F.Option01{constructor(Z){super(x,"linearized")}}class Oe extends F.StringObject{constructor(Z){super(x,"locale")}}class pe extends F.StringObject{constructor(Z){super(x,"localeSet")}}class ve extends F.XFAObject{constructor(Z){super(x,"log",!0),this.mode=null,this.threshold=null,this.to=null,this.uri=null}}class Ie extends F.XFAObject{constructor(Z){super(x,"map",!0),this.equate=new F.XFAObjectArray,this.equateRange=new F.XFAObjectArray}}class Te extends F.XFAObject{constructor(Z){super(x,"mediumInfo",!0),this.map=null}}class be extends F.XFAObject{constructor(Z){super(x,"message",!0),this.msgId=null,this.severity=null}}class ye extends F.XFAObject{constructor(Z){super(x,"messaging",!0),this.message=new F.XFAObjectArray}}class fe extends F.OptionObject{constructor(Z){super(x,"mode",["append","overwrite"])}}class Pe extends F.Option01{constructor(Z){super(x,"modifyAnnots")}}class ke extends F.IntegerObject{constructor(Z){super(x,"msgId",1,Ke=>Ke>=1)}}class He extends F.StringObject{constructor(Z){super(x,"nameAttr")}}class Xe extends F.ContentObject{constructor(Z){super(x,"neverEmbed")}}class ce extends F.IntegerObject{constructor(Z){super(x,"numberOfCopies",null,Ke=>Ke>=2&&Ke<=5)}}class ge extends F.XFAObject{constructor(Z){super(x,"openAction",!0),this.destination=null}}class we extends F.XFAObject{constructor(Z){super(x,"output",!0),this.to=null,this.type=null,this.uri=null}}class _e extends F.StringObject{constructor(Z){super(x,"outputBin")}}class Me extends F.XFAObject{constructor(Z){super(x,"outputXSL",!0),this.uri=null}}class ze extends F.OptionObject{constructor(Z){super(x,"overprint",["none","both","draw","field"])}}class je extends F.StringObject{constructor(Z){super(x,"packets")}[F.$finalize](){"*"!==this[F.$content]&&(this[F.$content]=this[F.$content].trim().split(/\s+/).filter(Z=>["config","datasets","template","xfdf","xslt"].includes(Z)))}}class Be extends F.XFAObject{constructor(Z){super(x,"pageOffset"),this.x=(0,R.getInteger)({data:Z.x,defaultValue:"useXDCSetting",validate:Ke=>!0}),this.y=(0,R.getInteger)({data:Z.y,defaultValue:"useXDCSetting",validate:Ke=>!0})}}class Ze extends F.StringObject{constructor(Z){super(x,"pageRange")}[F.$finalize](){const Z=this[F.$content].trim().split(/\s+/).map(ut=>parseInt(ut,10)),Ke=[];for(let ut=0,dt=Z.length;ut<dt;ut+=2)Ke.push(Z.slice(ut,ut+2));this[F.$content]=Ke}}class Ve extends F.OptionObject{constructor(Z){super(x,"pagination",["simplex","duplexShortEdge","duplexLongEdge"])}}class Je extends F.OptionObject{constructor(Z){super(x,"paginationOverride",["none","forceDuplex","forceDuplexLongEdge","forceDuplexShortEdge","forceSimplex"])}}class Qe extends F.IntegerObject{constructor(Z){super(x,"part",1,Ke=>!1)}}class nt extends F.XFAObject{constructor(Z){super(x,"pcl",!0),this.name=Z.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.pageOffset=null,this.staple=null,this.xdc=null}}class st extends F.XFAObject{constructor(Z){super(x,"pdf",!0),this.name=Z.name||"",this.adobeExtensionLevel=null,this.batchOutput=null,this.compression=null,this.creator=null,this.encryption=null,this.fontInfo=null,this.interactive=null,this.linearized=null,this.openAction=null,this.pdfa=null,this.producer=null,this.renderPolicy=null,this.scriptModel=null,this.silentPrint=null,this.submitFormat=null,this.tagged=null,this.version=null,this.viewerPreferences=null,this.xdc=null}}class pt extends F.XFAObject{constructor(Z){super(x,"pdfa",!0),this.amd=null,this.conformance=null,this.includeXDPContent=null,this.part=null}}class kt extends F.XFAObject{constructor(Z){super(x,"permissions",!0),this.accessibleContent=null,this.change=null,this.contentCopy=null,this.documentAssembly=null,this.formFieldFilling=null,this.modifyAnnots=null,this.plaintextMetadata=null,this.print=null,this.printHighQuality=null}}class Ct extends F.Option01{constructor(Z){super(x,"pickTrayByPDFSize")}}class vt extends F.StringObject{constructor(Z){super(x,"picture")}}class Ft extends F.Option01{constructor(Z){super(x,"plaintextMetadata")}}class Ot extends F.OptionObject{constructor(Z){super(x,"presence",["preserve","dissolve","dissolveStructure","ignore","remove"])}}class Tt extends F.XFAObject{constructor(Z){super(x,"present",!0),this.behaviorOverride=null,this.cache=null,this.common=null,this.copies=null,this.destination=null,this.incrementalMerge=null,this.layout=null,this.output=null,this.overprint=null,this.pagination=null,this.paginationOverride=null,this.script=null,this.validate=null,this.xdp=null,this.driver=new F.XFAObjectArray,this.labelPrinter=new F.XFAObjectArray,this.pcl=new F.XFAObjectArray,this.pdf=new F.XFAObjectArray,this.ps=new F.XFAObjectArray,this.submitUrl=new F.XFAObjectArray,this.webClient=new F.XFAObjectArray,this.zpl=new F.XFAObjectArray}}class Pt extends F.Option01{constructor(Z){super(x,"print")}}class wt extends F.Option01{constructor(Z){super(x,"printHighQuality")}}class _t extends F.OptionObject{constructor(Z){super(x,"printScaling",["appdefault","noScaling"])}}class It extends F.StringObject{constructor(Z){super(x,"printerName")}}class Et extends F.StringObject{constructor(Z){super(x,"producer")}}class Mt extends F.XFAObject{constructor(Z){super(x,"ps",!0),this.name=Z.name||"",this.batchOutput=null,this.fontInfo=null,this.jog=null,this.mediumInfo=null,this.outputBin=null,this.staple=null,this.xdc=null}}class Rt extends F.ContentObject{constructor(Z){super(x,"range")}[F.$finalize](){this[F.$content]=this[F.$content].trim().split(/\s*,\s*/,2).map(Z=>Z.split("-").map(Ke=>parseInt(Ke.trim(),10))).filter(Z=>Z.every(Ke=>!isNaN(Ke))).map(Z=>(1===Z.length&&Z.push(Z[0]),Z))}}class Dt extends F.ContentObject{constructor(Z){super(x,"record")}[F.$finalize](){this[F.$content]=this[F.$content].trim();const Z=parseInt(this[F.$content],10);!isNaN(Z)&&Z>=0&&(this[F.$content]=Z)}}class Nt extends F.ContentObject{constructor(Z){super(x,"relevant")}[F.$finalize](){this[F.$content]=this[F.$content].trim().split(/\s+/)}}class Lt extends F.ContentObject{constructor(Z){super(x,"rename")}[F.$finalize](){this[F.$content]=this[F.$content].trim(),(this[F.$content].toLowerCase().startsWith("xml")||this[F.$content].match(new RegExp("[\\p{L}_][\\p{L}\\d._\\p{M}-]*","u")))&&(0,e.warn)("XFA - Rename: invalid XFA name")}}class Bt extends F.OptionObject{constructor(Z){super(x,"renderPolicy",["server","client"])}}class jt extends F.OptionObject{constructor(Z){super(x,"runScripts",["both","client","none","server"])}}class Ut extends F.XFAObject{constructor(Z){super(x,"script",!0),this.currentPage=null,this.exclude=null,this.runScripts=null}}class mt extends F.OptionObject{constructor(Z){super(x,"scriptModel",["XFA","none"])}}class St extends F.OptionObject{constructor(Z){super(x,"severity",["ignore","error","information","trace","warning"])}}class $t extends F.XFAObject{constructor(Z){super(x,"silentPrint",!0),this.addSilentPrint=null,this.printerName=null}}class qt extends F.XFAObject{constructor(Z){super(x,"staple"),this.mode=(0,R.getStringOption)(Z.mode,["usePrinterSetting","on","off"])}}class Xt extends F.StringObject{constructor(Z){super(x,"startNode")}}class Ht extends F.IntegerObject{constructor(Z){super(x,"startPage",0,Ke=>!0)}}class zt extends F.OptionObject{constructor(Z){super(x,"submitFormat",["html","delegate","fdf","xml","pdf"])}}class Gt extends F.StringObject{constructor(Z){super(x,"submitUrl")}}class At extends F.IntegerObject{constructor(Z){super(x,"subsetBelow",100,Ke=>Ke>=0&&Ke<=100)}}class Wt extends F.Option01{constructor(Z){super(x,"suppressBanner")}}class ft extends F.Option01{constructor(Z){super(x,"tagged")}}class Vt extends F.XFAObject{constructor(Z){super(x,"template",!0),this.base=null,this.relevant=null,this.startPage=null,this.uri=null,this.xsl=null}}class gt extends F.OptionObject{constructor(Z){super(x,"threshold",["trace","error","information","warning"])}}class Fe extends F.OptionObject{constructor(Z){super(x,"to",["null","memory","stderr","stdout","system","uri"])}}class g extends F.XFAObject{constructor(Z){super(x,"templateCache"),this.maxEntries=(0,R.getInteger)({data:Z.maxEntries,defaultValue:5,validate:Ke=>Ke>=0})}}class ie extends F.XFAObject{constructor(Z){super(x,"trace",!0),this.area=new F.XFAObjectArray}}class Le extends F.XFAObject{constructor(Z){super(x,"transform",!0),this.groupParent=null,this.ifEmpty=null,this.nameAttr=null,this.picture=null,this.presence=null,this.rename=null,this.whitespace=null}}class $e extends F.OptionObject{constructor(Z){super(x,"type",["none","ascii85","asciiHex","ccittfax","flate","lzw","runLength","native","xdp","mergedXDP"])}}class Ge extends F.StringObject{constructor(Z){super(x,"uri")}}class tt extends F.OptionObject{constructor(Z){super(x,"validate",["preSubmit","prePrint","preExecute","preSave"])}}class at extends F.ContentObject{constructor(Z){super(x,"validateApprovalSignatures")}[F.$finalize](){this[F.$content]=this[F.$content].trim().split(/\s+/).filter(Z=>["docReady","postSign"].includes(Z))}}class Ye extends F.OptionObject{constructor(Z){super(x,"validationMessaging",["allMessagesIndividually","allMessagesTogether","firstMessageOnly","noMessages"])}}class et extends F.OptionObject{constructor(Z){super(x,"version",["1.7","1.6","1.5","1.4","1.3","1.2"])}}class We extends F.XFAObject{constructor(Z){super(x,"VersionControl"),this.outputBelow=(0,R.getStringOption)(Z.outputBelow,["warn","error","update"]),this.sourceAbove=(0,R.getStringOption)(Z.sourceAbove,["warn","error"]),this.sourceBelow=(0,R.getStringOption)(Z.sourceBelow,["update","maintain"])}}class rt extends F.XFAObject{constructor(Z){super(x,"viewerPreferences",!0),this.ADBE_JSConsole=null,this.ADBE_JSDebugger=null,this.addViewerPreferences=null,this.duplexOption=null,this.enforce=null,this.numberOfCopies=null,this.pageRange=null,this.pickTrayByPDFSize=null,this.printScaling=null}}class ct extends F.XFAObject{constructor(Z){super(x,"webClient",!0),this.name=Z.name?Z.name.trim():"",this.fontInfo=null,this.xdc=null}}class it extends F.OptionObject{constructor(Z){super(x,"whitespace",["preserve","ltrim","normalize","rtrim","trim"])}}class ot extends F.ContentObject{constructor(Z){super(x,"window")}[F.$finalize](){const Z=this[F.$content].trim().split(/\s*,\s*/,2).map(Ke=>parseInt(Ke,10));Z.some(Ke=>isNaN(Ke))?this[F.$content]=[0,0]:(1===Z.length&&Z.push(Z[0]),this[F.$content]=Z)}}class Yt extends F.XFAObject{constructor(Z){super(x,"xdc",!0),this.uri=new F.XFAObjectArray,this.xsl=new F.XFAObjectArray}}class xt extends F.XFAObject{constructor(Z){super(x,"xdp",!0),this.packets=null}}class bt extends F.XFAObject{constructor(Z){super(x,"xsl",!0),this.debug=null,this.uri=null}}class lt extends F.XFAObject{constructor(Z){super(x,"zpl",!0),this.name=Z.name?Z.name.trim():"",this.batchOutput=null,this.flipLabel=null,this.fontInfo=null,this.xdc=null}}class ht{static[t.$buildXFAObject](Z,Ke){if(ht.hasOwnProperty(Z))return ht[Z](Ke)}static acrobat(Z){return new L(Z)}static acrobat7(Z){return new P(Z)}static ADBE_JSConsole(Z){return new b(Z)}static ADBE_JSDebugger(Z){return new r(Z)}static addSilentPrint(Z){return new w(Z)}static addViewerPreferences(Z){return new o(Z)}static adjustData(Z){return new h(Z)}static adobeExtensionLevel(Z){return new n(Z)}static agent(Z){return new a(Z)}static alwaysEmbed(Z){return new p(Z)}static amd(Z){return new v(Z)}static area(Z){return new m(Z)}static attributes(Z){return new c(Z)}static autoSave(Z){return new f(Z)}static base(Z){return new y(Z)}static batchOutput(Z){return new i(Z)}static behaviorOverride(Z){return new d(Z)}static cache(Z){return new S(Z)}static change(Z){return new s(Z)}static common(Z){return new l(Z)}static compress(Z){return new A(Z)}static compressLogicalStructure(Z){return new k(Z)}static compressObjectStream(Z){return new u(Z)}static compression(Z){return new M(Z)}static config(Z){return new O(Z)}static conformance(Z){return new C(Z)}static contentCopy(Z){return new N(Z)}static copies(Z){return new X(Z)}static creator(Z){return new H(Z)}static currentPage(Z){return new D(Z)}static data(Z){return new j(Z)}static debug(Z){return new _(Z)}static defaultTypeface(Z){return new T(Z)}static destination(Z){return new U(Z)}static documentAssembly(Z){return new q(Z)}static driver(Z){return new E(Z)}static duplexOption(Z){return new $(Z)}static dynamicRender(Z){return new B(Z)}static embed(Z){return new W(Z)}static encrypt(Z){return new V(Z)}static encryption(Z){return new J(Z)}static encryptionLevel(Z){return new Y(Z)}static enforce(Z){return new z(Z)}static equate(Z){return new Q(Z)}static equateRange(Z){return new re(Z)}static exclude(Z){return new te(Z)}static excludeNS(Z){return new ae(Z)}static flipLabel(Z){return new se(Z)}static fontInfo(Z){return new le(Z)}static formFieldFilling(Z){return new ue(Z)}static groupParent(Z){return new oe(Z)}static ifEmpty(Z){return new me(Z)}static includeXDPContent(Z){return new de(Z)}static incrementalLoad(Z){return new Ae(Z)}static incrementalMerge(Z){return new Ne(Z)}static interactive(Z){return new Ee(Z)}static jog(Z){return new Re(Z)}static labelPrinter(Z){return new qe(Z)}static layout(Z){return new Ue(Z)}static level(Z){return new Se(Z)}static linearized(Z){return new Ce(Z)}static locale(Z){return new Oe(Z)}static localeSet(Z){return new pe(Z)}static log(Z){return new ve(Z)}static map(Z){return new Ie(Z)}static mediumInfo(Z){return new Te(Z)}static message(Z){return new be(Z)}static messaging(Z){return new ye(Z)}static mode(Z){return new fe(Z)}static modifyAnnots(Z){return new Pe(Z)}static msgId(Z){return new ke(Z)}static nameAttr(Z){return new He(Z)}static neverEmbed(Z){return new Xe(Z)}static numberOfCopies(Z){return new ce(Z)}static openAction(Z){return new ge(Z)}static output(Z){return new we(Z)}static outputBin(Z){return new _e(Z)}static outputXSL(Z){return new Me(Z)}static overprint(Z){return new ze(Z)}static packets(Z){return new je(Z)}static pageOffset(Z){return new Be(Z)}static pageRange(Z){return new Ze(Z)}static pagination(Z){return new Ve(Z)}static paginationOverride(Z){return new Je(Z)}static part(Z){return new Qe(Z)}static pcl(Z){return new nt(Z)}static pdf(Z){return new st(Z)}static pdfa(Z){return new pt(Z)}static permissions(Z){return new kt(Z)}static pickTrayByPDFSize(Z){return new Ct(Z)}static picture(Z){return new vt(Z)}static plaintextMetadata(Z){return new Ft(Z)}static presence(Z){return new Ot(Z)}static present(Z){return new Tt(Z)}static print(Z){return new Pt(Z)}static printHighQuality(Z){return new wt(Z)}static printScaling(Z){return new _t(Z)}static printerName(Z){return new It(Z)}static producer(Z){return new Et(Z)}static ps(Z){return new Mt(Z)}static range(Z){return new Rt(Z)}static record(Z){return new Dt(Z)}static relevant(Z){return new Nt(Z)}static rename(Z){return new Lt(Z)}static renderPolicy(Z){return new Bt(Z)}static runScripts(Z){return new jt(Z)}static script(Z){return new Ut(Z)}static scriptModel(Z){return new mt(Z)}static severity(Z){return new St(Z)}static silentPrint(Z){return new $t(Z)}static staple(Z){return new qt(Z)}static startNode(Z){return new Xt(Z)}static startPage(Z){return new Ht(Z)}static submitFormat(Z){return new zt(Z)}static submitUrl(Z){return new Gt(Z)}static subsetBelow(Z){return new At(Z)}static suppressBanner(Z){return new Wt(Z)}static tagged(Z){return new ft(Z)}static template(Z){return new Vt(Z)}static templateCache(Z){return new g(Z)}static threshold(Z){return new gt(Z)}static to(Z){return new Fe(Z)}static trace(Z){return new ie(Z)}static transform(Z){return new Le(Z)}static type(Z){return new $e(Z)}static uri(Z){return new Ge(Z)}static validate(Z){return new tt(Z)}static validateApprovalSignatures(Z){return new at(Z)}static validationMessaging(Z){return new Ye(Z)}static version(Z){return new et(Z)}static versionControl(Z){return new We(Z)}static viewerPreferences(Z){return new rt(Z)}static webClient(Z){return new ct(Z)}static whitespace(Z){return new it(Z)}static window(Z){return new ot(Z)}static xdc(Z){return new Yt(Z)}static xdp(Z){return new xt(Z)}static xsl(Z){return new bt(Z)}static zpl(Z){return new lt(Z)}}I.ConfigNamespace=ht},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.ConnectionSetNamespace=void 0;var t=G(70),F=G(68);const R=t.NamespaceIds.connectionSet.id;class e extends F.XFAObject{constructor(c){super(R,"connectionSet",!0),this.wsdlConnection=new F.XFAObjectArray,this.xmlConnection=new F.XFAObjectArray,this.xsdConnection=new F.XFAObjectArray}}class x extends F.XFAObject{constructor(c){super(R,"effectiveInputPolicy"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class L extends F.XFAObject{constructor(c){super(R,"effectiveOutputPolicy"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class P extends F.StringObject{constructor(c){super(R,"operation"),this.id=c.id||"",this.input=c.input||"",this.name=c.name||"",this.output=c.output||"",this.use=c.use||"",this.usehref=c.usehref||""}}class b extends F.StringObject{constructor(c){super(R,"rootElement"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class r extends F.StringObject{constructor(c){super(R,"soapAction"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class w extends F.StringObject{constructor(c){super(R,"soapAddress"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class o extends F.StringObject{constructor(c){super(R,"uri"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class h extends F.StringObject{constructor(c){super(R,"wsdlAddress"),this.id=c.id||"",this.name=c.name||"",this.use=c.use||"",this.usehref=c.usehref||""}}class n extends F.XFAObject{constructor(c){super(R,"wsdlConnection",!0),this.dataDescription=c.dataDescription||"",this.name=c.name||"",this.effectiveInputPolicy=null,this.effectiveOutputPolicy=null,this.operation=null,this.soapAction=null,this.soapAddress=null,this.wsdlAddress=null}}class a extends F.XFAObject{constructor(c){super(R,"xmlConnection",!0),this.dataDescription=c.dataDescription||"",this.name=c.name||"",this.uri=null}}class p extends F.XFAObject{constructor(c){super(R,"xsdConnection",!0),this.dataDescription=c.dataDescription||"",this.name=c.name||"",this.rootElement=null,this.uri=null}}class v{static[t.$buildXFAObject](c,f){if(v.hasOwnProperty(c))return v[c](f)}static connectionSet(c){return new e(c)}static effectiveInputPolicy(c){return new x(c)}static effectiveOutputPolicy(c){return new L(c)}static operation(c){return new P(c)}static rootElement(c){return new b(c)}static soapAction(c){return new r(c)}static soapAddress(c){return new w(c)}static uri(c){return new o(c)}static wsdlAddress(c){return new h(c)}static wsdlConnection(c){return new n(c)}static xmlConnection(c){return new a(c)}static xsdConnection(c){return new p(c)}}I.ConnectionSetNamespace=v},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.DatasetsNamespace=void 0;var t=G(68),F=G(70);const R=F.NamespaceIds.datasets.id;class e extends t.XmlObject{constructor(b){super(R,"data",b)}}class x extends t.XFAObject{constructor(b){super(R,"datasets",!0),this.data=null,this.Signature=null}[t.$onChild](b){const r=b[t.$nodeName];"data"===r&&b[t.$namespaceId]===R||"Signature"===r&&b[t.$namespaceId]===F.NamespaceIds.signature.id?this[r]=b:b[t.$global]=!0,this[t.$appendChild](b)}}class L{static[F.$buildXFAObject](b,r){if(L.hasOwnProperty(b))return L[b](r)}static datasets(b){return new x(b)}static data(b){return new e(b)}}I.DatasetsNamespace=L},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.LocaleSetNamespace=void 0;var t=G(70),F=G(68),R=G(69);const e=t.NamespaceIds.localeSet.id;class x extends F.XFAObject{constructor(C){super(e,"calendarSymbols",!0),this.name="gregorian",this.dayNames=new F.XFAObjectArray(2),this.eraNames=null,this.meridiemNames=null,this.monthNames=new F.XFAObjectArray(2)}}class L extends F.StringObject{constructor(C){super(e,"currencySymbol"),this.name=(0,R.getStringOption)(C.name,["symbol","isoname","decimal"])}}class P extends F.XFAObject{constructor(C){super(e,"currencySymbols",!0),this.currencySymbol=new F.XFAObjectArray(3)}}class b extends F.StringObject{constructor(C){super(e,"datePattern"),this.name=(0,R.getStringOption)(C.name,["full","long","med","short"])}}class r extends F.XFAObject{constructor(C){super(e,"datePatterns",!0),this.datePattern=new F.XFAObjectArray(4)}}class w extends F.ContentObject{constructor(C){super(e,"dateTimeSymbols")}}class o extends F.StringObject{constructor(C){super(e,"day")}}class h extends F.XFAObject{constructor(C){super(e,"dayNames",!0),this.abbr=(0,R.getInteger)({data:C.abbr,defaultValue:0,validate:N=>1===N}),this.day=new F.XFAObjectArray(7)}}class n extends F.StringObject{constructor(C){super(e,"era")}}class a extends F.XFAObject{constructor(C){super(e,"eraNames",!0),this.era=new F.XFAObjectArray(2)}}class p extends F.XFAObject{constructor(C){super(e,"locale",!0),this.desc=C.desc||"",this.name="isoname",this.calendarSymbols=null,this.currencySymbols=null,this.datePatterns=null,this.dateTimeSymbols=null,this.numberPatterns=null,this.numberSymbols=null,this.timePatterns=null,this.typeFaces=null}}class v extends F.XFAObject{constructor(C){super(e,"localeSet",!0),this.locale=new F.XFAObjectArray}}class m extends F.StringObject{constructor(C){super(e,"meridiem")}}class c extends F.XFAObject{constructor(C){super(e,"meridiemNames",!0),this.meridiem=new F.XFAObjectArray(2)}}class f extends F.StringObject{constructor(C){super(e,"month")}}class y extends F.XFAObject{constructor(C){super(e,"monthNames",!0),this.abbr=(0,R.getInteger)({data:C.abbr,defaultValue:0,validate:N=>1===N}),this.month=new F.XFAObjectArray(12)}}class i extends F.StringObject{constructor(C){super(e,"numberPattern"),this.name=(0,R.getStringOption)(C.name,["full","long","med","short"])}}class d extends F.XFAObject{constructor(C){super(e,"numberPatterns",!0),this.numberPattern=new F.XFAObjectArray(4)}}class S extends F.StringObject{constructor(C){super(e,"numberSymbol"),this.name=(0,R.getStringOption)(C.name,["decimal","grouping","percent","minus","zero"])}}class s extends F.XFAObject{constructor(C){super(e,"numberSymbols",!0),this.numberSymbol=new F.XFAObjectArray(5)}}class l extends F.StringObject{constructor(C){super(e,"timePattern"),this.name=(0,R.getStringOption)(C.name,["full","long","med","short"])}}class A extends F.XFAObject{constructor(C){super(e,"timePatterns",!0),this.timePattern=new F.XFAObjectArray(4)}}class k extends F.XFAObject{constructor(C){super(e,"typeFace",!0),this.name=""|C.name}}class u extends F.XFAObject{constructor(C){super(e,"typeFaces",!0),this.typeFace=new F.XFAObjectArray}}class M{static[t.$buildXFAObject](C,N){if(M.hasOwnProperty(C))return M[C](N)}static calendarSymbols(C){return new x(C)}static currencySymbol(C){return new L(C)}static currencySymbols(C){return new P(C)}static datePattern(C){return new b(C)}static datePatterns(C){return new r(C)}static dateTimeSymbols(C){return new w(C)}static day(C){return new o(C)}static dayNames(C){return new h(C)}static era(C){return new n(C)}static eraNames(C){return new a(C)}static locale(C){return new p(C)}static localeSet(C){return new v(C)}static meridiem(C){return new m(C)}static meridiemNames(C){return new c(C)}static month(C){return new f(C)}static monthNames(C){return new y(C)}static numberPattern(C){return new i(C)}static numberPatterns(C){return new d(C)}static numberSymbol(C){return new S(C)}static numberSymbols(C){return new s(C)}static timePattern(C){return new l(C)}static timePatterns(C){return new A(C)}static typeFace(C){return new k(C)}static typeFaces(C){return new u(C)}}I.LocaleSetNamespace=M},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.SignatureNamespace=void 0;var t=G(70),F=G(68);const R=t.NamespaceIds.signature.id;class e extends F.XFAObject{constructor(P){super(R,"signature",!0)}}class x{static[t.$buildXFAObject](P,b){if(x.hasOwnProperty(P))return x[P](b)}static signature(P){return new e(P)}}I.SignatureNamespace=x},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.StylesheetNamespace=void 0;var t=G(70),F=G(68);const R=t.NamespaceIds.stylesheet.id;class e extends F.XFAObject{constructor(P){super(R,"stylesheet",!0)}}class x{static[t.$buildXFAObject](P,b){if(x.hasOwnProperty(P))return x[P](b)}static stylesheet(P){return new e(P)}}I.StylesheetNamespace=x},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XdpNamespace=void 0;var t=G(70),F=G(68);const R=t.NamespaceIds.xdp.id;class e extends F.XFAObject{constructor(P){super(R,"xdp",!0),this.uuid=P.uuid||"",this.timeStamp=P.timeStamp||"",this.config=null,this.connectionSet=null,this.datasets=null,this.localeSet=null,this.stylesheet=new F.XFAObjectArray,this.template=null}[F.$onChildCheck](P){const b=t.NamespaceIds[P[F.$nodeName]];return b&&P[F.$namespaceId]===b.id}}class x{static[t.$buildXFAObject](P,b){if(x.hasOwnProperty(P))return x[P](b)}static xdp(P){return new e(P)}}I.XdpNamespace=x},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XhtmlNamespace=void 0;var t=G(68),F=G(70),R=G(73),e=G(69);const x=F.NamespaceIds.xhtml.id,L=new Set(["color","font","font-family","font-size","font-stretch","font-style","font-weight","margin","margin-bottom","margin-left","margin-right","margin-top","letter-spacing","line-height","orphans","page-break-after","page-break-before","page-break-inside","tab-interval","tab-stop","text-align","text-decoration","text-indent","vertical-align","widows","kerning-mode","xfa-font-horizontal-scale","xfa-font-vertical-scale","xfa-spacerun","xfa-tab-stops"]),P=new Map([["page-break-after","breakAfter"],["page-break-before","breakBefore"],["page-break-inside","breakInside"],["kerning-mode",k=>"none"===k?"none":"normal"],["xfa-font-horizontal-scale",k=>`scaleX(${Math.max(0,Math.min(parseInt(k)/100)).toFixed(2)})`],["xfa-font-vertical-scale",k=>`scaleY(${Math.max(0,Math.min(parseInt(k)/100)).toFixed(2)})`],["xfa-spacerun",""],["xfa-tab-stops",""],["font-size",k=>(0,R.measureToString)(1*(0,e.getMeasurement)(k))],["letter-spacing",k=>(0,R.measureToString)((0,e.getMeasurement)(k))],["line-height",k=>(0,R.measureToString)(.99*(0,e.getMeasurement)(k))],["margin",k=>(0,R.measureToString)((0,e.getMeasurement)(k))],["margin-bottom",k=>(0,R.measureToString)((0,e.getMeasurement)(k))],["margin-left",k=>(0,R.measureToString)((0,e.getMeasurement)(k))],["margin-right",k=>(0,R.measureToString)((0,e.getMeasurement)(k))],["margin-top",k=>(0,R.measureToString)((0,e.getMeasurement)(k))],["text-indent",k=>(0,R.measureToString)((0,e.getMeasurement)(k))],["font-family",k=>(0,R.getFonts)(k)]]),b=/\s+/g,r=/[\r\n]+/g;function w(k){const u=Object.create(null);if(!k)return u;for(const[M,O]of k.split(";").map(C=>C.split(":",2))){const C=P.get(M);if(""===C)continue;let N=O;C&&(N="string"==typeof C?C:C(O)),M.endsWith("scale")?u.transform=u.transform?`${u[M]} ${N}`:N:u[M.replaceAll(/-([a-zA-Z])/g,(X,H)=>H.toUpperCase())]=N}return(0,R.fixTextIndent)(u),u}const o=new Set(["body","html"]);class h extends t.XmlObject{constructor(u,M){var C;super(x,M),this.style=(C=u.style)?C.trim().split(/\s*;\s*/).filter(N=>!!N).map(N=>N.split(/\s*:\s*/,2)).filter(([N])=>L.has(N)).map(N=>N.join(":")).join(";"):""}[t.$acceptWhitespace](){return!o.has(this[t.$nodeName])}[t.$onText](u){u=u.replace(r,""),this.style.includes("xfa-spacerun:yes")||(u=u.replace(b," ")),u&&(this[t.$content]+=u)}[t.$toHTML](u){const M=[];return this[t.$extra]={children:M},this[t.$childrenToHTML]({}),0!==M.length||this[t.$content]?e.HTMLResult.success({name:this[t.$nodeName],attributes:{href:this.href,style:w(this.style)},children:M,value:this[t.$content]||""}):e.HTMLResult.EMPTY}}class n extends h{constructor(u){super(u,"a"),this.href=u.href||""}}class a extends h{constructor(u){super(u,"b")}}class p extends h{constructor(u){super(u,"body")}[t.$toHTML](u){const M=super[t.$toHTML](u),{html:O}=M;return O?(O.name="div",O.attributes.class="xfaRich",M):e.HTMLResult.EMPTY}}class v extends h{constructor(u){super(u,"br")}[t.$text](){return"\n"}[t.$toHTML](u){return e.HTMLResult.success({name:"br"})}}class m extends h{constructor(u){super(u,"html")}[t.$toHTML](u){const M=[];if(this[t.$extra]={children:M},this[t.$childrenToHTML]({}),0===M.length)return e.HTMLResult.success({name:"div",attributes:{class:"xfaRich",style:{}},value:this[t.$content]||""});if(1===M.length){const O=M[0];if(O.attributes&&"xfaRich"===O.attributes.class)return e.HTMLResult.success(O)}return e.HTMLResult.success({name:"div",attributes:{class:"xfaRich",style:{}},children:M})}}class c extends h{constructor(u){super(u,"i")}}class f extends h{constructor(u){super(u,"li")}}class y extends h{constructor(u){super(u,"ol")}}class i extends h{constructor(u){super(u,"p")}[t.$text](){return super[t.$text]()+"\n"}}class d extends h{constructor(u){super(u,"span")}}class S extends h{constructor(u){super(u,"sub")}}class s extends h{constructor(u){super(u,"sup")}}class l extends h{constructor(u){super(u,"ul")}}class A{static[F.$buildXFAObject](u,M){if(A.hasOwnProperty(u))return A[u](M)}static a(u){return new n(u)}static b(u){return new a(u)}static body(u){return new p(u)}static br(u){return new v(u)}static html(u){return new m(u)}static i(u){return new c(u)}static li(u){return new f(u)}static ol(u){return new y(u)}static p(u){return new i(u)}static span(u){return new d(u)}static sub(u){return new S(u)}static sup(u){return new s(u)}static ul(u){return new l(u)}}I.XhtmlNamespace=A},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.UnknownNamespace=void 0;var t=G(70),F=G(68);I.UnknownNamespace=class R{constructor(x){this.namespaceId=x}[t.$buildXFAObject](x,L){return new F.XmlObject(this.namespaceId,x,L)}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.XRef=void 0;var t=G(2),F=G(5),R=G(17),e=G(9),x=G(65);I.XRef=class{constructor(P,b){this.stream=P,this.pdfManager=b,this.entries=[],this.xrefstms=Object.create(null),this._cacheMap=new Map,this.stats={streamTypes:Object.create(null),fontTypes:Object.create(null)},this._newRefNum=null}getNewRef(){return null===this._newRefNum&&(this._newRefNum=this.entries.length),F.Ref.get(this._newRefNum++,0)}resetNewRef(){this._newRefNum=null}setStartXRef(P){this.startXRefQueue=[P]}parse(P=!1){let b,r,w;P?((0,t.warn)("Indexing all PDF objects"),b=this.indexObjects()):b=this.readXRef(),b.assignXref(this),this.trailer=b;try{r=b.get("Encrypt")}catch(o){if(o instanceof e.MissingDataException)throw o;(0,t.warn)(`XRef.parse - Invalid "Encrypt" reference: "${o}".`)}if((0,F.isDict)(r)){const o=b.get("ID"),h=o&&o.length?o[0]:"";r.suppressEncryption=!0,this.encrypt=new x.CipherTransformFactory(r,h,this.pdfManager.password)}try{w=b.get("Root")}catch(o){if(o instanceof e.MissingDataException)throw o;(0,t.warn)(`XRef.parse - Invalid "Root" reference: "${o}".`)}if(!(0,F.isDict)(w)||!w.has("Pages"))throw P?new t.FormatError("Invalid root reference"):new e.XRefParseException;this.root=w}processXRefTable(P){"tableState"in this||(this.tableState={entryNum:0,streamPos:P.lexer.stream.pos,parserBuf1:P.buf1,parserBuf2:P.buf2});const b=this.readXRefTable(P);if(!(0,F.isCmd)(b,"trailer"))throw new t.FormatError("Invalid XRef table: could not find trailer dictionary");let r=P.getObj();if(!(0,F.isDict)(r)&&r.dict&&(r=r.dict),!(0,F.isDict)(r))throw new t.FormatError("Invalid XRef table: could not parse trailer dictionary");return delete this.tableState,r}readXRefTable(P){const b=P.lexer.stream,r=this.tableState;let w;for(b.pos=r.streamPos,P.buf1=r.parserBuf1,P.buf2=r.parserBuf2;;){if(!("firstEntryNum"in r)||!("entryCount"in r)){if((0,F.isCmd)(w=P.getObj(),"trailer"))break;r.firstEntryNum=w,r.entryCount=P.getObj()}let o=r.firstEntryNum;const h=r.entryCount;if(!Number.isInteger(o)||!Number.isInteger(h))throw new t.FormatError("Invalid XRef table: wrong types in subsection header");for(let n=r.entryNum;n<h;n++){r.streamPos=b.pos,r.entryNum=n,r.parserBuf1=P.buf1,r.parserBuf2=P.buf2;const a={};a.offset=P.getObj(),a.gen=P.getObj();const p=P.getObj();if(p instanceof F.Cmd)switch(p.cmd){case"f":a.free=!0;break;case"n":a.uncompressed=!0}if(!Number.isInteger(a.offset)||!Number.isInteger(a.gen)||!a.free&&!a.uncompressed)throw new t.FormatError(`Invalid entry in XRef subsection: ${o}, ${h}`);0===n&&a.free&&1===o&&(o=0),this.entries[n+o]||(this.entries[n+o]=a)}r.entryNum=0,r.streamPos=b.pos,r.parserBuf1=P.buf1,r.parserBuf2=P.buf2,delete r.firstEntryNum,delete r.entryCount}if(this.entries[0]&&!this.entries[0].free)throw new t.FormatError("Invalid XRef table: unexpected first object");return w}processXRefStream(P){if(!("streamState"in this)){const b=P.dict,r=b.get("W");let w=b.get("Index");w||(w=[0,b.get("Size")]),this.streamState={entryRanges:w,byteWidths:r,entryNum:0,streamPos:P.pos}}return this.readXRefStream(P),delete this.streamState,P.dict}readXRefStream(P){let b,r;const w=this.streamState;P.pos=w.streamPos;const o=w.byteWidths,h=o[0],n=o[1],a=o[2],p=w.entryRanges;for(;p.length>0;){const v=p[0],m=p[1];if(!Number.isInteger(v)||!Number.isInteger(m))throw new t.FormatError(`Invalid XRef range fields: ${v}, ${m}`);if(!Number.isInteger(h)||!Number.isInteger(n)||!Number.isInteger(a))throw new t.FormatError(`Invalid XRef entry fields length: ${v}, ${m}`);for(b=w.entryNum;b<m;++b){w.entryNum=b,w.streamPos=P.pos;let c=0,f=0,y=0;for(r=0;r<h;++r)c=c<<8|P.getByte();for(0===h&&(c=1),r=0;r<n;++r)f=f<<8|P.getByte();for(r=0;r<a;++r)y=y<<8|P.getByte();const i={};switch(i.offset=f,i.gen=y,c){case 0:i.free=!0;break;case 1:i.uncompressed=!0;break;case 2:break;default:throw new t.FormatError(`Invalid XRef entry type: ${c}`)}this.entries[v+b]||(this.entries[v+b]=i)}w.entryNum=0,w.streamPos=P.pos,p.splice(0,2)}}indexObjects(){function P(S,s){let l="",A=S[s];for(;10!==A&&13!==A&&60!==A&&!(++s>=S.length);)l+=String.fromCharCode(A),A=S[s];return l}function b(S,s,l){const A=l.length,k=S.length;let u=0;for(;s<k;){let M=0;for(;M<A&&S[s+M]===l[M];)++M;if(M>=A)break;s++,u++}return u}const r=/^(\d+)\s+(\d+)\s+obj\b/,w=/\bendobj[\b\s]$/,o=/\s+(\d+\s+\d+\s+obj[\b\s<])$/,h=new Uint8Array([116,114,97,105,108,101,114]),n=new Uint8Array([115,116,97,114,116,120,114,101,102]),a=new Uint8Array([111,98,106]),p=new Uint8Array([47,88,82,101,102]);this.entries.length=0;const v=this.stream;v.pos=0;const m=v.getBytes(),c=m.length;let f=v.start;const y=[],i=[];for(;f<c;){let S=m[f];if(9===S||10===S||13===S||32===S){++f;continue}if(37===S){do{if(++f,f>=c)break;S=m[f]}while(10!==S&&13!==S);continue}const s=P(m,f);let l;if(s.startsWith("xref")&&(4===s.length||/\s/.test(s[4])))f+=b(m,f,h),y.push(f),f+=b(m,f,n);else if(l=r.exec(s)){const A=0|l[1],k=0|l[2];this.entries[A]&&this.entries[A].gen!==k||(this.entries[A]={offset:f-v.start,gen:k,uncompressed:!0});let u,M=f+s.length;for(;M<m.length;){const N=M+b(m,M,a)+4;u=N-f;const X=Math.max(N-25,M),H=(0,t.bytesToString)(m.subarray(X,N));if(w.test(H))break;{const D=o.exec(H);if(D&&D[1]){(0,t.warn)('indexObjects: Found new "obj" inside of another "obj", caused by missing "endobj" -- trying to recover.'),u-=D[1].length;break}}M=N}const O=m.subarray(f,f+u),C=b(O,0,p);C<u&&O[C+5]<64&&(i.push(f-v.start),this.xrefstms[f-v.start]=1),f+=u}else s.startsWith("trailer")&&(7===s.length||/\s/.test(s[7]))?(y.push(f),f+=b(m,f,n)):f+=s.length+1}for(let S=0,s=i.length;S<s;++S)this.startXRefQueue.push(i[S]),this.readXRef(!0);let d;for(let S=0,s=y.length;S<s;++S){v.pos=y[S];const l=new R.Parser({lexer:new R.Lexer(v),xref:this,allowStreams:!0,recoveryMode:!0}),A=l.getObj();if(!(0,F.isCmd)(A,"trailer"))continue;const k=l.getObj();if((0,F.isDict)(k)){try{const u=k.get("Root");if(!(u instanceof F.Dict))continue;const M=u.get("Pages");if(!(M instanceof F.Dict))continue;const O=M.get("Count");if(!Number.isInteger(O))continue}catch{continue}if(k.has("ID"))return k;d=k}}if(d)return d;throw new t.InvalidPDFException("Invalid PDF structure.")}readXRef(P=!1){const b=this.stream,r=new Set;try{for(;this.startXRefQueue.length;){const w=this.startXRefQueue[0];if(r.has(w)){(0,t.warn)("readXRef - skipping XRef table since it was already parsed."),this.startXRefQueue.shift();continue}r.add(w),b.pos=w+b.start;const o=new R.Parser({lexer:new R.Lexer(b),xref:this,allowStreams:!0});let h,n=o.getObj();if((0,F.isCmd)(n,"xref")){if(h=this.processXRefTable(o),this.topDict||(this.topDict=h),n=h.get("XRefStm"),Number.isInteger(n)){const a=n;a in this.xrefstms||(this.xrefstms[a]=1,this.startXRefQueue.push(a))}}else{if(!Number.isInteger(n))throw new t.FormatError("Invalid XRef stream header");if(!Number.isInteger(o.getObj())||!(0,F.isCmd)(o.getObj(),"obj")||!(0,F.isStream)(n=o.getObj()))throw new t.FormatError("Invalid XRef stream");if(h=this.processXRefStream(n),this.topDict||(this.topDict=h),!h)throw new t.FormatError("Failed to read XRef stream")}n=h.get("Prev"),Number.isInteger(n)?this.startXRefQueue.push(n):(0,F.isRef)(n)&&this.startXRefQueue.push(n.num),this.startXRefQueue.shift()}return this.topDict}catch(w){if(w instanceof e.MissingDataException)throw w;(0,t.info)("(while reading XRef): "+w)}if(!P)throw new e.XRefParseException}getEntry(P){const b=this.entries[P];return b&&!b.free&&b.offset?b:null}fetchIfRef(P,b=!1){return P instanceof F.Ref?this.fetch(P,b):P}fetch(P,b=!1){if(!(P instanceof F.Ref))throw new Error("ref object is not a reference");const r=P.num,w=this._cacheMap.get(r);if(void 0!==w)return w instanceof F.Dict&&!w.objId&&(w.objId=P.toString()),w;let o=this.getEntry(r);return null===o?(this._cacheMap.set(r,o),o):(o=o.uncompressed?this.fetchUncompressed(P,o,b):this.fetchCompressed(P,o,b),(0,F.isDict)(o)?o.objId=P.toString():(0,F.isStream)(o)&&(o.dict.objId=P.toString()),o)}fetchUncompressed(P,b,r=!1){const w=P.gen;let o=P.num;if(b.gen!==w)throw new e.XRefEntryException(`Inconsistent generation in XRef: ${P}`);const h=this.stream.makeSubStream(b.offset+this.stream.start),n=new R.Parser({lexer:new R.Lexer(h),xref:this,allowStreams:!0}),a=n.getObj(),p=n.getObj(),v=n.getObj();if(a!==o||p!==w||!(v instanceof F.Cmd))throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${P}`);if("obj"!==v.cmd){if(v.cmd.startsWith("obj")&&(o=parseInt(v.cmd.substring(3),10),!Number.isNaN(o)))return o;throw new e.XRefEntryException(`Bad (uncompressed) XRef entry: ${P}`)}return b=this.encrypt&&!r?n.getObj(this.encrypt.createCipherTransform(o,w)):n.getObj(),(0,F.isStream)(b)||this._cacheMap.set(o,b),b}fetchCompressed(P,b,r=!1){const w=b.offset,o=this.fetch(F.Ref.get(w,0));if(!(0,F.isStream)(o))throw new t.FormatError("bad ObjStm stream");const h=o.dict.get("First"),n=o.dict.get("N");if(!Number.isInteger(h)||!Number.isInteger(n))throw new t.FormatError("invalid first and n parameters for ObjStm stream");let a=new R.Parser({lexer:new R.Lexer(o),xref:this,allowStreams:!0});const p=new Array(n),v=new Array(n);for(let f=0;f<n;++f){const y=a.getObj();if(!Number.isInteger(y))throw new t.FormatError(`invalid object number in the ObjStm stream: ${y}`);const i=a.getObj();if(!Number.isInteger(i))throw new t.FormatError(`invalid object offset in the ObjStm stream: ${i}`);p[f]=y,v[f]=i}const m=(o.start||0)+h,c=new Array(n);for(let f=0;f<n;++f){const y=f<n-1?v[f+1]-v[f]:void 0;if(y<0)throw new t.FormatError("Invalid offset in the ObjStm stream.");a=new R.Parser({lexer:new R.Lexer(o.makeSubStream(m+v[f],y,o.dict)),xref:this,allowStreams:!0});const i=a.getObj();if(c[f]=i,(0,F.isStream)(i))continue;const d=p[f],S=this.entries[d];S&&S.offset===w&&S.gen===f&&this._cacheMap.set(d,i)}if(void 0===(b=c[b.gen]))throw new e.XRefEntryException(`Bad (compressed) XRef entry: ${P}`);return b}async fetchIfRefAsync(P,b){return P instanceof F.Ref?this.fetchAsync(P,b):P}async fetchAsync(P,b){try{return this.fetch(P,b)}catch(r){if(!(r instanceof e.MissingDataException))throw r;return await this.pdfManager.requestRange(r.begin,r.end),this.fetchAsync(P,b)}}getCatalogObj(){return this.root}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.MessageHandler=void 0;var t=G(2);function h(n){if("object"!=typeof n||null===n)return n;switch(n.name){case"AbortException":return new t.AbortException(n.message);case"MissingPDFException":return new t.MissingPDFException(n.message);case"UnexpectedResponseException":return new t.UnexpectedResponseException(n.message,n.status);case"UnknownErrorException":return new t.UnknownErrorException(n.message,n.details);default:return new t.UnknownErrorException(n.message,n.toString())}}I.MessageHandler=class{constructor(a,p,v){this.sourceName=a,this.targetName=p,this.comObj=v,this.callbackId=1,this.streamId=1,this.postMessageTransfers=!0,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=m=>{const c=m.data;if(c.targetName!==this.sourceName)return;if(c.stream)return void this._processStreamMessage(c);if(c.callback){const y=c.callbackId,i=this.callbackCapabilities[y];if(!i)throw new Error(`Cannot resolve callback ${y}`);if(delete this.callbackCapabilities[y],1===c.callback)i.resolve(c.data);else{if(2!==c.callback)throw new Error("Unexpected callback case");i.reject(h(c.reason))}return}const f=this.actionHandler[c.action];if(!f)throw new Error(`Unknown action from worker: ${c.action}`);if(c.callbackId){const y=this.sourceName,i=c.sourceName;new Promise(function(d){d(f(c.data))}).then(function(d){v.postMessage({sourceName:y,targetName:i,callback:1,callbackId:c.callbackId,data:d})},function(d){v.postMessage({sourceName:y,targetName:i,callback:2,callbackId:c.callbackId,reason:h(d)})})}else c.streamId?this._createStreamSink(c):f(c.data)},v.addEventListener("message",this._onComObjOnMessage)}on(a,p){const v=this.actionHandler;if(v[a])throw new Error(`There is already an actionName called "${a}"`);v[a]=p}send(a,p,v){this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:p},v)}sendWithPromise(a,p,v){const m=this.callbackId++,c=(0,t.createPromiseCapability)();this.callbackCapabilities[m]=c;try{this._postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,callbackId:m,data:p},v)}catch(f){c.reject(f)}return c.promise}sendWithStream(a,p,v,m){const c=this.streamId++,f=this.sourceName,y=this.targetName,i=this.comObj;return new ReadableStream({start:d=>{const S=(0,t.createPromiseCapability)();return this.streamControllers[c]={controller:d,startCall:S,pullCall:null,cancelCall:null,isClosed:!1},this._postMessage({sourceName:f,targetName:y,action:a,streamId:c,data:p,desiredSize:d.desiredSize},m),S.promise},pull:d=>{const S=(0,t.createPromiseCapability)();return this.streamControllers[c].pullCall=S,i.postMessage({sourceName:f,targetName:y,stream:6,streamId:c,desiredSize:d.desiredSize}),S.promise},cancel:d=>{(0,t.assert)(d instanceof Error,"cancel must have a valid reason");const S=(0,t.createPromiseCapability)();return this.streamControllers[c].cancelCall=S,this.streamControllers[c].isClosed=!0,i.postMessage({sourceName:f,targetName:y,stream:1,streamId:c,reason:h(d)}),S.promise}},v)}_createStreamSink(a){const p=this,v=this.actionHandler[a.action],m=a.streamId,c=this.sourceName,f=a.sourceName,y=this.comObj,i={enqueue(d,S=1,s){if(this.isCancelled)return;const l=this.desiredSize;this.desiredSize-=S,l>0&&this.desiredSize<=0&&(this.sinkCapability=(0,t.createPromiseCapability)(),this.ready=this.sinkCapability.promise),p._postMessage({sourceName:c,targetName:f,stream:4,streamId:m,chunk:d},s)},close(){this.isCancelled||(this.isCancelled=!0,y.postMessage({sourceName:c,targetName:f,stream:3,streamId:m}),delete p.streamSinks[m])},error(d){(0,t.assert)(d instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,y.postMessage({sourceName:c,targetName:f,stream:5,streamId:m,reason:h(d)}))},sinkCapability:(0,t.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:a.desiredSize,ready:null};i.sinkCapability.resolve(),i.ready=i.sinkCapability.promise,this.streamSinks[m]=i,new Promise(function(d){d(v(a.data,i))}).then(function(){y.postMessage({sourceName:c,targetName:f,stream:8,streamId:m,success:!0})},function(d){y.postMessage({sourceName:c,targetName:f,stream:8,streamId:m,reason:h(d)})})}_processStreamMessage(a){const p=a.streamId,v=this.sourceName,m=a.sourceName,c=this.comObj;switch(a.stream){case 8:a.success?this.streamControllers[p].startCall.resolve():this.streamControllers[p].startCall.reject(h(a.reason));break;case 7:a.success?this.streamControllers[p].pullCall.resolve():this.streamControllers[p].pullCall.reject(h(a.reason));break;case 6:if(!this.streamSinks[p]){c.postMessage({sourceName:v,targetName:m,stream:7,streamId:p,success:!0});break}this.streamSinks[p].desiredSize<=0&&a.desiredSize>0&&this.streamSinks[p].sinkCapability.resolve(),this.streamSinks[p].desiredSize=a.desiredSize;const{onPull:f}=this.streamSinks[a.streamId];new Promise(function(i){i(f&&f())}).then(function(){c.postMessage({sourceName:v,targetName:m,stream:7,streamId:p,success:!0})},function(i){c.postMessage({sourceName:v,targetName:m,stream:7,streamId:p,reason:h(i)})});break;case 4:if((0,t.assert)(this.streamControllers[p],"enqueue should have stream controller"),this.streamControllers[p].isClosed)break;this.streamControllers[p].controller.enqueue(a.chunk);break;case 3:if((0,t.assert)(this.streamControllers[p],"close should have stream controller"),this.streamControllers[p].isClosed)break;this.streamControllers[p].isClosed=!0,this.streamControllers[p].controller.close(),this._deleteStreamController(p);break;case 5:(0,t.assert)(this.streamControllers[p],"error should have stream controller"),this.streamControllers[p].controller.error(h(a.reason)),this._deleteStreamController(p);break;case 2:a.success?this.streamControllers[p].cancelCall.resolve():this.streamControllers[p].cancelCall.reject(h(a.reason)),this._deleteStreamController(p);break;case 1:if(!this.streamSinks[p])break;const{onCancel:y}=this.streamSinks[a.streamId];new Promise(function(i){i(y&&y(h(a.reason)))}).then(function(){c.postMessage({sourceName:v,targetName:m,stream:2,streamId:p,success:!0})},function(i){c.postMessage({sourceName:v,targetName:m,stream:2,streamId:p,reason:h(i)})}),this.streamSinks[p].sinkCapability.reject(h(a.reason)),this.streamSinks[p].isCancelled=!0,delete this.streamSinks[p];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(a){await Promise.allSettled([this.streamControllers[a].startCall,this.streamControllers[a].pullCall,this.streamControllers[a].cancelCall].map(function(p){return p&&p.promise})),delete this.streamControllers[a]}_postMessage(a,p){p&&this.postMessageTransfers?this.comObj.postMessage(a,p):this.comObj.postMessage(a)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}},(ne,I,G)=>{Object.defineProperty(I,"__esModule",{value:!0}),I.PDFWorkerStream=void 0;var t=G(2);I.PDFWorkerStream=class{constructor(x){this._msgHandler=x,this._contentLength=null,this._fullRequestReader=null,this._rangeRequestReaders=[]}getFullReader(){return(0,t.assert)(!this._fullRequestReader,"PDFWorkerStream.getFullReader can only be called once."),this._fullRequestReader=new F(this._msgHandler),this._fullRequestReader}getRangeReader(x,L){const P=new R(x,L,this._msgHandler);return this._rangeRequestReaders.push(P),P}cancelAllRequests(x){this._fullRequestReader&&this._fullRequestReader.cancel(x);for(const L of this._rangeRequestReaders.slice(0))L.cancel(x)}};class F{constructor(x){this._msgHandler=x,this.onProgress=null,this._contentLength=null,this._isRangeSupported=!1,this._isStreamingSupported=!1;const L=this._msgHandler.sendWithStream("GetReader");this._reader=L.getReader(),this._headersReady=this._msgHandler.sendWithPromise("ReaderHeadersReady").then(P=>{this._isStreamingSupported=P.isStreamingSupported,this._isRangeSupported=P.isRangeSupported,this._contentLength=P.contentLength})}get headersReady(){return this._headersReady}get contentLength(){return this._contentLength}get isStreamingSupported(){return this._isStreamingSupported}get isRangeSupported(){return this._isRangeSupported}async read(){const{value:x,done:L}=await this._reader.read();return L?{value:void 0,done:!0}:{value:x.buffer,done:!1}}cancel(x){this._reader.cancel(x)}}class R{constructor(x,L,P){this._msgHandler=P,this.onProgress=null;const b=this._msgHandler.sendWithStream("GetRangeReader",{begin:x,end:L});this._reader=b.getReader()}get isStreamingSupported(){return!1}async read(){const{value:x,done:L}=await this._reader.read();return L?{value:void 0,done:!0}:{value:x.buffer,done:!1}}cancel(x){this._reader.cancel(x)}}}],ee={};function he(ne){var I=ee[ne];if(void 0!==I)return I.exports;var G=ee[ne]={exports:{}};return De[ne](G,G.exports,he),G.exports}he.d=(ne,I)=>{for(var G in I)he.o(I,G)&&!he.o(ne,G)&&Object.defineProperty(ne,G,{enumerable:!0,get:I[G]})},he.o=(ne,I)=>Object.prototype.hasOwnProperty.call(ne,I),he.r=ne=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(ne,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(ne,"__esModule",{value:!0})};var K={};return(()=>{var ne=K;Object.defineProperty(ne,"__esModule",{value:!0}),Object.defineProperty(ne,"WorkerMessageHandler",{enumerable:!0,get:function(){return I.WorkerMessageHandler}});var I=he(1)})(),K})()});