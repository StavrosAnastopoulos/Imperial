"use strict";(self.webpackChunkImperial=self.webpackChunkImperial||[]).push([[433],{8433:(F,c,s)=>{s.r(c),s.d(c,{EquipmentGenerationComponent:()=>T});var p=s(1488),m=s(6814),u=s(617),d=s(5900),e=s(5879),h=s(8618);let f=(()=>{class i{constructor(n){this._tableService=n,this.process=t=>{this._tableService.startSession(),t["S:Envelope"]?(t=(t=t["S:Envelope"]["S:Body"])[Object.keys(t)[1]].return,t=(0,d.T)(t["ns1:Dossier"])):t["ns2:Dossiers"]&&(t=(0,d.T)(t["ns2:Dossiers"]["ns2:Dossier"]));const o=t.Vehicle||{};try{this._tableService.addTable({title:"SeriesEquipment",rows:[{type:"header",persist:!0,cells:[{value:"Description"}]},...o.Equipment.SeriesEquipment.EquipmentPosition.map(l=>({type:"row",cells:[{value:l.Description}]}))]})}catch{console.log("could not read Series Equipment")}try{this._tableService.addTable({title:"SpecialEquipment",rows:[{type:"header",persist:!0,cells:[{value:"Description"}]},...o.Equipment.SeriesEquipment.EquipmentPosition.map(l=>({type:"row",cells:[{value:l.Description}]}))]})}catch{console.log("could not read Special Equipment")}return this._tableService.endSession()}}static#e=this.\u0275fac=function(t){return new(t||i)(e.LFG(h.L))};static#t=this.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac})}return i})();var v=s(2240),g=s(4493),x=s(2094);function Z(i,a){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"imp-table-info",10),e.qZA()),2&i){const n=a.$implicit;e.xp6(1),e.Q6J("data",n)}}function S(i,a){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"p",9),e.YNc(2,Z,2,1,"div",8),e.qZA()),2&i){const n=a.$implicit;e.xp6(2),e.Q6J("ngForOf",n)}}function q(i,a){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,S,3,1,"div",8),e.qZA()),2&i){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.data)}}const E=function(){return["/welcome"]};let T=(()=>{class i{constructor(n,t,o){this.ngxXml2jsonService=n,this._dataProcessing=t,this.cdr=o,this.fileName="No file chosen",this.dataProcessed=!1,this.fileSelected=!1,this.print=()=>window.print()}addFile(n){if(n&&n.target.files[0].name.toLowerCase().endsWith(".xml")){if(this.fileName=n.target.files[0].name,typeof FileReader<"u"){const t=new FileReader;t.onload=()=>{const r=(new DOMParser).parseFromString(t.result,"text/xml");this.data=this._dataProcessing.process(this.ngxXml2jsonService.xmlToJson(r)),this.dataProcessed=!0,this.cdr.markForCheck()},t.readAsText(n.target.files[0]),this.fileSelected=!0}}else this.fileName="Please select an XML file!"}static#e=this.\u0275fac=function(t){return new(t||i)(e.Y36(x.OZ),e.Y36(f),e.Y36(e.sBO))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["imp-equipment-generation"]],standalone:!0,features:[e._Bn([f]),e.jDz],decls:15,vars:4,consts:[[1,"container"],[1,"flex","row","tool-bar","hide-print"],[1,"mr-auto",3,"routerLink"],["type","file","id","xmlFile","accept",".xml",1,"inputFile",3,"change"],["for","xmlFile",1,"flex","row"],[1,"flex","column","sp-around","label-info",3,"innerHtml"],[1,"mr-auto",3,"click"],[4,"ngIf"],[4,"ngFor","ngForOf"],[2,"page-break-before","always"],[3,"data"]],template:function(t,o){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-icon"),e._uU(4,"first_page"),e.qZA()(),e.TgZ(5,"input",3),e.NdJ("change",function(l){return o.addFile(l)}),e.qZA(),e.TgZ(6,"label",4)(7,"mat-icon"),e._uU(8,"note_add"),e.qZA(),e._UZ(9,"div",5),e.qZA(),e._UZ(10,"imp-lang-picker"),e.TgZ(11,"div",6),e.NdJ("click",function(){return o.print()}),e.TgZ(12,"mat-icon"),e._uU(13,"print"),e.qZA()()(),e.YNc(14,q,2,1,"div",7),e.qZA()),2&t&&(e.xp6(2),e.Q6J("routerLink",e.DdM(3,E)),e.xp6(7),e.Q6J("innerHtml",o.fileName,e.oJD),e.xp6(5),e.Q6J("ngIf",o.dataProcessed))},dependencies:[m.O5,m.ax,p.Bz,p.rH,u.Ps,u.Hw,v.K,g._],encapsulation:2,changeDetection:0})}return i})()}}]);